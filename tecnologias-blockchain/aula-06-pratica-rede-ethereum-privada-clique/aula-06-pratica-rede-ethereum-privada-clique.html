<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>6&nbsp; Prática: Criando uma Rede Ethereum Privada: Clique – Tecnologias Blockchain e suas Aplicações</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../aula-07-pratica-simulador-ganache-metamask/aula-07-pratica-simulador-ganache-metamask.html" rel="next">
<link href="../aula-05-pratica-rede-ethereum-privada-ethash/aula-05-pratica-rede-ethereum-privada-ethash.html" rel="prev">
<link href="../images/logo.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark-707d8167ce6003fca903bfe2be84ab7f.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-888a994573c04143e2a6089a1c6b7523.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark-9c15c3a5755bd8aa5242770252b660f1.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../site_libs/bootstrap/bootstrap-888a994573c04143e2a6089a1c6b7523.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../aula-06-pratica-rede-ethereum-privada-clique/aula-06-pratica-rede-ethereum-privada-clique.html"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Prática: Criando uma Rede Ethereum Privada: <code>Clique</code></span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="../index.html" class="sidebar-logo-link">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Tecnologias Blockchain e suas Aplicações</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/rogerioag/tecnologias-blockchain" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Share" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label="Share"><i class="bi bi-share"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=|url|">
              <i class="bi bi-twitter pe-1"></i>
            Twitter
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.facebook.com/sharer/sharer.php?u=|url|">
              <i class="bi bi-facebook pe-1"></i>
            Facebook
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.linkedin.com/sharing/share-offsite/?url=|url|">
              <i class="bi bi-linkedin pe-1"></i>
            LinkedIn
            </a>
          </li>
      </ul>
    </div>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bem-vindo</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../aula-01-introducao-visao-geral/aula-01-introducao-visao-geral.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introdução às Tecnologias Blockchain</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../aula-02-visao-geral-ethereum/aula-02-visao-geral-ethereum.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Aula 02 - Ethereum</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../aula-03-pratica-ethereum-virtual-machine/aula-03-pratica-ethereum-virtual-machine.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Prática: Explorando a <em>Ethereum Virtual Machine (EVM)</em></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../aula-04-pratica-instalando-cliente-ethereum/aula-04-pratica-instalando-cliente-ethereum.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Prática: Instalando o Cliente Ethereum</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../aula-05-pratica-rede-ethereum-privada-ethash/aula-05-pratica-rede-ethereum-privada-ethash.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Prática: Criando uma Rede Ethereum Privada: <code>Ethash</code></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../aula-06-pratica-rede-ethereum-privada-clique/aula-06-pratica-rede-ethereum-privada-clique.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Prática: Criando uma Rede Ethereum Privada: <code>Clique</code></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../aula-07-pratica-simulador-ganache-metamask/aula-07-pratica-simulador-ganache-metamask.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Prática: Simulando uma Rede Ethereum Local: Ganache e o Metamask</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../aula-08-pratica-estudo-sobre-solidity-solc/aula-08-pratica-estudo-sobre-solidity-solc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Prática sobre Ferramentas de Desenvolvimento e Frameworks <em>Ethereum</em>: Estudo sobre <code>Solidity</code> e <code>solc</code></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../aula-09-pratica-ethereum-introducao-ao-web3/aula-09-pratica-ethereum-introducao-ao-web3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Prática sobre Ferramentas de Desenvolvimento e Frameworks Ethereum: Introdução ao Web3</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../aula-10-pratica-ethereum-test-and-deploy-truffle/aula-10-pratica-ethereum-test-and-deploy-truffle.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Prática sobre Ferramentas de Desenvolvimento e <em>Frameworks</em> Ethereum: Introdução aos Testes e <em>Deploy</em> com <code>Truffle</code></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../aula-11-pratica-instalando-explorer-local/aula-11-pratica-instalando-explorer-local.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Prática sobre Instalação de <em>Block Explorers</em> Locais para as Redes de Testes</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../aula-12-pratica-ethereum-test-and-deploy-hardhat/aula-12-pratica-ethereum-test-and-deploy-hardhat.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Prática sobre Ferramentas de Desenvolvimento e Frameworks Ethereum: Testes e <em>Deploy</em> de Contratos com <code>Hardhat</code></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../aula-13-pratica-implementacao-patentidea-app/aula-13-pratica-implementacao-patentidea-app.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Prática sobre Ferramentas de Desenvolvimento e Frameworks <em>Ethereum</em>: <em>Implementação de Aplicações</em></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../aula-14-pratica-ethereum-introducao-tokenizacao/aula-14-pratica-ethereum-introducao-tokenizacao.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Prática sobre Tokenização: <em>Introdução à Tokenização</em></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../aula-15-pratica-hyperledger-besu/aula-15-pratica-hyperledger-besu.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Prática sobre Hyperledger: <em>Introdução ao Besu</em></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../aula-16-pratica-hyperledger-fabric/aula-16-pratica-hyperledger-fabric.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Prática sobre Hyperledger: <em>Introdução ao Fabric</em></span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Sumário</h2>
   
  <ul>
  <li><a href="#introdução" id="toc-introdução" class="nav-link active" data-scroll-target="#introdução"><span class="header-section-number">6.1</span> Introdução</a></li>
  <li><a href="#ferramentas-e-versões" id="toc-ferramentas-e-versões" class="nav-link" data-scroll-target="#ferramentas-e-versões"><span class="header-section-number">6.2</span> Ferramentas e Versões</a></li>
  <li><a href="#criando-uma-rede-privada-local" id="toc-criando-uma-rede-privada-local" class="nav-link" data-scroll-target="#criando-uma-rede-privada-local"><span class="header-section-number">6.3</span> Criando uma Rede Privada Local</a></li>
  <li><a href="#executando-a-nova-rede" id="toc-executando-a-nova-rede" class="nav-link" data-scroll-target="#executando-a-nova-rede"><span class="header-section-number">6.4</span> Executando a nova Rede</a></li>
  <li><a href="#interagindo-com-a-nova-rede" id="toc-interagindo-com-a-nova-rede" class="nav-link" data-scroll-target="#interagindo-com-a-nova-rede"><span class="header-section-number">6.5</span> Interagindo com a Nova Rede</a></li>
  <li><a href="#verificando-quem-são-os-signers" id="toc-verificando-quem-são-os-signers" class="nav-link" data-scroll-target="#verificando-quem-são-os-signers"><span class="header-section-number">6.6</span> Verificando quem são os <em>Signers</em></a></li>
  <li><a href="#sec:criando:contas" id="toc-sec:criando:contas" class="nav-link" data-scroll-target="#sec\:criando\:contas"><span class="header-section-number">6.7</span> Criando contas na Nova Rede</a></li>
  <li><a href="#informações-do-nó" id="toc-informações-do-nó" class="nav-link" data-scroll-target="#informações-do-nó"><span class="header-section-number">6.8</span> Informações do Nó</a></li>
  <li><a href="#verificando-o-saldo-das-contas" id="toc-verificando-o-saldo-das-contas" class="nav-link" data-scroll-target="#verificando-o-saldo-das-contas"><span class="header-section-number">6.9</span> Verificando o Saldo das Contas</a></li>
  <li><a href="#transferências-entre-as-carteiras" id="toc-transferências-entre-as-carteiras" class="nav-link" data-scroll-target="#transferências-entre-as-carteiras"><span class="header-section-number">6.10</span> Transferências entre as Carteiras</a></li>
  <li><a href="#configurando-um-segundo-node" id="toc-configurando-um-segundo-node" class="nav-link" data-scroll-target="#configurando-um-segundo-node"><span class="header-section-number">6.11</span> Configurando um Segundo Node</a></li>
  <li><a href="#comandos-finais" id="toc-comandos-finais" class="nav-link" data-scroll-target="#comandos-finais"><span class="header-section-number">6.12</span> Comandos Finais</a></li>
  <li><a href="#leitura-recomendada" id="toc-leitura-recomendada" class="nav-link" data-scroll-target="#leitura-recomendada"><span class="header-section-number">6.13</span> Leitura Recomendada</a></li>
  <li><a href="#referências" id="toc-referências" class="nav-link" data-scroll-target="#referências"><span class="header-section-number">7</span> Referências</a></li>
  <li><a href="#word-cloud" id="toc-word-cloud" class="nav-link" data-scroll-target="#word-cloud"><span class="header-section-number">8</span> <em>Word Cloud</em></a>
  <ul class="collapse">
  <li><a href="#referências-1" id="toc-referências-1" class="nav-link" data-scroll-target="#referências-1"><span class="header-section-number">8.1</span> Referências</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/rogerioag/tecnologias-blockchain/edit/master/aula-06-pratica-rede-ethereum-privada-clique/aula-06-pratica-rede-ethereum-privada-clique.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">


<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Prática: Criando uma Rede Ethereum Privada: <code>Clique</code></span></h1>
<p class="subtitle lead">Clique</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  
<div>
  <div class="abstract">
    <div class="block-title">Resumo</div>
    Esta prática apresenta os passos para criarmos uma Rede Ethereum Privada Local que utilize o algoritmo de consenso <code>clique</code> que é um algoritmo de consenso baseado em reputação, <em>Proof-of-Authority</em> (PoA). Fornecemos um <em>genesis block</em> para inicializar a rede com as características desejadas e depois podemos executá-la para efeitos de testes de desenvolvimento ou se desejarmos ter um Rede privada funcionando.
  </div>
</div>


</header>


<section id="introdução" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="introdução"><span class="header-section-number">6.1</span> Introdução</h2>
<p>Podemos criar uma rede privada local utilizando o algoritmo de consenso <a href="https://eips.ethereum.org/EIPS/eip-225"><code>clique</code></a> que é do tipo <em>Proof-of-Authority</em> <a href="https://ethereum.org/en/developers/docs/consensus-mechanisms/poa/">(PoA)</a>.</p>
<p><em>Proof-of-Authority</em> é uma versão modificado do <em>Proof-of-Stake</em> (PoS) que é um algoritmo de consenso baseado em reputação em vez de um mecanismo baseado em aposta do <code>PoS</code>. O termo foi introduzido em 2017 por Gavin Wood, e este algoritmo de consenso tem sido usado em redes privadas, <em>testnets</em> e redes de desenvolvimento locais, pois supera a necessidade de recursos de alta qualidade como o <code>PoW</code> e resolve os problemas de escalabilidade com o <code>PoS</code> ao ter um pequeno subconjunto de nós armazenando o <em>blockchain</em> e produzindo blocos.</p>
<p>A <em>Proof-of-Authority</em> requer a confiança em um conjunto de assinantes autorizados definidos. Na maioria das implementações atuais, todos os assinantes autorizados mantêm poderes e privilégios iguais ao determinar o consenso da cadeia. A ideia por trás do <em>staking</em> de reputação é que todo validador autorizado seja bem conhecido de todos por meio de coisas como conheça seu cliente (KYC) ou por ter uma organização bem conhecida como o único validador - dessa forma, se um validador fizer algo errado, sua identidade será conhecida.</p>
<!-- 
Clique consensus is a PoA system where new blocks can be created by authorized 'signers' only. The clique consensus protocol is specified in EIP-225. The initial set of authorized signers is configured in the genesis block. Signers can be authorized and de-authorized using a voting mechanism, thus allowing the set of signers to change while the blockchain operates. Clique can be configured to target any block time (within reasonable limits) since it isn't tied to the difficulty adjustment.
-->
<p>A rede <code>Ethereum</code> iniciou usando um mecanismo de consenso que envolve <strong><a href="https://ethereum.org/en/developers/docs/consensus-mechanisms/pow/">Proof-of-work (PoW)</a></strong>. Entretanto, <em>Ethereum</em> depreciou o uso de <code>Proof-of-Work</code> em <span class="math inline">\(2022\)</span> e iniciou o uso de <a href="https://ethereum.org/en/developers/docs/consensus-mechanisms/pos/">Proof-of-Stake</a>. Leia mais em <a href="https://ethereum.org/en/developers/docs/consensus-mechanisms/pos/">Proof-of-Stake</a> e <a href="https://ethereum.org/en/staking/">staking</a>.</p>
</section>
<section id="ferramentas-e-versões" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="ferramentas-e-versões"><span class="header-section-number">6.2</span> Ferramentas e Versões</h2>
<p>Para utilizarmos o algoritmo de consenso <em>Proof-of-Authority</em> <a href="https://ethereum.org/en/developers/docs/consensus-mechanisms/poa/">(PoA)</a>, o <a href="https://eips.ethereum.org/EIPS/eip-225"><code>clique</code></a>. Para isso é necessário instalarmos o <code>geth</code> na versão <code>1.12.2</code>, pois desde a versão <code>v1.14</code> o <code>clique</code> foi depreciado. No <em>link</em> <a href="https://github.com/ethereum/go-ethereum/releases" class="uri">https://github.com/ethereum/go-ethereum/releases</a> temos todas as versões, a versão <a href="https://github.com/ethereum/go-ethereum/releases/tag/v1.12.2"><code>Mawinor (v1.12.2)</code></a>.</p>
<p>Antes de baixarmos os fontes do <code>geth</code> da versão <code>1.12</code> precisaremos instalar o <code>go</code>. Para compilar os fontes do <code>geth</code> é necessário ter o <code>go</code> versão <code>1.21.1</code> instalado. Pode ser instalado o pacote do sistema (<code>golang-go</code> no Ubuntu ou <code>go</code> no Manjaro) ou baixando os binários de <a href="https://go.dev/doc/install"><code>golang</code></a>, <code>go</code> versão <a href="https://go.dev/dl/go1.21.1.linux-amd64.tar.gz"><code>1.21.1</code></a>.</p>
<p>Se a versão do sistema não for a <code>1.21.*</code>:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> go version</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="ex">go</span> version go1.21.0 linux/amd64</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Será necessário baixar e instalar a partir dos binários:</p>
<ol type="1">
<li><strong>Remova a instalação prévia do Go</strong> deletando o diretório <code>/usr/local/go1.21.1</code>, se existir, então extraia o arquivo baixado dentro do diretório <code>/usr/local</code>, criando uma subárvore em <code>/usr/local/go1.21.1</code> ou caso não tenha permissão, crie dentro da pasta <code>home</code> do seu usuário:</li>
</ol>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb2"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> cd /usr/local</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> wget https://go.dev/dl/go1.21.1.linux-amd64.tar.gz</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> rm <span class="at">-rf</span> /usr/local/go1.21.1 <span class="kw">&amp;&amp;</span> <span class="fu">tar</span> <span class="at">-C</span> /usr/local <span class="at">-xzf</span> go1.21.1.linux-amd64.tar.gz <span class="kw">&amp;&amp;</span> <span class="fu">mv</span> go go1.21.1</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ln <span class="at">-s</span> go1.21.1 go</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>​(Você pode precisar executar o comando como <code>root</code> ou usando o <code>sudo</code>).</p>
<p>​<strong>Não</strong> descompactar o arquivo dentro de uma subárvore <code>/usr/local/go</code> existente. Isso pode produzir instalações <code>Go</code> quebradas.</p>
<p>​2. Adicione <code>/usr/local/go/bin</code> para a variável de ambiente <code>PATH</code>. Você pode fazer isso adicionando a linha de comando para o seu <code>$HOME/.profile</code> ou <code>/etc/profile</code> (para uma instalação ampla no sistema):</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb3"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">PATH</span><span class="op">=</span>/usr/local/go/bin:<span class="va">$PATH</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><strong>Nota:</strong> Mudanças feitas no arquivo de <em>profile</em> podem não ser aplicadas até a próxima vez que você fizer login no computador. Para aplicar as mudanças imediatamente, execute os comandos diretamente em um terminal ou execute eles do profile usando o comando <code>source $HOME/.profile</code>.</p>
<p>​3. Verifique que a versão correta do <code>Go</code> foi instalada:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb4"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> go version          </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<ol start="4" type="1">
<li>Confirme que o comando imprime a versão do <code>Go</code> instalado.</li>
</ol>
<p>Para instalarmos o <code>geth</code> a partir do repositório a versão <a href="https://github.com/ethereum/go-ethereum/releases/tag/v1.12.2"><code>Mawinor (v1.12.2)</code></a>, basta acessarmos o repositório do <code>Github</code> e baixar na pasta do seu usuário:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb5"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> git clone <span class="at">-b</span> <span class="st">'v1.12.2'</span> <span class="at">--single-branch</span> <span class="at">--depth</span> 1 https://github.com/ethereum/go-ethereum.git go-ethereum-1.12.2</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> cd go-ethereum-1.12.2</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="ex">[go-ethereum-1.12.2]$</span> make all</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Após a compilação os binários estarão disponíveis no diretório <code>go-ethereum-1.12.2/build/bin</code>:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb6"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[go-ethereum-1.12.2]$</span> ls build/bin</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="ex">abidump</span>  abigen  bootnode  clef  devp2p  ethkey  evm  faucet  geth  p2psim  rlpdump</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="ex">[go-ethereum-1.12.2]$</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Sendo necessário considerar esse caminho dos binários para acessar os executáveis da versão correta nesta prática: <code>$HOME/go-ethereum-1.12.2/build/bin</code>.</p>
</section>
<section id="criando-uma-rede-privada-local" class="level2" data-number="6.3">
<h2 data-number="6.3" class="anchored" data-anchor-id="criando-uma-rede-privada-local"><span class="header-section-number">6.3</span> Criando uma Rede Privada Local</h2>
<p>Na prática <a href="https://moodle.utfpr.edu.br/mod/url/view.php?id=1954500"><code>Aula 05: Criando uma Rede Ethereum Privada - Ethash</code></a> criamos uma rede privada que utiliza o algoritmo de consenso <code>ethash</code>.</p>
<p>Na versão <code>1.12.2</code> do <code>geth</code> não suporta algoritmo de consenso <code>ethash</code>, utiliza o <code>clique</code>. Sigamos os passos semelhantes aos da prática anterior para que entendam a diferença.</p>
<p>Para a criação de uma nova Rede Privada Local é necessário fazermos algumas configuraçãos. Precisamos criar um diretório <code>mkdir ~/.etherprivate-clique</code> para ser a base de armazenamento da nova rede. As configurações iniciais devem ser fornecidas em um <em>genesis file</em>. Então criamos o arquivo <code>privategenesis.json</code> em <code>~/.etherprivate-clique</code>.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span><span class="bigger120">Passos</span>
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li>Criar um diretório <code>mkdir ~/.etherprivate-clique</code></li>
<li>Criar um arquivo <code>privategenesis.json</code> em <code>~/.etherprivate-clique</code>.</li>
</ol>
</div>
</div>
<p>O conteúdo do arquivo <code>privategenesis.json</code> deve ser o listado no <a href="#lst-privategenesis" class="quarto-xref">Código&nbsp;<span>6.I</span></a>.</p>
<div id="lst-privategenesis" class="json listing quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-lst figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-privategenesis-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Listing&nbsp;6.I: Genesis File
</figcaption>
<div aria-describedby="lst-privategenesis-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb7"><pre class="sourceCode json code-with-copy"><code class="sourceCode json"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">"config"</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"chainId"</span><span class="fu">:</span> <span class="dv">786</span><span class="fu">,</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"homesteadBlock"</span><span class="fu">:</span> <span class="dv">0</span><span class="fu">,</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"eip150Block"</span><span class="fu">:</span> <span class="dv">0</span><span class="fu">,</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"eip155Block"</span><span class="fu">:</span> <span class="dv">0</span><span class="fu">,</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"eip158Block"</span><span class="fu">:</span> <span class="dv">0</span><span class="fu">,</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"byzantiumBlock"</span><span class="fu">:</span> <span class="dv">0</span><span class="fu">,</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"constantinopleBlock"</span><span class="fu">:</span> <span class="dv">0</span><span class="fu">,</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"petersburgBlock"</span><span class="fu">:</span> <span class="dv">0</span><span class="fu">,</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"istanbulBlock"</span><span class="fu">:</span> <span class="dv">0</span><span class="fu">,</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"berlinBlock"</span><span class="fu">:</span> <span class="dv">0</span><span class="fu">,</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"ethash"</span><span class="fu">:</span> <span class="fu">{}</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">},</span>  </span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>  <span class="dt">"nonce"</span><span class="fu">:</span> <span class="st">"0x0000000000000042"</span><span class="fu">,</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>  <span class="dt">"timestamp"</span><span class="fu">:</span> <span class="st">"0x00"</span><span class="fu">,</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>  <span class="dt">"parentHash"</span><span class="fu">:</span> <span class="st">"0x0000000000000000000000000000000000000000000000000000000000000000"</span><span class="fu">,</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>  <span class="dt">"extraData"</span><span class="fu">:</span> <span class="st">"0x00"</span><span class="fu">,</span></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>  <span class="dt">"gasLimit"</span><span class="fu">:</span> <span class="st">"0x8000000"</span><span class="fu">,</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>  <span class="dt">"difficulty"</span><span class="fu">:</span> <span class="st">"0x0400"</span><span class="fu">,</span></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>  <span class="dt">"mixhash"</span><span class="fu">:</span> <span class="st">"0x0000000000000000000000000000000000000000000000000000000000000000"</span><span class="fu">,</span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>  <span class="dt">"coinbase"</span><span class="fu">:</span> <span class="st">"0x3333333333333333333333333333333333333333"</span><span class="fu">,</span></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>  <span class="dt">"alloc"</span><span class="fu">:</span> <span class="fu">{}</span></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</figure>
</div>
<p>Utilizando as configurações fornecidas no <a href="#lst-privategenesis" class="quarto-xref">Código&nbsp;<span>6.I</span></a> a rede será criada sem nenhum usuário, o <code>"alloc": {}</code> vazio indica isso. Será possível criar posteriormente conforme descrito na (Seção <a href="../aula-05-pratica-rede-ethereum-privada-ethash/aula-05-pratica-rede-ethereum-privada-ethash.html#sec-criando:contas" class="quarto-xref"><span>Section 5.6</span></a>). <!--[Seção@#sec:criando:contas].--></p>
<p>Uma outra forma de estabelecer a configuração inicial da rede com contas com valores alocados, é criando o usuário antes de inicializar a rede com as configurações do <em>Genesis File</em>, conforme o <a href="#lst-criando:usuarios" class="quarto-xref">Código&nbsp;<span>6.II</span></a>.</p>
<div id="lst-criando:usuarios" class="bash listing quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-lst figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-criando:usuarios-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Listing&nbsp;6.II: Criando Usuário para iniciar a rede
</figcaption>
<div aria-describedby="lst-criando:usuarios-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb8"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[~/.etherprivate-clique]$</span> <span class="va">$HOME</span>/go-ethereum-1.12.2/build/bin/geth <span class="at">--networkid</span> 786 <span class="at">--datadir</span> ~/.etherprivate-clique/ account new</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">14:57:14.536]</span> Maximum peer count                       ETH=50 LES=0 total=50</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">14:57:14.537]</span> Smartcard socket not found, disabling    err=<span class="st">"stat /run/pcscd/pcscd.comm: no such file or directory"</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="ex">Your</span> new account is locked with a password. Please give a password. Do not forget this password.</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="ex">Password:</span> </span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="ex">Repeat</span> password: </span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="ex">Your</span> new key was generated</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="ex">Public</span> address of the key:   0xBb36F26E6C16B3C7ED3D70bFB26F740336B4F976</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="ex">Path</span> of the secret key file: /home/rag/.etherprivate-clique/keystore/UTC--2024-09-17T17-57-24.818641852Z-- bb36f26e6c16b3c7ed3d70bfb26f740336b4f976</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span> You can share your public address with anyone. Others need it to interact with you.</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span> You must NEVER share the secret key with anyone! The key controls access to your funds!</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span> You must BACKUP your key file! Without the key, it<span class="st">'s impossible to access account funds!</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a><span class="st">- You must REMEMBER your password! Without the password, it'</span>s impossible to decrypt the key!</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a><span class="ex">[~/.etherprivate-clique]$</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</figure>
</div>
<p>Com um <code>id</code> da conta criada (<code>0xBb36F26E6C16B3C7ED3D70bFB26F740336B4F976</code>) ou com <code>ids</code> de contas existentes (<code>0x2db017e44b03b37755a4b15e14cd799f83de4c13</code>) é possível completarmos algumas informações para inicializar a nova rede. Altere o conteúdo do arquivo <code>privategenesis.json</code> tal como listado no <a href="#lst-privategenesis2" class="quarto-xref">Código&nbsp;<span>6.III</span></a>.</p>
<div id="lst-privategenesis2" class="json listing quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-lst figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-privategenesis2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Listing&nbsp;6.III: Genesis File Atualizado
</figcaption>
<div aria-describedby="lst-privategenesis2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb9"><pre class="sourceCode json code-with-copy"><code class="sourceCode json"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">"config"</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"chainId"</span><span class="fu">:</span> <span class="dv">786</span><span class="fu">,</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"homesteadBlock"</span><span class="fu">:</span> <span class="dv">0</span><span class="fu">,</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"eip150Block"</span><span class="fu">:</span> <span class="dv">0</span><span class="fu">,</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"eip155Block"</span><span class="fu">:</span> <span class="dv">0</span><span class="fu">,</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"eip158Block"</span><span class="fu">:</span> <span class="dv">0</span><span class="fu">,</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"byzantiumBlock"</span><span class="fu">:</span> <span class="dv">0</span><span class="fu">,</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"constantinopleBlock"</span><span class="fu">:</span> <span class="dv">0</span><span class="fu">,</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"petersburgBlock"</span><span class="fu">:</span> <span class="dv">0</span><span class="fu">,</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"istanbulBlock"</span><span class="fu">:</span> <span class="dv">0</span><span class="fu">,</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"berlinBlock"</span><span class="fu">:</span> <span class="dv">0</span><span class="fu">,</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"ethash"</span><span class="fu">:</span> <span class="fu">{}</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">},</span>  </span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>  <span class="dt">"nonce"</span><span class="fu">:</span> <span class="st">"0x0000000000000042"</span><span class="fu">,</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>  <span class="dt">"timestamp"</span><span class="fu">:</span> <span class="st">"0x00"</span><span class="fu">,</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>  <span class="dt">"parentHash"</span><span class="fu">:</span> <span class="st">"0x0000000000000000000000000000000000000000000000000000000000000000"</span><span class="fu">,</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>  <span class="dt">"extraData"</span><span class="fu">:</span> <span class="st">"0x00"</span><span class="fu">,</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>  <span class="dt">"gasLimit"</span><span class="fu">:</span> <span class="st">"0x8000000"</span><span class="fu">,</span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>  <span class="dt">"difficulty"</span><span class="fu">:</span> <span class="st">"0x0400"</span><span class="fu">,</span></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>  <span class="dt">"mixhash"</span><span class="fu">:</span> <span class="st">"0x0000000000000000000000000000000000000000000000000000000000000000"</span><span class="fu">,</span></span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>  <span class="dt">"coinbase"</span><span class="fu">:</span> <span class="st">"0x2db017e44b03b37755a4b15e14cd799f83de4c13"</span><span class="fu">,</span></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>  <span class="dt">"alloc"</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"2db017e44b03b37755a4b15e14cd799f83de4c13"</span><span class="fu">:</span> <span class="fu">{</span> <span class="dt">"balance"</span><span class="fu">:</span> <span class="st">"300000"</span> <span class="fu">},</span></span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"bb36f26e6c16b3c7ed3d70bfb26f740336b4f976"</span><span class="fu">:</span> <span class="fu">{</span> <span class="dt">"balance"</span><span class="fu">:</span> <span class="st">"400000"</span> <span class="fu">}</span></span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">}</span></span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</figure>
</div>
<p>Após a configuração inicial no <em>Genesis File</em>, o <code>geth</code> é utilizado para a criação e inicialização da nova Rede sendo executado com os parâmetros <code>--datadir</code>, indicando o diretório onde os dados da nova rede serão armazenados e com o <code>init</code> indicando o caminho para o <em>Genesis File</em>, conforme <a href="../aula-05-pratica-rede-ethereum-privada-ethash/aula-05-pratica-rede-ethereum-privada-ethash.html#lst-init:etherprivate" class="quarto-xref">Código&nbsp;<span>5.IV</span></a>.</p>
<p><code>{#@lst-init:etherprivate .bash lst-cap="Inicialização da Rede Privada Local"} [.etherprivate-clique]$ $HOME/go-ethereum-1.12.2/build/bin/geth --networkid 786 --identity "RAGEtherPrivate" --datadir ~/.etherprivate-clique init ~/.etherprivate-clique/privategenesis.json INFO [09-17|15:02:06.958] Maximum peer count                       ETH=50 LES=0 total=50 INFO [09-17|15:02:06.959] Smartcard socket not found, disabling    err="stat /run/pcscd/pcscd.comm: no such file or directory" INFO [09-17|15:02:06.962] Set global gas cap                       cap=50,000,000 INFO [09-17|15:02:06.962] Initializing the KZG library             backend=gokzg INFO [09-17|15:02:06.987] Defaulting to pebble as the backing database  INFO [09-17|15:02:06.987] Allocated cache and file handles         database=/home/rag/.etherprivate-clique/geth/chaindata cache=16.00MiB handles=16 INFO [09-17|15:02:07.010] Opened ancient database                  database=/home/rag/.etherprivate-clique/geth/chaindata/ancient/chain readonly=false INFO [09-17|15:02:07.010] Writing custom genesis block  INFO [09-17|15:02:07.011] Persisted trie from memory database      nodes=1 size=143.00B time="700.524us" gcnodes=0 gcsize=0.00B gctime=0s livenodes=0 livesize=0.00B INFO [09-17|15:02:07.019] Successfully wrote genesis state         database=chaindata hash=c4bd3f..d74cb0 INFO [09-17|15:02:07.019] Defaulting to pebble as the backing database  INFO [09-17|15:02:07.019] Allocated cache and file handles         database=/home/rag/.etherprivate-clique/geth/lightchaindata cache=16.00MiB handles=16 INFO [09-17|15:02:07.032] Opened ancient database                  database=/home/rag/.etherprivate-clique/geth/lightchaindata/ancient/chain readonly=false INFO [09-17|15:02:07.032] Writing custom genesis block  INFO [09-17|15:02:07.032] Persisted trie from memory database      nodes=1 size=143.00B time="668.676us" gcnodes=0 gcsize=0.00B gctime=0s livenodes=0 livesize=0.00B INFO [09-17|15:02:07.041] Successfully wrote genesis state         database=lightchaindata hash=c4bd3f..d74cb0 [.etherprivate-clique]$ ls geth  keystore  privategenesis.json [.etherprivate-clique]$</code></p>
<p>Ao tentar executar o <code>geth</code> na versão <code>1.12.2</code> com o algoritmo de consenso <code>ethash</code> conforme o <a href="#lst-run:etherprivate" class="quarto-xref">Código&nbsp;<span>6.IV</span></a>, ocorre uma mensagem de erro.</p>
<div id="lst-run:etherprivate" class="bash listing quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-lst figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-run:etherprivate-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Listing&nbsp;6.IV: Execução da Rede Privada Local
</figcaption>
<div aria-describedby="lst-run:etherprivate-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb10"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[.etherprivate-clique]$</span> <span class="va">$HOME</span>/go-ethereum-1.12.2/build/bin/geth <span class="at">--networkid</span> 786 <span class="at">--identity</span> <span class="st">"RAGEtherPrivate"</span> <span class="at">--datadir</span> ~/.etherprivate-clique</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="ex">[.etherprivate-clique]$</span> <span class="va">$HOME</span>/go-ethereum-1.12.2/build/bin/geth <span class="at">--networkid</span> 786 <span class="at">--identity</span> <span class="st">"RAGEtherPrivate"</span> <span class="at">--datadir</span> ~/.etherprivate-clique</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:07:36.179]</span> Maximum peer count                       ETH=50 LES=0 total=50</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:07:36.180]</span> Smartcard socket not found, disabling    err=<span class="st">"stat /run/pcscd/pcscd.comm: no such file or directory"</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:07:36.182]</span> Set global gas cap                       cap=50,000,000</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:07:36.182]</span> Initializing the KZG library             backend=gokzg</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:07:36.212]</span> Allocated trie memory caches             clean=154.00MiB dirty=256.00MiB</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:07:36.212]</span> Using pebble as the backing database </span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:07:36.212]</span> Allocated cache and file handles         database=/home/rag/.etherprivate-clique/geth/chaindata cache=512.00MiB handles=262,144</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:07:36.229]</span> Opened ancient database                  database=/home/rag/.etherprivate-clique/geth/chaindata/ancient/chain readonly=false</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="ex">Fatal:</span> Failed to register the Ethereum service: ethash is only supported as a historical component of already merged networks</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="ex">[.etherprivate-clique]$</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</figure>
</div>
<p>No terminal de execução do <code>geth</code> aparece o erro:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb11"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="ex">Fatal:</span> Failed to register the Ethereum service: ethash is only supported as a historical component of already merged networks</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>A mensagem de erro é sobre o encerramento do suporte ao algoritmo de consenso <code>ethash</code> que é da categoria <code>Proof-of-Work</code>. Procurando pela mensagem de erro encontramos uma resposta no <a href="https://ethereum.stackexchange.com/questions/150714/fatal-failed-to-register-the-ethereum-service-ethash-is-only-supported-as-a-hi">link</a>.</p>
<blockquote class="blockquote">
<p><em>Ethash was the proof of work mining algorithm which seems to be turned off in the latest version. Try the 2nd latest release (Geth 1.12.2) and it should work.</em></p>
</blockquote>
<blockquote class="blockquote">
<p><em>from https://github.com/ethereum/go-ethereum/releases/tag/v1.12.0 :</em></p>
</blockquote>
<blockquote class="blockquote">
<p><em>The v1.12 release family drops support for proof-of-work, and thus can not be used any more on PoW-based private chains, or as an upstream library for projects depending on ethash PoW (#27178, #27147).</em></p>
</blockquote>
<blockquote class="blockquote">
<p><em>more info: https://ethereum.org/en/developers/docs/consensus-mechanisms/pow/mining-algorithms/ethash/</em></p>
</blockquote>
<p>O link <a href="https://ethereum.org/en/developers/docs/consensus-mechanisms/pow/mining-algorithms/ethash/" class="uri">https://ethereum.org/en/developers/docs/consensus-mechanisms/pow/mining-algorithms/ethash/</a></p>
<p>Para criar uma rede privada que utilize o algoritmo de consenso <code>clique</code> será necessário que tenhamos duas contas pelo menos. Podemos aproveitar contas existentes que foram criadas no <a href="#lst-criando:usuarios" class="quarto-xref">Código&nbsp;<span>6.II</span></a> ou que podem ser recuperadas do diretório <code>keystore</code> de alguma prática anterior ou podemos criar duas contas com o comando:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb12"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[.etherprivate-clique]$</span> <span class="va">$HOME</span>/go-ethereum-1.12.2/build/bin/geth <span class="at">--datadir</span> ~/.etherprivate-clique account new</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Anote os <code>ids</code> das contas no momento da criação ou verifique quais contas estão disponíveis no diretório <code>keystore</code>:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb13"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[.etherprivate-clique]$</span> ls keystore/</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="ex">UTC--2023-04-17T12-22-11.261468773Z--2db017e44b03b37755a4b15e14cd799f83de4c13</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="ex">UTC--2024-09-17T17-57-24.818641852Z--bb36f26e6c16b3c7ed3d70bfb26f740336b4f976</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="ex">UTC--2024-09-17T18-52-55.377570375Z--67a3a0eace0bb180b94948ae02b09b7f8948ca60</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Iremos recriar o arquivo <code>privategenesis.json</code> com informações para o <code>clique</code>. Irei utilizar as contas <code>2db017e44b03b37755a4b15e14cd799f83de4c13</code> e <code>bb36f26e6c16b3c7ed3d70bfb26f740336b4f976</code> na configuração de assinadores (signers) e serão contas que serão inicializadas com saldos. O <a href="#lst-privategenesis-clique" class="quarto-xref">Código&nbsp;<span>6.V</span></a> apresenta o conteúdo atualizado.</p>
<div id="lst-privategenesis-clique" class="json listing quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-lst figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-privategenesis-clique-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Listing&nbsp;6.V: Genesis File para Clique
</figcaption>
<div aria-describedby="lst-privategenesis-clique-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb14"><pre class="sourceCode json code-with-copy"><code class="sourceCode json"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">"config"</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"chainId"</span><span class="fu">:</span> <span class="dv">786</span><span class="fu">,</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"homesteadBlock"</span><span class="fu">:</span> <span class="dv">0</span><span class="fu">,</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"eip150Block"</span><span class="fu">:</span> <span class="dv">0</span><span class="fu">,</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"eip155Block"</span><span class="fu">:</span> <span class="dv">0</span><span class="fu">,</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"eip158Block"</span><span class="fu">:</span> <span class="dv">0</span><span class="fu">,</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"byzantiumBlock"</span><span class="fu">:</span> <span class="dv">0</span><span class="fu">,</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"constantinopleBlock"</span><span class="fu">:</span> <span class="dv">0</span><span class="fu">,</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"petersburgBlock"</span><span class="fu">:</span> <span class="dv">0</span><span class="fu">,</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"istanbulBlock"</span><span class="fu">:</span> <span class="dv">0</span><span class="fu">,</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"berlinBlock"</span><span class="fu">:</span> <span class="dv">0</span><span class="fu">,</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"clique"</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>      <span class="dt">"period"</span><span class="fu">:</span> <span class="dv">5</span><span class="fu">,</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>      <span class="dt">"epoch"</span><span class="fu">:</span> <span class="dv">30000</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">},</span></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>  <span class="dt">"difficulty"</span><span class="fu">:</span> <span class="st">"1"</span><span class="fu">,</span></span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>  <span class="dt">"gasLimit"</span><span class="fu">:</span> <span class="st">"8000000"</span><span class="fu">,</span></span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>  <span class="dt">"extraData"</span><span class="fu">:</span> <span class="st">"0x00000000000000000000000000000000000000000000000000000000000000002db017e44b03b37755a4b15e14cd799f83de4c13bb36f26e6c16b3c7ed3d70bfb26f740336b4f9760000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"</span><span class="fu">,</span></span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>  <span class="dt">"alloc"</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"2db017e44b03b37755a4b15e14cd799f83de4c13"</span><span class="fu">:</span> <span class="fu">{</span> <span class="dt">"balance"</span><span class="fu">:</span> <span class="st">"300000"</span> <span class="fu">},</span></span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"bb36f26e6c16b3c7ed3d70bfb26f740336b4f976"</span><span class="fu">:</span> <span class="fu">{</span> <span class="dt">"balance"</span><span class="fu">:</span> <span class="st">"400000"</span> <span class="fu">}</span></span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">}</span></span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</figure>
</div>
<p>No campo <code>extraData</code> temos que colocar os <code>ids</code> dos validadores/assinadores concatenados. Estou colocando os <em>hashes</em> das duas contas que criei primeiro. A codificação dos endereços dos <em>signers</em> no <code>extradata</code> é feita pela concatenação de <span class="math inline">\(32\)</span> zero bytes (32 x 00), seguidos de todos os endereços dos assinadores (40 caracteres) e mais <span class="math inline">\(65\)</span> zero bytes (65 x 00). Totalizando uma cadeia hexadecimal de 64 + 40 + 40 + … + 40 + 130. O resultado dessa concatenação é então usado como valor para o campo <code>extradata</code> no <em>genesis file</em>.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb15"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="ex">0x0000000000000000000000000000000000000000000000000000000000000000</span><span class="op">&lt;</span>hash conta <span class="dv">1</span><span class="op">&gt;&lt;</span>hash conta <span class="dv">2</span><span class="op">&gt;</span>0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Por exemplo, foram criadas as duas contas: <code>2db017e44b03b37755a4b15e14cd799f83de4c13</code> e <code>bb36f26e6c16b3c7ed3d70bfb26f740336b4f976</code>. A composição do valor do <code>extradata</code> será:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb16"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="ex">0x00000000000000000000000000000000000000000000000000000000000000002db017e44b03b37755a4b15e14cd799f83de4c13bb36f26e6c16b3c7ed3d70bfb26f740336b4f9760000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Na prática, substitua no conteúdo do arquivo <code>privategenesis.json</code>, no campo <code>extradata</code> a cadeia <code>2db017e44b03b37755a4b15e14cd799f83de4c13bb36f26e6c16b3c7ed3d70bfb26f740336b4f976</code> pela cadeia formada pela concatenação dos <em>hashes</em> das contas que você quer como validadores.</p>
<p>No campo <code>alloc</code> coloque os <em>hashes</em> das contas e valores iniciais de saldo <em>(balance)</em> para cada conta.</p>
<p>Apague os dados da rede que iniciamos anteriormente, os dados estão no direório <code>.etherprivate-clique/geth</code>.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb17"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[.etherprivate-clique]$</span> rm geth <span class="at">-rf</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="ex">[.etherprivate-clique]$</span> ls</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="ex">keystore</span>  privategenesis.json</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Recrie a rede a partir do <code>privategenesis.json</code> alterado:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb18"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[.etherprivate-clique]$</span> <span class="va">$HOME</span>/go-ethereum-1.12.2/build/bin/geth <span class="at">--networkid</span> 786 <span class="at">--identity</span> <span class="st">"RAGEtherPrivate"</span> <span class="at">--datadir</span> ~/.etherprivate-clique init ~/.etherprivate-clique/privategenesis.json</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:20:51.763]</span> Maximum peer count                       ETH=50 LES=0 total=50</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:20:51.766]</span> Smartcard socket not found, disabling    err=<span class="st">"stat /run/pcscd/pcscd.comm: no such file or directory"</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:20:51.770]</span> Set global gas cap                       cap=50,000,000</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:20:51.770]</span> Initializing the KZG library             backend=gokzg</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:20:51.802]</span> Defaulting to pebble as the backing database </span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:20:51.802]</span> Allocated cache and file handles         database=/home/rag/.etherprivate-clique/geth/chaindata cache=16.00MiB handles=16</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:20:51.825]</span> Opened ancient database                  database=/home/rag/.etherprivate-clique/geth/chaindata/ancient/chain readonly=false</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:20:51.825]</span> Writing custom genesis block </span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:20:51.826]</span> Persisted trie from memory database      nodes=3 size=399.00B time=<span class="st">"708.278us"</span> gcnodes=0 gcsize=0.00B gctime=0s livenodes=0 livesize=0.00B</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:20:51.834]</span> Successfully wrote genesis state         database=chaindata hash=72f12c..ac1a0d</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:20:51.834]</span> Defaulting to pebble as the backing database </span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:20:51.834]</span> Allocated cache and file handles         database=/home/rag/.etherprivate-clique/geth/lightchaindata cache=16.00MiB handles=16</span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:20:51.846]</span> Opened ancient database                  database=/home/rag/.etherprivate-clique/geth/lightchaindata/ancient/chain readonly=false</span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:20:51.846]</span> Writing custom genesis block </span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:20:51.847]</span> Persisted trie from memory database      nodes=3 size=399.00B time=<span class="st">"780.216us"</span> gcnodes=0 gcsize=0.00B gctime=0s livenodes=0 livesize=0.00B</span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:20:51.856]</span> Successfully wrote genesis state         database=lightchaindata hash=72f12c..ac1a0d</span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a><span class="ex">[.etherprivate-clique]$</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
<section id="executando-a-nova-rede" class="level2" data-number="6.4">
<h2 data-number="6.4" class="anchored" data-anchor-id="executando-a-nova-rede"><span class="header-section-number">6.4</span> Executando a nova Rede</h2>
<p>O cliente <code>geth</code> pode ser iniciado, executando com base na nova rede criada, tenha certeza que está utilizando os dados do diretório <code>.etherprivate-clique</code>.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb19"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[.etherprivate-clique]$</span> <span class="va">$HOME</span>/go-ethereum-1.12.2/build/bin/geth <span class="at">--networkid</span> 786 <span class="at">--identity</span> <span class="st">"RAGEtherPrivate"</span> <span class="at">--datadir</span> ~/.etherprivate-clique <span class="at">--syncmode</span> full <span class="at">--allow-insecure-unlock</span> <span class="at">--http</span> <span class="at">--http.addr</span> 127.0.0.1 <span class="at">--http.port</span> 8559 <span class="at">--http.api</span> <span class="st">"eth,net,web3,personal,engine,admin,debug"</span> <span class="at">--keystore</span> ~/.etherprivate-clique/keystore <span class="at">--authrpc.addr</span> localhost <span class="at">--authrpc.port</span> 8551 <span class="at">--authrpc.vhosts</span> localhost <span class="at">--authrpc.jwtsecret</span> ~/.etherprivate-clique/geth/jwtsecret <span class="at">--nodiscover</span> <span class="at">--maxpeers</span> 15</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.243]</span> Maximum peer count                       ETH=15 LES=0 total=15</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.244]</span> Smartcard socket not found, disabling    err=<span class="st">"stat /run/pcscd/pcscd.comm: no such file or directory"</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.246]</span> Set global gas cap                       cap=50,000,000</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.246]</span> Initializing the KZG library             backend=gokzg</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.285]</span> Allocated trie memory caches             clean=154.00MiB dirty=256.00MiB</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.286]</span> Using pebble as the backing database </span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.286]</span> Allocated cache and file handles         database=/home/rag/.etherprivate-clique/geth/chaindata cache=512.00MiB handles=262,144</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.300]</span> Opened ancient database                  database=/home/rag/.etherprivate-clique/geth/chaindata/ancient/chain readonly=false</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.300]</span> Initialising Ethereum protocol           network=786 dbversion=8</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.301]</span>  </span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.301]</span> <span class="at">---------------------------------------------------------------------------------------------------------------------------------------------------------</span> </span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.301]</span> Chain ID:  786 <span class="er">(</span><span class="ex">unknown</span><span class="kw">)</span> </span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.301]</span> Consensus: Clique <span class="er">(</span><span class="ex">proof-of-authority</span><span class="kw">)</span> </span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.301]</span>  </span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.301]</span> Pre-Merge hard forks <span class="er">(</span><span class="ex">block</span> based<span class="kw">)</span><span class="bu">:</span> </span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.301]</span>  <span class="at">-</span> Homestead:                   <span class="co">#0        (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet- upgrades/homestead.md) </span></span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.301]</span>  <span class="at">-</span> Tangerine Whistle <span class="er">(</span><span class="ex">EIP</span> 150<span class="kw">)</span><span class="bu">:</span> <span class="co">#0        (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet- upgrades/tangerine-whistle.md) </span></span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.301]</span>  <span class="at">-</span> Spurious Dragon/1 <span class="er">(</span><span class="ex">EIP</span> 155<span class="kw">)</span><span class="bu">:</span> <span class="co">#0        (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet- upgrades/spurious-dragon.md) </span></span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.301]</span>  <span class="at">-</span> Spurious Dragon/2 <span class="er">(</span><span class="ex">EIP</span> 158<span class="kw">)</span><span class="bu">:</span> <span class="co">#0        (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet- upgrades/spurious-dragon.md) </span></span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.301]</span>  <span class="at">-</span> Byzantium:                   <span class="co">#0        (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet- upgrades/byzantium.md) </span></span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.301]</span>  <span class="at">-</span> Constantinople:              <span class="co">#0        (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet- upgrades/constantinople.md) </span></span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.301]</span>  <span class="at">-</span> Petersburg:                  <span class="co">#0        (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet- upgrades/petersburg.md) </span></span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.301]</span>  <span class="at">-</span> Istanbul:                    <span class="co">#0        (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet- upgrades/istanbul.md) </span></span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.301]</span>  <span class="at">-</span> Berlin:                      <span class="co">#0        (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet- upgrades/berlin.md) </span></span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.301]</span>  <span class="at">-</span> London:                      <span class="co">#&lt;nil&gt; (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet- upgrades/london.md) </span></span>
<span id="cb19-27"><a href="#cb19-27" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.301]</span>  </span>
<span id="cb19-28"><a href="#cb19-28" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.301]</span> The Merge is not yet available for this network! </span>
<span id="cb19-29"><a href="#cb19-29" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.301]</span>  <span class="at">-</span> Hard-fork specification: https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet- upgrades/paris.md </span>
<span id="cb19-30"><a href="#cb19-30" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.301]</span>  </span>
<span id="cb19-31"><a href="#cb19-31" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.301]</span> Post-Merge hard forks <span class="er">(</span><span class="ex">timestamp</span> based<span class="kw">)</span><span class="bu">:</span> </span>
<span id="cb19-32"><a href="#cb19-32" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.301]</span>  </span>
<span id="cb19-33"><a href="#cb19-33" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.301]</span> <span class="at">---------------------------------------------------------------------------------------------------------------------------------------------------------</span> </span>
<span id="cb19-34"><a href="#cb19-34" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.301]</span>  </span>
<span id="cb19-35"><a href="#cb19-35" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.301]</span> Loaded most recent local block           number=0 hash=72f12c..ac1a0d td=1 age=55y6mo3d</span>
<span id="cb19-36"><a href="#cb19-36" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.301]</span> Loaded local transaction journal         transactions=0 dropped=0</span>
<span id="cb19-37"><a href="#cb19-37" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.301]</span> Regenerated local transaction journal    transactions=0 accounts=0</span>
<span id="cb19-38"><a href="#cb19-38" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.309]</span> Gasprice oracle is ignoring threshold set threshold=2</span>
<span id="cb19-39"><a href="#cb19-39" aria-hidden="true" tabindex="-1"></a><span class="ex">WARN</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.312]</span> Engine API enabled                       protocol=eth</span>
<span id="cb19-40"><a href="#cb19-40" aria-hidden="true" tabindex="-1"></a><span class="ex">WARN</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.312]</span> Engine API started but chain not configured for merge yet </span>
<span id="cb19-41"><a href="#cb19-41" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.312]</span> Starting peer-to-peer node               instance=Geth/RAGEtherPrivate/v1.12.2-stable-bed84606/linux-amd64/go1.21.1</span>
<span id="cb19-42"><a href="#cb19-42" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.321]</span> IPC endpoint opened                      url=/home/rag/.etherprivate-clique/geth.ipc</span>
<span id="cb19-43"><a href="#cb19-43" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.321]</span> New local node record                    seq=1,726,597,460,539 id=3f75d3400f44179e ip=127.0.0.1 udp=0 tcp=30303</span>
<span id="cb19-44"><a href="#cb19-44" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.321]</span> Started P2P networking                   self=<span class="st">"enode://781f3633c94cb09dd45b2db4b4ba5e44e568dc34e64c2edfc3eed9504909656cca90fe 85b8f11f5b1d5df0328bbe4b0243821fc0ef765801c13657131a860bd0@127.0.0.1:30303?discport=0"</span></span>
<span id="cb19-45"><a href="#cb19-45" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.321]</span> Loaded JWT secret file                   path=/home/rag/.etherprivate-clique/geth/jwtsecret crc32=0x67433537</span>
<span id="cb19-46"><a href="#cb19-46" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.321]</span> HTTP server started                      endpoint=127.0.0.1:8559 auth=false prefix= cors= vhosts=localhost</span>
<span id="cb19-47"><a href="#cb19-47" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.323]</span> WebSocket enabled                        url=ws://127.0.0.1:8551</span>
<span id="cb19-48"><a href="#cb19-48" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:37:51.323]</span> HTTP server started                      endpoint=127.0.0.1:8551 auth=true  prefix= cors=localhost vhosts=localhost</span>
<span id="cb19-49"><a href="#cb19-49" aria-hidden="true" tabindex="-1"></a><span class="ex">WARN</span> [09-17<span class="kw">|</span><span class="ex">15:37:58.696]</span> Served eth_coinbase                      reqid=3 duration=<span class="st">"78.644us"</span> err=<span class="st">"etherbase must be explicitly specified"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>No terminal onde o cliente de execução apareceu um novo <code>warning</code>: <code>"WARN [09-17|15:37:58.696] Served eth_coinbase reqid=3 duration="78.644us" err="etherbase must be explicitly specified"</code>. Basta fornecer a conta principal no parâmetro <code>etherbase=0x2db017e44b03b37755a4b15e14cd799f83de4c13</code>.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb20"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[.etherprivate-clique]$</span> <span class="va">$HOME</span>/go-ethereum-1.12.2/build/bin/geth <span class="at">--networkid</span> 786 <span class="at">--identity</span> <span class="st">"RAGEtherPrivate"</span> <span class="at">--datadir</span> ~/.etherprivate-clique <span class="at">--syncmode</span> full <span class="at">--allow-insecure-unlock</span> <span class="at">--http</span> <span class="at">--http.addr</span> 127.0.0.1 <span class="at">--http.port</span> 8559 <span class="at">--http.api</span> <span class="st">"eth,net,web3,personal,engine,admin,debug"</span> <span class="at">--keystore</span> ~/.etherprivate-clique/keystore <span class="at">--authrpc.addr</span> localhost <span class="at">--authrpc.port</span> 8551 <span class="at">--authrpc.vhosts</span> localhost <span class="at">--authrpc.jwtsecret</span> ~/.etherprivate-clique/geth/jwtsecret <span class="at">--nodiscover</span> <span class="at">--maxpeers</span> 15 <span class="at">--miner.etherbase</span><span class="op">=</span>0x2db017e44b03b37755a4b15e14cd799f83de4c13</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
<section id="interagindo-com-a-nova-rede" class="level2" data-number="6.5">
<h2 data-number="6.5" class="anchored" data-anchor-id="interagindo-com-a-nova-rede"><span class="header-section-number">6.5</span> Interagindo com a Nova Rede</h2>
<p>O console pode ser utilizado na interação com a instância da nova rede em execução.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb21"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[.etherprivate-clique]$</span> <span class="va">$HOME</span>/go-ethereum-1.12.2/build/bin/geth attach ~/.etherprivate-clique/geth.ipc</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Welcome</span> to the Geth JavaScript console!</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="ex">instance:</span> Geth/RAGEtherPrivate/v1.12.2-stable-bed84606/linux-amd64/go1.21.1</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="ex">at</span> block: 0 <span class="er">(</span><span class="ex">Wed</span> Dec 31 1969 21:00:00 GMT-0300 <span class="er">(</span><span class="ex">-03</span><span class="kw">))</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a> <span class="ex">datadir:</span> /home/rag/.etherprivate-clique</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a> <span class="ex">modules:</span> admin:1.0 clique:1.0 debug:1.0 engine:1.0 eth:1.0 miner:1.0 net:1.0 rpc:1.0 txpool:1.0 web3:1.0</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a><span class="ex">To</span> exit, press ctrl-d or type exit</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.accounts</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a><span class="ex">[</span><span class="st">"0x2db017e44b03b37755a4b15e14cd799f83de4c13"</span><span class="ex">,</span> <span class="st">"0xbb36f26e6c16b3c7ed3d70bfb26f740336b4f976"</span>]</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.getBalance<span class="kw">(</span><span class="st">"0x2db017e44b03b37755a4b15e14cd799f83de4c13"</span><span class="kw">)</span></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a><span class="ex">300000</span></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.getBalance<span class="kw">(</span><span class="st">"0xbb36f26e6c16b3c7ed3d70bfb26f740336b4f976"</span><span class="kw">)</span></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a><span class="ex">400000</span></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
<section id="verificando-quem-são-os-signers" class="level2" data-number="6.6">
<h2 data-number="6.6" class="anchored" data-anchor-id="verificando-quem-são-os-signers"><span class="header-section-number">6.6</span> Verificando quem são os <em>Signers</em></h2>
<p>Configuramos as duas contas como <em>signers</em>, para conferir se deu tudo certo na configuração, em um <em>console</em> <code>JavaScript</code>, utilize o a função <code>clique.getSigners()</code> que listará as contas configuradas como assinadores.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb22"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a> <span class="ex">[rogerio@ryzen-nitro</span> .etherprivate-clique]$ ~/go-ethereum-1.12.2/build/bin/geth attach /home/rag/.etherprivate-clique/geth.ipc</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Welcome</span> to the Geth JavaScript console!</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="ex">instance:</span> Geth/RAGEtherPrivate/v1.12.2-stable-bed84606/linux-amd64/go1.21.1</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="ex">coinbase:</span> 0x2db017e44b03b37755a4b15e14cd799f83de4c13</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="ex">at</span> block: 0 <span class="er">(</span><span class="ex">Wed</span> Dec 31 1969 21:00:00 GMT-0300 <span class="er">(</span><span class="ex">-03</span><span class="kw">))</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a> <span class="ex">datadir:</span> /home/rag/.etherprivate-clique</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a> <span class="ex">modules:</span> admin:1.0 clique:1.0 debug:1.0 engine:1.0 eth:1.0 miner:1.0 net:1.0 rpc:1.0 txpool:1.0 web3:1.0</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a><span class="ex">To</span> exit, press ctrl-d or type exit</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> clique.getSigners<span class="kw">()</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a><span class="ex">[</span><span class="st">"0x2db017e44b03b37755a4b15e14cd799f83de4c13"</span><span class="ex">,</span> <span class="st">"0xbb36f26e6c16b3c7ed3d70bfb26f740336b4f976"</span>]</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
<section id="sec:criando:contas" class="level2" data-number="6.7">
<h2 data-number="6.7" class="anchored" data-anchor-id="sec:criando:contas"><span class="header-section-number">6.7</span> Criando contas na Nova Rede</h2>
<p>O objetivo é termos pelo menos duas contas para testes na nova rede. Caso já não tenha duas contas de práticas anteriores é recomendado utilizar o <code>clef</code> com o parâmetro <code>newaccount</code>. É importante indicar o diretório <code>keystore</code> do <code>.etherprivate-clique</code>. Utilizaremos para fins de teste a senha <em>“admin12345”</em>.</p>
<p>Se seguimos a opção de criar uma conta antes para configurar o <em>genesis file</em> nossa base já terá uma conta. Essa conta pode ser verificada utilizando o <code>$HOME/go-ethereum-1.12.2/build/bin/geth --networkid 786 --datadir ~/.etherprivate-clique/ account list</code> ou o comando do <code>clef</code>.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb23"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[.etherprivate-clique]$</span> <span class="va">$HOME</span>/go-ethereum-1.12.2/build/bin/geth <span class="at">--networkid</span> 786 <span class="at">--datadir</span> ~/.etherprivate-clique/ account list</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:49:53.739]</span> Maximum peer count                       ETH=50 LES=0 total=50</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:49:53.740]</span> Smartcard socket not found, disabling    err=<span class="st">"stat /run/pcscd/pcscd.comm: no such file or directory"</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="ex">Account</span> <span class="co">#0: {2db017e44b03b37755a4b15e14cd799f83de4c13} keystore:///home/rag/.etherprivate-clique/keystore/UTC--2023-04-17T12-22-11.261468 773Z--2db017e44b03b37755a4b15e14cd799f83de4c13</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="ex">Account</span> <span class="co">#1: {bb36f26e6c16b3c7ed3d70bfb26f740336b4f976} keystore:///home/rag/.etherprivate-clique/keystore/UTC--2024-09-17T17-57-24.818641 852Z--bb36f26e6c16b3c7ed3d70bfb26f740336b4f976</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="ex">[.etherprivate-clique]$</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Como o <code>clef</code>:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb24"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> <span class="pp">[</span><span class="ss">.etherprivate</span><span class="pp">-</span><span class="ss">clique</span><span class="pp">]</span>$ <span class="va">$HOME</span>/go-ethereum-1.12.2/build/bin/clef list-accounts <span class="at">--keystore</span> ~/.etherprivate-clique/keystore</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="ex">WARNING!</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="ex">Clef</span> is an account management tool. It may, like any software, contain bugs.</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a><span class="ex">Please</span> take care to</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span> backup your keystore files,</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span> verify that the keystore<span class="er">(</span><span class="ex">s</span><span class="kw">)</span> <span class="ex">can</span> be opened with your password.</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a><span class="ex">Clef</span> is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY<span class="kw">;</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a><span class="ex">without</span> even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a><span class="ex">PURPOSE.</span> See the GNU General Public License for more details.</span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a><span class="ex">Enter</span> <span class="st">'ok'</span> to proceed:</span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> ok</span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a><span class="ex">0x2db017E44b03B37755A4b15e14Cd799f83DE4c13</span> <span class="er">(</span><span class="ex">keystore:///home/rag/.etherprivate-clique/keystore/UTC--2023-04-17T12-22-11.</span> 261468773Z--2db017e44b03b37755a4b15e14cd799f83de4c13<span class="kw">)</span></span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a><span class="ex">0xBb36F26E6C16B3C7ED3D70bFB26F740336B4F976</span> <span class="er">(</span><span class="ex">keystore:///home/rag/.etherprivate-clique/keystore/UTC--2024-09-17T17-57-24.</span> 818641852Z--bb36f26e6c16b3c7ed3d70bfb26f740336b4f976<span class="kw">)</span></span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a><span class="ex">[.etherprivate-clique]$</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>A conta <code>0x2db017E44b03B37755A4b15e14Cd799f83DE4c13</code> que foi gerada anteriormente, utilizei a senha <code>admin12345</code>. Vamos criar mais uma conta com o comando:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb25"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[.etherprivate-clique]$</span> /home/rag/go-ethereum-1.12.2/build/bin/clef <span class="at">--keystore</span> ~/.etherprivate-clique/keystore newaccount</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="ex">WARNING!</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="ex">Clef</span> is an account management tool. It may, like any software, contain bugs.</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="ex">Please</span> take care to</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span> backup your keystore files,</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span> verify that the keystore<span class="er">(</span><span class="ex">s</span><span class="kw">)</span> <span class="ex">can</span> be opened with your password.</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a><span class="ex">Clef</span> is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY<span class="kw">;</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a><span class="ex">without</span> even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR</span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a><span class="ex">PURPOSE.</span> See the GNU General Public License for more details.</span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a><span class="ex">Enter</span> <span class="st">'ok'</span> to proceed:</span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> ok</span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a><span class="ex">\#\#</span> New account password</span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a><span class="ex">Please</span> enter a password for the new account to be created <span class="er">(</span><span class="ex">attempt</span> 0 of 3<span class="kw">)</span></span>
<span id="cb25-21"><a href="#cb25-21" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> </span>
<span id="cb25-22"><a href="#cb25-22" aria-hidden="true" tabindex="-1"></a><span class="ex">-----------------------</span></span>
<span id="cb25-23"><a href="#cb25-23" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:52:56.566]</span> Your new key was generated               address=0x67a3A0EACe0bB180B94948ae02b09b7F8948ca60</span>
<span id="cb25-24"><a href="#cb25-24" aria-hidden="true" tabindex="-1"></a><span class="ex">WARN</span> [09-17<span class="kw">|</span><span class="ex">15:52:56.567]</span> Please backup your key file!             path=/home/rag/.etherprivate-clique/keystore/UTC--2024-09-17T18-52-55 .377570375Z--67a3a0eace0bb180b94948ae02b09b7f8948ca60</span>
<span id="cb25-25"><a href="#cb25-25" aria-hidden="true" tabindex="-1"></a><span class="ex">WARN</span> [09-17<span class="kw">|</span><span class="ex">15:52:56.567]</span> Please remember your password! </span>
<span id="cb25-26"><a href="#cb25-26" aria-hidden="true" tabindex="-1"></a><span class="ex">Generated</span> account 0x67a3A0EACe0bB180B94948ae02b09b7F8948ca60</span>
<span id="cb25-27"><a href="#cb25-27" aria-hidden="true" tabindex="-1"></a><span class="ex">[.etherprivate-clique]$</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>A conta <code>0x67a3A0EACe0bB180B94948ae02b09b7F8948ca60</code> foi criada. No meu caso, listando pelo <code>clef</code> tenho as contas:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb26"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[.etherprivate-clique]$</span> <span class="va">$HOME</span>/go-ethereum-1.12.2/build/bin/geth <span class="at">--networkid</span> 786 <span class="at">--datadir</span> ~/.etherprivate-clique/ account list</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:56:07.023]</span> Maximum peer count                       ETH=50 LES=0 total=50</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">15:56:07.024]</span> Smartcard socket not found, disabling    err=<span class="st">"stat /run/pcscd/pcscd.comm: no such file or directory"</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="ex">Account</span> <span class="co">#0: {2db017e44b03b37755a4b15e14cd799f83de4c13} keystore:///home/rag/.etherprivate-clique/keystore/UTC--2023-04-17T12-22-11. 261468773Z--2db017e44b03b37755a4b15e14cd799f83de4c13</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="ex">Account</span> <span class="co">#1: {bb36f26e6c16b3c7ed3d70bfb26f740336b4f976} keystore:///home/rag/.etherprivate-clique/keystore/UTC--2024-09-17T17-57-24. 818641852Z--bb36f26e6c16b3c7ed3d70bfb26f740336b4f976</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a><span class="ex">Account</span> <span class="co">#2: {67a3a0eace0bb180b94948ae02b09b7f8948ca60} keystore:///home/rag/.etherprivate-clique/keystore/UTC--2024-09-17T18-52-55. 377570375Z--67a3a0eace0bb180b94948ae02b09b7f8948ca60</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a><span class="ex">[.etherprivate-clique]$</span> </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Para os testes utilizarei as duas contas <code>0x2db017E44b03B37755A4b15e14Cd799f83DE4c13</code> e <code>0xbb36f26e6c16b3c7ed3d70bfb26f740336b4f976</code>, ambas com a senha <code>admin12345</code>.</p>
<p>Verifiquemos no <em>console</em> <code>JavaScript</code> se elas são listadas:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb27"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[.etherprivate-clique]$</span> <span class="va">$HOME</span>/go-ethereum-1.12.2/build/bin/geth attach ~/.etherprivate-clique/geth.ipc</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Welcome</span> to the Geth JavaScript console!</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="ex">instance:</span> Geth/RAGEtherPrivate/v1.12.2-stable-bed84606/linux-amd64/go1.21.1</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="ex">coinbase:</span> 0x2db017e44b03b37755a4b15e14cd799f83de4c13</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="ex">at</span> block: 0 <span class="er">(</span><span class="ex">Wed</span> Dec 31 1969 21:00:00 GMT-0300 <span class="er">(</span><span class="ex">-03</span><span class="kw">))</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a> <span class="ex">datadir:</span> /home/rag/.etherprivate-clique</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a> <span class="ex">modules:</span> admin:1.0 clique:1.0 debug:1.0 engine:1.0 eth:1.0 miner:1.0 net:1.0 rpc:1.0 txpool:1.0 web3:1.0</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a><span class="ex">To</span> exit, press ctrl-d or type exit</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.accounts</span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a><span class="ex">[</span><span class="st">"0x2db017e44b03b37755a4b15e14cd799f83de4c13"</span><span class="ex">,</span> <span class="st">"0xbb36f26e6c16b3c7ed3d70bfb26f740336b4f976"</span>, <span class="st">"0x67a3a0eace0bb180b94948ae02b09b7f8948ca60"</span>]</span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
<section id="informações-do-nó" class="level2" data-number="6.8">
<h2 data-number="6.8" class="anchored" data-anchor-id="informações-do-nó"><span class="header-section-number">6.8</span> Informações do Nó</h2>
<p>Para obter informações do nó criado com a execução do <code>geth</code>, basta usar o atributo <code>admin.nodeInfo</code> no <em>console</em> <code>JavaScript</code>.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb28"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[.etherprivate-clique]$</span> <span class="va">$HOME</span>/go-ethereum-1.12.2/build/bin/geth attach ~/.etherprivate-clique/geth.ipc</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Welcome</span> to the Geth JavaScript console!</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="ex">instance:</span> Geth/RAGEtherPrivate/v1.12.2-stable-bed84606/linux-amd64/go1.21.1</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="ex">coinbase:</span> 0x2db017e44b03b37755a4b15e14cd799f83de4c13</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="ex">at</span> block: 0 <span class="er">(</span><span class="ex">Wed</span> Dec 31 1969 21:00:00 GMT-0300 <span class="er">(</span><span class="ex">-03</span><span class="kw">))</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a> <span class="ex">datadir:</span> /home/rag/.etherprivate-clique</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a> <span class="ex">modules:</span> admin:1.0 clique:1.0 debug:1.0 engine:1.0 eth:1.0 miner:1.0 net:1.0 rpc:1.0 txpool:1.0 web3:1.0</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a><span class="ex">To</span> exit, press ctrl-d or type exit</span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> admin.nodeInfo</span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a><span class="kw">{</span></span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>  <span class="ex">enode:</span> <span class="st">"enode://91156ab43ada3646a9822152d4b010279cec9a92b5ab2d10b9ac53525f67f2f63f6d997da2967cc7d3732466449a6c667842b85649f61a8035e7305889231347@127.0.0.1:30303?discport=0"</span>,</span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>  <span class="ex">enr:</span> <span class="st">"enr:-Jy4QLIsAUUHel4lfANVQzPA9XglJ3RDOWxxJI3Kro4_VwtpBqSmlscUPmVmgrLBYlEfFjHMEWNXVv40uKg0N7RK02aGAZIBa1M4g2V0aMfGhLr9cZ2AgmlkgnY0gmlwhH8AAAGJc2VjcDI1NmsxoQORFWq0Oto2RqmCIVLUsBAnnOyakrWrLRC5rFNSX2fy9oRzbmFwwIN0Y3CCdl8"</span>,</span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>  <span class="ex">id:</span> <span class="st">"87c2a44bb5d9ffe7b756c4821067b3eba5c260a1edce91cd59ea8c6925d874e2"</span>,</span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a>  <span class="ex">ip:</span> <span class="st">"127.0.0.1"</span>,</span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a>  <span class="ex">listenAddr:</span> <span class="st">"[::]:30303"</span>,</span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a>  <span class="ex">name:</span> <span class="st">"Geth/RAGEtherPrivate/v1.12.2-stable-bed84606/linux-amd64/go1.21.1"</span>,</span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a>  <span class="ex">ports:</span> {</span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a>    <span class="ex">discovery:</span> 0,</span>
<span id="cb28-21"><a href="#cb28-21" aria-hidden="true" tabindex="-1"></a>    <span class="ex">listener:</span> 30303</span>
<span id="cb28-22"><a href="#cb28-22" aria-hidden="true" tabindex="-1"></a>  <span class="ex">},</span></span>
<span id="cb28-23"><a href="#cb28-23" aria-hidden="true" tabindex="-1"></a>  <span class="ex">protocols:</span> {</span>
<span id="cb28-24"><a href="#cb28-24" aria-hidden="true" tabindex="-1"></a>    <span class="ex">eth:</span> {</span>
<span id="cb28-25"><a href="#cb28-25" aria-hidden="true" tabindex="-1"></a>      <span class="ex">config:</span> {</span>
<span id="cb28-26"><a href="#cb28-26" aria-hidden="true" tabindex="-1"></a>        <span class="ex">berlinBlock:</span> 0,</span>
<span id="cb28-27"><a href="#cb28-27" aria-hidden="true" tabindex="-1"></a>        <span class="ex">byzantiumBlock:</span> 0,</span>
<span id="cb28-28"><a href="#cb28-28" aria-hidden="true" tabindex="-1"></a>        <span class="ex">chainId:</span> 786,</span>
<span id="cb28-29"><a href="#cb28-29" aria-hidden="true" tabindex="-1"></a>        <span class="ex">clique:</span> {...},</span>
<span id="cb28-30"><a href="#cb28-30" aria-hidden="true" tabindex="-1"></a>        <span class="ex">constantinopleBlock:</span> 0,</span>
<span id="cb28-31"><a href="#cb28-31" aria-hidden="true" tabindex="-1"></a>        <span class="ex">eip150Block:</span> 0,</span>
<span id="cb28-32"><a href="#cb28-32" aria-hidden="true" tabindex="-1"></a>        <span class="ex">eip155Block:</span> 0,</span>
<span id="cb28-33"><a href="#cb28-33" aria-hidden="true" tabindex="-1"></a>        <span class="ex">eip158Block:</span> 0,</span>
<span id="cb28-34"><a href="#cb28-34" aria-hidden="true" tabindex="-1"></a>        <span class="ex">homesteadBlock:</span> 0,</span>
<span id="cb28-35"><a href="#cb28-35" aria-hidden="true" tabindex="-1"></a>        <span class="ex">istanbulBlock:</span> 0,</span>
<span id="cb28-36"><a href="#cb28-36" aria-hidden="true" tabindex="-1"></a>        <span class="ex">petersburgBlock:</span> 0</span>
<span id="cb28-37"><a href="#cb28-37" aria-hidden="true" tabindex="-1"></a>      <span class="ex">},</span></span>
<span id="cb28-38"><a href="#cb28-38" aria-hidden="true" tabindex="-1"></a>      <span class="ex">difficulty:</span> 1,</span>
<span id="cb28-39"><a href="#cb28-39" aria-hidden="true" tabindex="-1"></a>      <span class="ex">genesis:</span> <span class="st">"0xbf9a39b82450012680f16cac3affb16326902ed947099baf2aba3f62f0af3926"</span>,</span>
<span id="cb28-40"><a href="#cb28-40" aria-hidden="true" tabindex="-1"></a>      <span class="ex">head:</span> <span class="st">"0xbf9a39b82450012680f16cac3affb16326902ed947099baf2aba3f62f0af3926"</span>,</span>
<span id="cb28-41"><a href="#cb28-41" aria-hidden="true" tabindex="-1"></a>      <span class="ex">network:</span> 786</span>
<span id="cb28-42"><a href="#cb28-42" aria-hidden="true" tabindex="-1"></a>    <span class="ex">},</span></span>
<span id="cb28-43"><a href="#cb28-43" aria-hidden="true" tabindex="-1"></a>    <span class="ex">snap:</span> {}</span>
<span id="cb28-44"><a href="#cb28-44" aria-hidden="true" tabindex="-1"></a>  <span class="kw">}</span></span>
<span id="cb28-45"><a href="#cb28-45" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span>
<span id="cb28-46"><a href="#cb28-46" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
<section id="verificando-o-saldo-das-contas" class="level2" data-number="6.9">
<h2 data-number="6.9" class="anchored" data-anchor-id="verificando-o-saldo-das-contas"><span class="header-section-number">6.9</span> Verificando o Saldo das Contas</h2>
<p>Vamos verificar os valores em cada uma das contas:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb29"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[.etherprivate-clique]$</span> ~/go-ethereum-1.12.2/build/bin/geth attach ~/.etherprivate-clique/geth.ipc</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Welcome</span> to the Geth JavaScript console!</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="ex">instance:</span> Geth/RAGEtherPrivate/v1.12.2-stable-bed84606/linux-amd64/go1.21.1</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="ex">coinbase:</span> 0x2db017e44b03b37755a4b15e14cd799f83de4c13</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="ex">at</span> block: 0 <span class="er">(</span><span class="ex">Wed</span> Dec 31 1969 21:00:00 GMT-0300 <span class="er">(</span><span class="ex">-03</span><span class="kw">))</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a> <span class="ex">datadir:</span> /home/rag/.etherprivate-clique</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a> <span class="ex">modules:</span> admin:1.0 clique:1.0 debug:1.0 engine:1.0 eth:1.0 miner:1.0 net:1.0 rpc:1.0 txpool:1.0 web3:1.0</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a><span class="ex">To</span> exit, press ctrl-d or type exit</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.accounts</span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a><span class="ex">[</span><span class="st">"0x2db017e44b03b37755a4b15e14cd799f83de4c13"</span><span class="ex">,</span> <span class="st">"0xbb36f26e6c16b3c7ed3d70bfb26f740336b4f976"</span>, <span class="st">"0x67a3a0eace0bb180b94948ae02b09b7f8948ca60"</span>]</span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> web3.fromWei<span class="kw">(</span><span class="ex">eth.getBalance</span><span class="er">(</span><span class="st">"0x2db017e44b03b37755a4b15e14cd799f83de4c13"</span><span class="kw">)</span><span class="ex">,</span> <span class="st">"ether"</span><span class="kw">)</span></span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a><span class="ex">3e-13</span></span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> web3.fromWei<span class="kw">(</span><span class="ex">eth.getBalance</span><span class="er">(</span><span class="st">"0xbb36f26e6c16b3c7ed3d70bfb26f740336b4f976"</span><span class="kw">)</span><span class="ex">,</span> <span class="st">"ether"</span><span class="kw">)</span></span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a><span class="ex">4e-13</span></span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Se criamos a primeira conta antes da configuração do <em>genesis file</em>, alocamos para ela <span class="math inline">\(300000\)</span> então a consulta de valores iniciais poderá ter resultado diferente dependendo de como criou as contas.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb30"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="ex">eth.accounts</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="ex">[</span><span class="st">"0x2db017e44b03b37755a4b15e14cd799f83de4c13"</span><span class="ex">,</span> <span class="st">"0xbb36f26e6c16b3c7ed3d70bfb26f740336b4f976"</span>, <span class="st">"0x67a3a0eace0bb180b94948ae02b09b7f8948ca60"</span>]</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> web3.fromWei<span class="kw">(</span><span class="ex">eth.getBalance</span><span class="er">(</span><span class="st">"0x2db017e44b03b37755a4b15e14cd799f83de4c13"</span><span class="kw">)</span><span class="ex">,</span> <span class="st">"ether"</span><span class="kw">)</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="ex">3e-13</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> web3.fromWei<span class="kw">(</span><span class="ex">eth.getBalance</span><span class="er">(</span><span class="st">"0xbb36f26e6c16b3c7ed3d70bfb26f740336b4f976"</span><span class="kw">)</span><span class="ex">,</span> <span class="st">"ether"</span><span class="kw">)</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a><span class="ex">4e-13</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.getBalance<span class="kw">(</span><span class="ex">eth.accounts[0]</span><span class="kw">)</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a><span class="ex">300000</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.getBalance<span class="kw">(</span><span class="ex">eth.accounts[1]</span><span class="kw">)</span></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a><span class="ex">400000</span></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
<section id="transferências-entre-as-carteiras" class="level2" data-number="6.10">
<h2 data-number="6.10" class="anchored" data-anchor-id="transferências-entre-as-carteiras"><span class="header-section-number">6.10</span> Transferências entre as Carteiras</h2>
<p>Vamos enviar <span class="math inline">\(100\)</span> <em>ethers</em> de uma carteira para outra. Se utilizarmos uma conta que não tem saldo suficiente, seremos avisados.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb31"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.accounts</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="ex">[</span><span class="st">"0x2db017e44b03b37755a4b15e14cd799f83de4c13"</span><span class="ex">,</span> <span class="st">"0xbb36f26e6c16b3c7ed3d70bfb26f740336b4f976"</span>, <span class="st">"0x67a3a0eace0bb180b94948ae02b09b7f8948ca60"</span>]</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.estimateGas<span class="kw">(</span><span class="ex">{from:</span> <span class="st">"0x2db017e44b03b37755a4b15e14cd799f83de4c13"</span>, to: <span class="st">"0xbb36f26e6c16b3c7ed3d70bfb26f740336b4f970"</span>, value: 100}<span class="kw">)</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="ex">21000</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.estimateGas<span class="kw">(</span><span class="ex">{from:</span> <span class="st">"0x2db017e44b03b37755a4b15e14cd799f83de4c13"</span>, to: <span class="st">"0x67a3a0eace0bb180b94948ae02b09b7f8948ca60"</span>, value: 100}<span class="kw">)</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a><span class="ex">21000</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.sendTransaction<span class="kw">(</span><span class="ex">{from:</span> <span class="st">"0x67a3a0eace0bb180b94948ae02b09b7f8948ca60"</span>, to: <span class="st">"0xbb36f26e6c16b3c7ed3d70bfb26f740336b4f976"</span>, value: 100}<span class="kw">)</span></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a><span class="ex">Error:</span> insufficient funds for transfer</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>        <span class="ex">at</span> web3.js:6365:9<span class="er">(</span><span class="ex">39</span><span class="kw">)</span></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>        <span class="ex">at</span> send <span class="er">(</span><span class="ex">web3.js:5099:62</span><span class="er">(</span><span class="ex">29</span><span class="kw">))</span></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>        <span class="ex">at</span> <span class="op">&lt;</span>eval<span class="op">&gt;</span>:1:20<span class="er">(</span><span class="ex">9</span><span class="kw">)</span></span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Fazendo uma transferência de uma conta com saldo. Se o erro <code>Error: gas required exceeds allowance (0)</code> ocorrer:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb32"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.sendTransaction<span class="kw">(</span><span class="ex">{from:</span> <span class="st">"0x2db017e44b03b37755a4b15e14cd799f83de4c13"</span>, to: <span class="st">"0xbb36f26e6c16b3c7ed3d70bfb26f740336b4f976"</span>, value: 100}<span class="kw">)</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Error:</span> gas required exceeds allowance <span class="er">(</span><span class="ex">0</span><span class="kw">)</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>        <span class="ex">at</span> web3.js:6365:9<span class="er">(</span><span class="ex">39</span><span class="kw">)</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>        <span class="ex">at</span> send <span class="er">(</span><span class="ex">web3.js:5099:62</span><span class="er">(</span><span class="ex">29</span><span class="kw">))</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>        <span class="ex">at</span> <span class="op">&lt;</span>eval<span class="op">&gt;</span>:1:20<span class="er">(</span><span class="ex">9</span><span class="kw">)</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>No terminal de execução do <code>geth</code> irá aparecer a mensagem de erro:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb33"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="ex">WARN</span> [09-17<span class="kw">|</span><span class="ex">16:39:16.283]</span> Gas estimation capped by limited funds   original=8,007,811 balance=300,000 sent=100 maxFeePerGas=1,000,000,000 fundable=0</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="ex">WARN</span> [09-17<span class="kw">|</span><span class="ex">16:39:16.283]</span> Served eth_sendTransaction               reqid=10 duration=<span class="st">"297.6us"</span>   err=<span class="st">"gas required exceeds allowance (0)"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Utilize o parâmetro <code>--miner.gasprice</code> para alterar o gasprice para <span class="math inline">\(1\)</span>.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb34"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[.etherprivate-clique]$</span> <span class="va">$HOME</span>/go-ethereum-1.12.2/build/bin/geth <span class="at">--networkid</span> 786 <span class="at">--identity</span> <span class="st">"RAGEtherPrivate"</span> <span class="at">--datadir</span> ~/.etherprivate-clique <span class="at">--syncmode</span> full <span class="at">--allow-insecure-unlock</span> <span class="at">--http</span> <span class="at">--http.addr</span> 127.0.0.1 <span class="at">--http.port</span> 8559 <span class="at">--http.api</span> <span class="st">"eth,net,web3,personal,engine,admin,debug"</span> <span class="at">--keystore</span> ~/.etherprivate-clique/keystore <span class="at">--authrpc.addr</span> localhost <span class="at">--authrpc.port</span> 8551 <span class="at">--authrpc.vhosts</span> localhost <span class="at">--authrpc.jwtsecret</span> ~/.etherprivate-clique/geth/jwtsecret <span class="at">--nodiscover</span> <span class="at">--maxpeers</span> 15 <span class="at">--miner.etherbase</span><span class="op">=</span>0x2db017e44b03b37755a4b15e14cd799f83de4c13 <span class="at">--miner.gasprice</span> <span class="st">"1"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>O erro <code>Error: authentication needed: password or unlock</code> ocorre porque é necessário autenticação para a realização de transações, precisamos autorizar a transação.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb35"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.sendTransaction<span class="kw">(</span><span class="ex">{from:</span> <span class="st">"0x2db017e44b03b37755a4b15e14cd799f83de4c13"</span>, to: <span class="st">"0xbb36f26e6c16b3c7ed3d70bfb26f740336b4f976"</span>, value: 100}<span class="kw">)</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="st">"0xfeb0a7dd835eceb30b14b4f3e5bd8cc906d3aa33af5dbec5b941deaa8f91971b"</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.sendTransaction<span class="kw">(</span><span class="ex">{from:</span> <span class="st">"0x2db017e44b03b37755a4b15e14cd799f83de4c13"</span>, to: <span class="st">"0xbb36f26e6c16b3c7ed3d70bfb26f740336b4f976"</span>, value: 100}<span class="kw">)</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="ex">Error:</span> authentication needed: password or unlock</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>        <span class="ex">at</span> web3.js:6365:9<span class="er">(</span><span class="ex">39</span><span class="kw">)</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>        <span class="ex">at</span> send <span class="er">(</span><span class="ex">web3.js:5099:62</span><span class="er">(</span><span class="ex">29</span><span class="kw">))</span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>        <span class="ex">at</span> <span class="op">&lt;</span>eval<span class="op">&gt;</span>:1:20<span class="er">(</span><span class="ex">9</span><span class="kw">)</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>No terminal de execução do <code>geth</code> irá aparecer o aviso.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb36"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="ex">WARN</span> [09-17<span class="kw">|</span><span class="ex">18:58:31.625]</span> Served eth_sendTransaction               reqid=33 duration=<span class="st">"754.024us"</span> err=<span class="st">"authentication needed: password or unlock"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Na versão utilizada é preciso utilizar o <code>clef</code> para fazer a autenticação em um terminal. Inicie a instância do <code>clef</code> com o comando:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb37"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[.etherprivate]$</span> /home/rag/go-ethereum-1.12.2/build/bin/clef <span class="at">--chainid</span> 786 <span class="at">--keystore</span> ~/.etherprivate-clique/keystore <span class="at">--configdir</span> ~/.etherprivate-clique/clef <span class="at">--http</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="ex">WARNING!</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a><span class="ex">Clef</span> is an account management tool. It may, like any software, contain bugs.</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a><span class="ex">Please</span> take care to</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span> backup your keystore files,</span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span> verify that the keystore<span class="er">(</span><span class="ex">s</span><span class="kw">)</span> <span class="ex">can</span> be opened with your password.</span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a><span class="ex">Clef</span> is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY<span class="kw">;</span></span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a><span class="ex">without</span> even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR</span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a><span class="ex">PURPOSE.</span> See the GNU General Public License for more details.</span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a><span class="ex">Enter</span> <span class="st">'ok'</span> to proceed:</span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> ok</span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-17<span class="kw">|</span><span class="ex">10:23:09.630]</span> Using CLI as UI-channel </span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-17<span class="kw">|</span><span class="ex">10:23:10.050]</span> Loaded 4byte database                    embeds=268,621 locals=0 local=./4byte-custom.json</span>
<span id="cb37-20"><a href="#cb37-20" aria-hidden="true" tabindex="-1"></a><span class="ex">WARN</span> [04-17<span class="kw">|</span><span class="ex">10:23:10.050]</span> Failed to open master, rules disabled    err=<span class="st">"failed stat on /home/rag/.etherprivate-clique/clef/masterseed.json: stat /home/rag/.etherprivate-clique/clef/masterseed.json: no such file or directory"</span></span>
<span id="cb37-21"><a href="#cb37-21" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-17<span class="kw">|</span><span class="ex">10:23:10.050]</span> Starting signer                          chainid=786 keystore=/home/rag/.etherprivate-clique/keystore light-kdf=false advanced=false</span>
<span id="cb37-22"><a href="#cb37-22" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-17<span class="kw">|</span><span class="ex">10:23:10.052]</span> Smartcard socket file missing, disabling err=<span class="st">"stat /run/pcscd/pcscd.comm: no such file or directory"</span></span>
<span id="cb37-23"><a href="#cb37-23" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-17<span class="kw">|</span><span class="ex">10:23:10.052]</span> Audit logs configured                    file=audit.log</span>
<span id="cb37-24"><a href="#cb37-24" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-17<span class="kw">|</span><span class="ex">10:23:10.053]</span> HTTP endpoint opened                     url=http://127.0.0.1:8550/</span>
<span id="cb37-25"><a href="#cb37-25" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-17<span class="kw">|</span><span class="ex">10:23:10.053]</span> IPC endpoint opened                      url=/home/rag/.etherprivate-clique/clef/clef.ipc</span>
<span id="cb37-26"><a href="#cb37-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-27"><a href="#cb37-27" aria-hidden="true" tabindex="-1"></a><span class="ex">-------</span> Signer info <span class="at">-------</span></span>
<span id="cb37-28"><a href="#cb37-28" aria-hidden="true" tabindex="-1"></a><span class="ex">*</span> extapi_version : 6.1.0</span>
<span id="cb37-29"><a href="#cb37-29" aria-hidden="true" tabindex="-1"></a><span class="ex">*</span> extapi_http : http://127.0.0.1:8550/</span>
<span id="cb37-30"><a href="#cb37-30" aria-hidden="true" tabindex="-1"></a><span class="ex">*</span> extapi_ipc : /home/rag/.etherprivate-clique/clef/clef.ipc</span>
<span id="cb37-31"><a href="#cb37-31" aria-hidden="true" tabindex="-1"></a><span class="ex">*</span> intapi_version : 7.0.1</span>
<span id="cb37-32"><a href="#cb37-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-33"><a href="#cb37-33" aria-hidden="true" tabindex="-1"></a><span class="ex">-------</span> Available accounts <span class="at">-------</span></span>
<span id="cb37-34"><a href="#cb37-34" aria-hidden="true" tabindex="-1"></a><span class="ex">0.</span> 0x2db017E44b03B37755A4b15e14Cd799f83DE4c13 at keystore:///home/rag/.etherprivate-clique/keystore/UTC--2023-04-17T12-22-11.261468773Z--2db017e44b03b37755a4b15e14cd799f83de4c13</span>
<span id="cb37-35"><a href="#cb37-35" aria-hidden="true" tabindex="-1"></a><span class="ex">1.</span> 0x7A7686aD451d2865A2246E239B674aeFd4c6c27c at keystore:///home/rag/.etherprivate-clique/keystore/UTC--2023-04-17T12-28-54.934614755Z--7a7686ad451d2865a2246e239b674aefd4c6c27c</span>
<span id="cb37-36"><a href="#cb37-36" aria-hidden="true" tabindex="-1"></a><span class="ex">--------</span> List Account request--------------</span>
<span id="cb37-37"><a href="#cb37-37" aria-hidden="true" tabindex="-1"></a><span class="ex">A</span> request has been made to list all accounts. </span>
<span id="cb37-38"><a href="#cb37-38" aria-hidden="true" tabindex="-1"></a><span class="ex">You</span> can select which accounts the caller can see</span>
<span id="cb37-39"><a href="#cb37-39" aria-hidden="true" tabindex="-1"></a>  <span class="ex">[x]</span> 0x2db017E44b03B37755A4b15e14Cd799f83DE4c13</span>
<span id="cb37-40"><a href="#cb37-40" aria-hidden="true" tabindex="-1"></a>    <span class="ex">URL:</span> keystore:///home/rag/.etherprivate-clique/keystore/UTC--2023-04-17T12-22-11.261468773Z--2db017e44b03b37755a4b15e14cd799f83de4c13</span>
<span id="cb37-41"><a href="#cb37-41" aria-hidden="true" tabindex="-1"></a>  <span class="ex">[x]</span> 0x7A7686aD451d2865A2246E239B674aeFd4c6c27c</span>
<span id="cb37-42"><a href="#cb37-42" aria-hidden="true" tabindex="-1"></a>    <span class="ex">URL:</span> keystore:///home/rag/.etherprivate-clique/keystore/UTC--2023-04-17T12-28-54.934614755Z--7a7686ad451d2865a2246e239b674aefd4c6c27c</span>
<span id="cb37-43"><a href="#cb37-43" aria-hidden="true" tabindex="-1"></a><span class="ex">-------------------------------------------</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>E volte ao terminal de execução do <code>geth</code> e indique que as autentificações serão via <code>clef</code> com o parâmetro <code>--signer=/home/rag/.etherprivate-clique/clef/clef.ipc</code> passando o caminho dado pelo <code>clef</code>.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb38"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[.etherprivate-clique]$</span> <span class="va">$HOME</span>/go-ethereum-1.12.2/build/bin/geth <span class="at">--networkid</span> 786 <span class="at">--identity</span> <span class="st">"RAGEtherPrivate"</span> <span class="at">--datadir</span> ~/.etherprivate-clique <span class="at">--syncmode</span> full <span class="at">--allow-insecure-unlock</span> <span class="at">--http</span> <span class="at">--http.addr</span> 127.0.0.1 <span class="at">--http.port</span> 8559 <span class="at">--http.api</span> <span class="st">"eth,net,web3,personal,engine,admin,debug"</span> <span class="at">--keystore</span> ~/.etherprivate-clique/keystore <span class="at">--authrpc.addr</span> localhost <span class="at">--authrpc.port</span> 8551 <span class="at">--authrpc.vhosts</span> localhost <span class="at">--authrpc.jwtsecret</span> ~/.etherprivate-clique/geth/jwtsecret <span class="at">--nodiscover</span> <span class="at">--maxpeers</span> 15 <span class="at">--miner.etherbase</span><span class="op">=</span>0x2db017e44b03b37755a4b15e14cd799f83de4c13 <span class="at">--miner.gasprice</span> <span class="st">"1"</span> <span class="at">--signer</span><span class="op">=</span>/home/rag/.etherprivate-clique/clef/clef.ipc</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Cada transação executada no <em>console</em> <code>JavaScript</code> deverá ser autorizada no console do <code>clef</code>.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb39"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.accounts</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="ex">[</span><span class="st">"0x2db017e44b03b37755a4b15e14cd799f83de4c13"</span><span class="ex">,</span> <span class="st">"0xbb36f26e6c16b3c7ed3d70bfb26f740336b4f976"</span>, <span class="st">"0x67a3a0eace0bb180b94948ae02b09b7f8948ca60"</span>]</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> clique.getSigners<span class="kw">()</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a><span class="ex">[</span><span class="st">"0x2db017e44b03b37755a4b15e14cd799f83de4c13"</span><span class="ex">,</span> <span class="st">"0xb9083d7e2371944fe035ce99af680d89e2c4d73a"</span>, <span class="st">"0xbb36f26e6c16b3c7ed3d70bfb26f740336b4f976"</span>, <span class="st">"0xca01dbfc1bd2fd94dc421209441a754f79c4a4ec"</span>]</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.getBalance<span class="kw">(</span><span class="st">"0x67a3a0eace0bb180b94948ae02b09b7f8948ca60"</span><span class="kw">)</span></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a><span class="ex">0</span></span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.getBalance<span class="kw">(</span><span class="st">"0xbb36f26e6c16b3c7ed3d70bfb26f740336b4f976"</span><span class="kw">)</span></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a><span class="ex">400000</span></span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.getBalance<span class="kw">(</span><span class="st">"0x2db017e44b03b37755a4b15e14cd799f83de4c13"</span><span class="kw">)</span></span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a><span class="ex">300000</span></span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.sendTransaction<span class="kw">(</span><span class="ex">{from:</span> <span class="st">"0x2db017e44b03b37755a4b15e14cd799f83de4c13"</span>, to: <span class="st">"0xbb36f26e6c16b3c7ed3d70bfb26f740336b4f976"</span>, value: 100}<span class="kw">)</span></span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a><span class="st">"0xf9dba156ca7aec18836ff354263b4032209250009c323e29406334a13f34a21f"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>No console do <code>clef</code> é possível autorizar e ver a transação assinada com <code>hash: 0xb579cc595601e4aca546ce4e46bdcded7841bd7f50a0a78c505e839dd039b8b9</code> que é o mesmo <code>id</code> devolvido no <em>console</em> <code>JavaScript</code>.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb40"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[.etherprivate-clique]$</span> /home/rag/go-ethereum-1.12.2/build/bin/clef <span class="at">--chainid</span> 786 <span class="at">--keystore</span> ~/.etherprivate-clique/keystore <span class="at">--configdir</span> ~/.etherprivate-clique/clef <span class="at">--http</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="ex">WARNING!</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a><span class="ex">Clef</span> is an account management tool. It may, like any software, contain bugs.</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a><span class="ex">Please</span> take care to</span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span> backup your keystore files,</span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span> verify that the keystore<span class="er">(</span><span class="ex">s</span><span class="kw">)</span> <span class="ex">can</span> be opened with your password.</span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a><span class="ex">Clef</span> is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY<span class="kw">;</span></span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a><span class="ex">without</span> even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR</span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a><span class="ex">PURPOSE.</span> See the GNU General Public License for more details.</span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-15"><a href="#cb40-15" aria-hidden="true" tabindex="-1"></a><span class="ex">Enter</span> <span class="st">'ok'</span> to proceed:</span>
<span id="cb40-16"><a href="#cb40-16" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> ok</span>
<span id="cb40-17"><a href="#cb40-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-18"><a href="#cb40-18" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">21:21:54.581]</span> Using CLI as UI-channel </span>
<span id="cb40-19"><a href="#cb40-19" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">21:21:54.927]</span> Loaded 4byte database                    embeds=268,621 locals=0 local=./4byte-custom.json</span>
<span id="cb40-20"><a href="#cb40-20" aria-hidden="true" tabindex="-1"></a><span class="ex">WARN</span> [09-17<span class="kw">|</span><span class="ex">21:21:54.927]</span> Failed to open master, rules disabled    err=<span class="st">"failed stat on /home/rag/.etherprivate-clique/clef/masterseed.json: stat /home/rag/.etherprivate-clique/clef/masterseed.json: no such file or directory"</span></span>
<span id="cb40-21"><a href="#cb40-21" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">21:21:54.927]</span> Starting signer                          chainid=786 keystore=/home/rag/.etherprivate-clique/keystore light-kdf=false advanced=false</span>
<span id="cb40-22"><a href="#cb40-22" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">21:21:54.930]</span> Smartcard socket file missing, disabling err=<span class="st">"stat /run/pcscd/pcscd.comm: no such file or directory"</span></span>
<span id="cb40-23"><a href="#cb40-23" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">21:21:54.930]</span> Audit logs configured                    file=audit.log</span>
<span id="cb40-24"><a href="#cb40-24" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">21:21:54.931]</span> HTTP endpoint opened                     url=http://127.0.0.1:8550/</span>
<span id="cb40-25"><a href="#cb40-25" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">21:21:54.932]</span> IPC endpoint opened                      url=/home/rag/.etherprivate-clique/clef/clef.ipc</span>
<span id="cb40-26"><a href="#cb40-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-27"><a href="#cb40-27" aria-hidden="true" tabindex="-1"></a><span class="ex">-------</span> Signer info <span class="at">-------</span></span>
<span id="cb40-28"><a href="#cb40-28" aria-hidden="true" tabindex="-1"></a><span class="ex">*</span> intapi_version : 7.0.1</span>
<span id="cb40-29"><a href="#cb40-29" aria-hidden="true" tabindex="-1"></a><span class="ex">*</span> extapi_version : 6.1.0</span>
<span id="cb40-30"><a href="#cb40-30" aria-hidden="true" tabindex="-1"></a><span class="ex">*</span> extapi_http : http://127.0.0.1:8550/</span>
<span id="cb40-31"><a href="#cb40-31" aria-hidden="true" tabindex="-1"></a><span class="ex">*</span> extapi_ipc : /home/rag/.etherprivate-clique/clef/clef.ipc</span>
<span id="cb40-32"><a href="#cb40-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-33"><a href="#cb40-33" aria-hidden="true" tabindex="-1"></a><span class="ex">-------</span> Available accounts <span class="at">-------</span></span>
<span id="cb40-34"><a href="#cb40-34" aria-hidden="true" tabindex="-1"></a><span class="ex">0.</span> 0x2db017E44b03B37755A4b15e14Cd799f83DE4c13 at keystore:///home/rag/.etherprivate-clique/keystore/UTC--2023-04-17T12-22-11.261468773Z--2db017e44b03b37755a4b15e14cd799f83de4c13</span>
<span id="cb40-35"><a href="#cb40-35" aria-hidden="true" tabindex="-1"></a><span class="ex">1.</span> 0xBb36F26E6C16B3C7ED3D70bFB26F740336B4F976 at keystore:///home/rag/.etherprivate-clique/keystore/UTC--2024-09-17T17-57-24.818641852Z--bb36f26e6c16b3c7ed3d70bfb26f740336b4f976</span>
<span id="cb40-36"><a href="#cb40-36" aria-hidden="true" tabindex="-1"></a><span class="ex">2.</span> 0x67a3A0EACe0bB180B94948ae02b09b7F8948ca60 at keystore:///home/rag/.etherprivate-clique/keystore/UTC--2024-09-17T18-52-55.377570375Z--67a3a0eace0bb180b94948ae02b09b7f8948ca60</span>
<span id="cb40-37"><a href="#cb40-37" aria-hidden="true" tabindex="-1"></a><span class="ex">--------</span> List Account request--------------</span>
<span id="cb40-38"><a href="#cb40-38" aria-hidden="true" tabindex="-1"></a><span class="ex">A</span> request has been made to list all accounts. </span>
<span id="cb40-39"><a href="#cb40-39" aria-hidden="true" tabindex="-1"></a><span class="ex">You</span> can select which accounts the caller can see</span>
<span id="cb40-40"><a href="#cb40-40" aria-hidden="true" tabindex="-1"></a>  <span class="ex">[x]</span> 0x2db017E44b03B37755A4b15e14Cd799f83DE4c13</span>
<span id="cb40-41"><a href="#cb40-41" aria-hidden="true" tabindex="-1"></a>    <span class="ex">URL:</span> keystore:///home/rag/.etherprivate-clique/keystore/UTC--2023-04-17T12-22-11.261468773Z--2db017e44b03b37755a4b15e14cd799f83de4c13</span>
<span id="cb40-42"><a href="#cb40-42" aria-hidden="true" tabindex="-1"></a>  <span class="ex">[x]</span> 0xBb36F26E6C16B3C7ED3D70bFB26F740336B4F976</span>
<span id="cb40-43"><a href="#cb40-43" aria-hidden="true" tabindex="-1"></a>    <span class="ex">URL:</span> keystore:///home/rag/.etherprivate-clique/keystore/UTC--2024-09-17T17-57-24.818641852Z--bb36f26e6c16b3c7ed3d70bfb26f740336b4f976</span>
<span id="cb40-44"><a href="#cb40-44" aria-hidden="true" tabindex="-1"></a>  <span class="ex">[x]</span> 0x67a3A0EACe0bB180B94948ae02b09b7F8948ca60</span>
<span id="cb40-45"><a href="#cb40-45" aria-hidden="true" tabindex="-1"></a>    <span class="ex">URL:</span> keystore:///home/rag/.etherprivate-clique/keystore/UTC--2024-09-17T18-52-55.377570375Z--67a3a0eace0bb180b94948ae02b09b7f8948ca60</span>
<span id="cb40-46"><a href="#cb40-46" aria-hidden="true" tabindex="-1"></a><span class="ex">-------------------------------------------</span></span>
<span id="cb40-47"><a href="#cb40-47" aria-hidden="true" tabindex="-1"></a><span class="ex">Request</span> context:</span>
<span id="cb40-48"><a href="#cb40-48" aria-hidden="true" tabindex="-1"></a>        <span class="ex">NA</span> <span class="at">-</span><span class="op">&gt;</span> ipc <span class="at">-</span><span class="op">&gt;</span> NA</span>
<span id="cb40-49"><a href="#cb40-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-50"><a href="#cb40-50" aria-hidden="true" tabindex="-1"></a><span class="ex">Additional</span> HTTP header data, provided by the external caller:</span>
<span id="cb40-51"><a href="#cb40-51" aria-hidden="true" tabindex="-1"></a>        <span class="ex">User-Agent:</span> <span class="st">""</span></span>
<span id="cb40-52"><a href="#cb40-52" aria-hidden="true" tabindex="-1"></a>        <span class="ex">Origin:</span> <span class="st">""</span></span>
<span id="cb40-53"><a href="#cb40-53" aria-hidden="true" tabindex="-1"></a><span class="ex">Approve?</span> <span class="pp">[</span><span class="ss">y/N</span><span class="pp">]</span>:</span>
<span id="cb40-54"><a href="#cb40-54" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> y</span>
<span id="cb40-55"><a href="#cb40-55" aria-hidden="true" tabindex="-1"></a><span class="ex">---------</span> Transaction request-------------</span>
<span id="cb40-56"><a href="#cb40-56" aria-hidden="true" tabindex="-1"></a><span class="ex">to:</span>    0xBb36F26E6C16B3C7ED3D70bFB26F740336B4F976</span>
<span id="cb40-57"><a href="#cb40-57" aria-hidden="true" tabindex="-1"></a><span class="ex">from:</span>               0x2db017E44b03B37755A4b15e14Cd799f83DE4c13 [chksum ok]</span>
<span id="cb40-58"><a href="#cb40-58" aria-hidden="true" tabindex="-1"></a><span class="ex">value:</span>              100 wei</span>
<span id="cb40-59"><a href="#cb40-59" aria-hidden="true" tabindex="-1"></a><span class="ex">gas:</span>                0x5208 <span class="er">(</span><span class="ex">21000</span><span class="kw">)</span></span>
<span id="cb40-60"><a href="#cb40-60" aria-hidden="true" tabindex="-1"></a><span class="ex">gasprice:</span> 1 wei</span>
<span id="cb40-61"><a href="#cb40-61" aria-hidden="true" tabindex="-1"></a><span class="ex">nonce:</span>    0x0 <span class="er">(</span><span class="ex">0</span><span class="kw">)</span></span>
<span id="cb40-62"><a href="#cb40-62" aria-hidden="true" tabindex="-1"></a><span class="ex">chainid:</span>  0x312</span>
<span id="cb40-63"><a href="#cb40-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-64"><a href="#cb40-64" aria-hidden="true" tabindex="-1"></a><span class="ex">Request</span> context:</span>
<span id="cb40-65"><a href="#cb40-65" aria-hidden="true" tabindex="-1"></a>        <span class="ex">NA</span> <span class="at">-</span><span class="op">&gt;</span> ipc <span class="at">-</span><span class="op">&gt;</span> NA</span>
<span id="cb40-66"><a href="#cb40-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-67"><a href="#cb40-67" aria-hidden="true" tabindex="-1"></a><span class="ex">Additional</span> HTTP header data, provided by the external caller:</span>
<span id="cb40-68"><a href="#cb40-68" aria-hidden="true" tabindex="-1"></a>        <span class="ex">User-Agent:</span> <span class="st">""</span></span>
<span id="cb40-69"><a href="#cb40-69" aria-hidden="true" tabindex="-1"></a>        <span class="ex">Origin:</span> <span class="st">""</span></span>
<span id="cb40-70"><a href="#cb40-70" aria-hidden="true" tabindex="-1"></a><span class="ex">-------------------------------------------</span></span>
<span id="cb40-71"><a href="#cb40-71" aria-hidden="true" tabindex="-1"></a><span class="ex">Approve?</span> <span class="pp">[</span><span class="ss">y/N</span><span class="pp">]</span>:</span>
<span id="cb40-72"><a href="#cb40-72" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> y</span>
<span id="cb40-73"><a href="#cb40-73" aria-hidden="true" tabindex="-1"></a><span class="ex">\#\#</span> Account password</span>
<span id="cb40-74"><a href="#cb40-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-75"><a href="#cb40-75" aria-hidden="true" tabindex="-1"></a><span class="ex">Please</span> enter the password for account 0x2db017E44b03B37755A4b15e14Cd799f83DE4c13</span>
<span id="cb40-76"><a href="#cb40-76" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> </span>
<span id="cb40-77"><a href="#cb40-77" aria-hidden="true" tabindex="-1"></a><span class="ex">-----------------------</span></span>
<span id="cb40-78"><a href="#cb40-78" aria-hidden="true" tabindex="-1"></a><span class="ex">Transaction</span> signed:</span>
<span id="cb40-79"><a href="#cb40-79" aria-hidden="true" tabindex="-1"></a> <span class="kw">{</span></span>
<span id="cb40-80"><a href="#cb40-80" aria-hidden="true" tabindex="-1"></a>    <span class="st">"type"</span><span class="ex">:</span> <span class="st">"0x0"</span>,</span>
<span id="cb40-81"><a href="#cb40-81" aria-hidden="true" tabindex="-1"></a>    <span class="st">"chainId"</span><span class="ex">:</span> <span class="st">"0x312"</span>,</span>
<span id="cb40-82"><a href="#cb40-82" aria-hidden="true" tabindex="-1"></a>    <span class="st">"nonce"</span><span class="ex">:</span> <span class="st">"0x0"</span>,</span>
<span id="cb40-83"><a href="#cb40-83" aria-hidden="true" tabindex="-1"></a>    <span class="st">"to"</span><span class="ex">:</span> <span class="st">"0xbb36f26e6c16b3c7ed3d70bfb26f740336b4f976"</span>,</span>
<span id="cb40-84"><a href="#cb40-84" aria-hidden="true" tabindex="-1"></a>    <span class="st">"gas"</span><span class="ex">:</span> <span class="st">"0x5208"</span>,</span>
<span id="cb40-85"><a href="#cb40-85" aria-hidden="true" tabindex="-1"></a>    <span class="st">"gasPrice"</span><span class="ex">:</span> <span class="st">"0x1"</span>,</span>
<span id="cb40-86"><a href="#cb40-86" aria-hidden="true" tabindex="-1"></a>    <span class="st">"maxPriorityFeePerGas"</span><span class="ex">:</span> null,</span>
<span id="cb40-87"><a href="#cb40-87" aria-hidden="true" tabindex="-1"></a>    <span class="st">"maxFeePerGas"</span><span class="ex">:</span> null,</span>
<span id="cb40-88"><a href="#cb40-88" aria-hidden="true" tabindex="-1"></a>    <span class="st">"value"</span><span class="ex">:</span> <span class="st">"0x64"</span>,</span>
<span id="cb40-89"><a href="#cb40-89" aria-hidden="true" tabindex="-1"></a>    <span class="st">"input"</span><span class="ex">:</span> <span class="st">"0x"</span>,</span>
<span id="cb40-90"><a href="#cb40-90" aria-hidden="true" tabindex="-1"></a>    <span class="st">"v"</span><span class="ex">:</span> <span class="st">"0x647"</span>,</span>
<span id="cb40-91"><a href="#cb40-91" aria-hidden="true" tabindex="-1"></a>    <span class="st">"r"</span><span class="ex">:</span> <span class="st">"0x88b5dcb76a2b3afb4cf16f2a0d67320e8cf3f6711d4001812357e7dde86a5d21"</span>,</span>
<span id="cb40-92"><a href="#cb40-92" aria-hidden="true" tabindex="-1"></a>    <span class="st">"s"</span><span class="ex">:</span> <span class="st">"0x12b5cb7118d7b2f777035d4de0c2ccf8facdca5a1dab46bc8e8f8eb28614a95"</span>,</span>
<span id="cb40-93"><a href="#cb40-93" aria-hidden="true" tabindex="-1"></a>    <span class="st">"hash"</span><span class="ex">:</span> <span class="st">"0xf9dba156ca7aec18836ff354263b4032209250009c323e29406334a13f34a21f"</span></span>
<span id="cb40-94"><a href="#cb40-94" aria-hidden="true" tabindex="-1"></a>  <span class="kw">}</span></span>
<span id="cb40-95"><a href="#cb40-95" aria-hidden="true" tabindex="-1"></a><span class="ex">--------</span> Sign data request--------------</span>
<span id="cb40-96"><a href="#cb40-96" aria-hidden="true" tabindex="-1"></a><span class="ex">Account:</span>  0x2db017E44b03B37755A4b15e14Cd799f83DE4c13 [chksum ok]</span>
<span id="cb40-97"><a href="#cb40-97" aria-hidden="true" tabindex="-1"></a><span class="ex">messages:</span></span>
<span id="cb40-98"><a href="#cb40-98" aria-hidden="true" tabindex="-1"></a>  <span class="ex">Clique</span> header <span class="pp">[</span><span class="ss">clique</span><span class="pp">]</span>: <span class="st">"clique header 1 [0xb3e3cd9869adf0c80864715bbc84d13e7bcc394d8e8c68342b5fb498e3415882]"</span></span>
<span id="cb40-99"><a href="#cb40-99" aria-hidden="true" tabindex="-1"></a><span class="ex">raw</span> data:  </span>
<span id="cb40-100"><a href="#cb40-100" aria-hidden="true" tabindex="-1"></a>        <span class="st">"\xf9\x02\x16\xa0\xf5\x9eV\x96\xa1*r_\xa5\x00\xf7\xf8\xb1\xef\xbb\xe8l\xd9\x05G\x17z\x91\x11m\xd0**\xa3\xccM\xe8\xde\xc7]z\xab\x85\xb5g\xb6\xcc\xd4\x1a\xd3\x12E\x1b\x94\x8at\x13\xf0\xa1B\xfdG\x94\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xa0B\xb1y</span><span class="dt">\\</span><span class="st">U:r\x850|\x8bx\xf3M\xb9]e\x18\xa4\x9b\xdfQ\xe4\xc1\x87\x9d\x01\xa1{\xa0\xdfF\xc7\xf3\xc5B\xbc\xb2h7r\n\xae\xb1\xd9\xe9&amp;Z\x04\xe8\xe8#6!\xb6^U\xb0\x97\xe2\a\xa0\xa0\x05k#\xfb\xbaH\x06\x96\xb6_\x8f!H\xa1)\x91\x03\xc4\xf5}\xf89#:\xf2\xcfL\xa2\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01\x01\x83z0\x83\x82R\b\x84f\xea\x1dk\xa0\u0603\x01\f\x02\x84geth\x88go1.21.1\x85linux\x00\x00\x00\x00\x00\x00\x00\xa0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x88\x00\x00\x00\x00\x00\x00\x00\x00"</span></span>
<span id="cb40-101"><a href="#cb40-101" aria-hidden="true" tabindex="-1"></a><span class="ex">data</span> hash:  0x95c84367fee5668f5b6571712467e56e8bace022ec24ba761cb7e62d51164581</span>
<span id="cb40-102"><a href="#cb40-102" aria-hidden="true" tabindex="-1"></a><span class="ex">-------------------------------------------</span></span>
<span id="cb40-103"><a href="#cb40-103" aria-hidden="true" tabindex="-1"></a><span class="ex">Request</span> context:</span>
<span id="cb40-104"><a href="#cb40-104" aria-hidden="true" tabindex="-1"></a>        <span class="ex">NA</span> <span class="at">-</span><span class="op">&gt;</span> ipc <span class="at">-</span><span class="op">&gt;</span> NA</span>
<span id="cb40-105"><a href="#cb40-105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-106"><a href="#cb40-106" aria-hidden="true" tabindex="-1"></a><span class="ex">Additional</span> HTTP header data, provided by the external caller:</span>
<span id="cb40-107"><a href="#cb40-107" aria-hidden="true" tabindex="-1"></a>        <span class="ex">User-Agent:</span> <span class="st">""</span></span>
<span id="cb40-108"><a href="#cb40-108" aria-hidden="true" tabindex="-1"></a>        <span class="ex">Origin:</span> <span class="st">""</span></span>
<span id="cb40-109"><a href="#cb40-109" aria-hidden="true" tabindex="-1"></a><span class="ex">Approve?</span> <span class="pp">[</span><span class="ss">y/N</span><span class="pp">]</span>:</span>
<span id="cb40-110"><a href="#cb40-110" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> y</span>
<span id="cb40-111"><a href="#cb40-111" aria-hidden="true" tabindex="-1"></a><span class="ex">\#\#</span> Password for signing</span>
<span id="cb40-112"><a href="#cb40-112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-113"><a href="#cb40-113" aria-hidden="true" tabindex="-1"></a><span class="ex">Please</span> enter password for signing data with account 0x2db017E44b03B37755A4b15e14Cd799f83DE4c13</span>
<span id="cb40-114"><a href="#cb40-114" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> </span>
<span id="cb40-115"><a href="#cb40-115" aria-hidden="true" tabindex="-1"></a><span class="ex">-----------------------</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>No terminal de execução do <code>geth</code> vai aparecer que a transação <code>0xf9dba156ca7aec18836ff354263b4032209250009c323e29406334a13f34a21f</code> foi submetida:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb41"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="ex">WARN</span> [09-17<span class="kw">|</span><span class="ex">21:22:43.166]</span> Gas estimation capped by limited funds   original=8,007,811 balance=300,000 sent=100 maxFeePerGas=1 fundable=299,900</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">21:22:50.751]</span> Setting new local account                address=0x2db017E44b03B37755A4b15e14Cd799f83DE4c13</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">21:22:50.752]</span> Submitted transaction                    hash=0xf9dba156ca7aec18836ff354263b4032209250009c323e29406334a13f34a21f from=0x2db017E44b03B37755A4b15e14Cd799f83DE4c13 nonce=0 recipient=0xBb36F26E6C16B3C7ED3D70bFB26F740336B4F976 value=100</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">21:23:07.055]</span> Legacy pool tip threshold updated        tip=1</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">21:23:07.056]</span> Commit new sealing work                  number=1 sealhash=95c843..164581 txs=1 gas=21000 fees=2.1e-14 elapsed=<span class="st">"508.177us"</span></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">21:23:13.936]</span> Successfully sealed new block            number=1 sealhash=95c843..164581 hash=8c6143..92674c elapsed=6.879s</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-17<span class="kw">|</span><span class="ex">21:23:13.936]</span> Commit new sealing work                  number=2 sealhash=feb862..1ac97a txs=0 gas=0     fees=0       elapsed=<span class="st">"699.477us"</span></span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a><span class="ex">WARN</span> [09-17<span class="kw">|</span><span class="ex">21:23:13.936]</span> Block sealing failed                     err=<span class="st">"signed recently, must wait for others"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>No <em>console</em> <code>JavaScript</code> é possível recuperar o recibo da transação:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb42"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.sendTransaction<span class="kw">(</span><span class="ex">{from:</span> <span class="st">"0x2db017e44b03b37755a4b15e14cd799f83de4c13"</span>, to: <span class="st">"0xbb36f26e6c16b3c7ed3d70bfb26f740336b4f976"</span>, value: 100}<span class="kw">)</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="st">"0xf9dba156ca7aec18836ff354263b4032209250009c323e29406334a13f34a21f"</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.getTransactionReceipt<span class="kw">(</span><span class="st">"0xf9dba156ca7aec18836ff354263b4032209250009c323e29406334a13f34a21f"</span><span class="kw">)</span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="ex">null</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>O recibo ainda é <code>null</code> porque a transação não foi processada. É preciso minerar para a transação ser efetivada:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb43"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> miner.start<span class="kw">()</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="ex">null</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> miner.stop<span class="kw">()</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.getTransactionReceipt<span class="kw">(</span><span class="st">"0xf9dba156ca7aec18836ff354263b4032209250009c323e29406334a13f34a21f"</span><span class="kw">)</span></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a><span class="kw">{</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>  <span class="ex">blockHash:</span> <span class="st">"0x8c6143968850c76ac5fd6bdbd1e24edffb5b1aaeb01430c94a5753f12692674c"</span>,</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>  <span class="ex">blockNumber:</span> 1,</span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>  <span class="ex">contractAddress:</span> null,</span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>  <span class="ex">cumulativeGasUsed:</span> 21000,</span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>  <span class="ex">effectiveGasPrice:</span> 1,</span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>  <span class="ex">from:</span> <span class="st">"0x2db017e44b03b37755a4b15e14cd799f83de4c13"</span>,</span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a>  <span class="ex">gasUsed:</span> 21000,</span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a>  <span class="ex">logs:</span> [],</span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a>  <span class="ex">logsBloom:</span> <span class="st">"0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"</span>,</span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a>  <span class="ex">status:</span> <span class="st">"0x1"</span>,</span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a>  <span class="ex">to:</span> <span class="st">"0xbb36f26e6c16b3c7ed3d70bfb26f740336b4f976"</span>,</span>
<span id="cb43-17"><a href="#cb43-17" aria-hidden="true" tabindex="-1"></a>  <span class="ex">transactionHash:</span> <span class="st">"0xf9dba156ca7aec18836ff354263b4032209250009c323e29406334a13f34a21f"</span>,</span>
<span id="cb43-18"><a href="#cb43-18" aria-hidden="true" tabindex="-1"></a>  <span class="ex">transactionIndex:</span> 0,</span>
<span id="cb43-19"><a href="#cb43-19" aria-hidden="true" tabindex="-1"></a>  <span class="ex">type:</span> <span class="st">"0x0"</span></span>
<span id="cb43-20"><a href="#cb43-20" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>O saldo das contas também foi alterado conforme a transferência executada:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb44"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.getBalance<span class="kw">(</span><span class="st">"0x2db017e44b03b37755a4b15e14cd799f83de4c13"</span><span class="kw">)</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="ex">299900</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.getBalance<span class="kw">(</span><span class="st">"0xbb36f26e6c16b3c7ed3d70bfb26f740336b4f976"</span><span class="kw">)</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a><span class="ex">400100</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.getBalance<span class="kw">(</span><span class="st">"0x67a3a0eace0bb180b94948ae02b09b7f8948ca60"</span><span class="kw">)</span></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a><span class="ex">0</span></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Ao enviar outra quantidade para a segunda conta é preciso autorizar a transação no console do <code>clef</code> e minerar novamente para ela ser efetivada.</p>
<!-- TODO: https://coinsbench.com/create-a-private-ethereum-blockchain-network-829be72658a -->
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb45"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.sendTransaction<span class="kw">(</span><span class="ex">{from:</span> <span class="st">"0x2db017e44b03b37755a4b15e14cd799f83de4c13"</span>, to: <span class="st">"0x67a3A0EACe0bB180B94948ae02b09b7F8948ca60"</span>, value: 100}<span class="kw">)</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="st">"0x4d60fdb557de763b557ed6f487d882caa3d639af02c9ef04e88afb8cc3ed7969"</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.getTransactionReceipt<span class="kw">(</span><span class="st">"0x4d60fdb557de763b557ed6f487d882caa3d639af02c9ef04e88afb8cc3ed7969"</span><span class="kw">)</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a><span class="ex">null</span></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> miner.start<span class="kw">()</span></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a><span class="ex">null</span></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.getTransactionReceipt<span class="kw">(</span><span class="st">"0x4d60fdb557de763b557ed6f487d882caa3d639af02c9ef04e88afb8cc3ed7969"</span><span class="kw">)</span></span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a><span class="kw">{</span></span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>  <span class="ex">blockHash:</span> <span class="st">"0x31eba241518f12f89fec5958c58ae38cd7ec2c5c85b5f6f59755cd9b0e210fbf"</span>,</span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a>  <span class="ex">blockNumber:</span> 1,</span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a>  <span class="ex">contractAddress:</span> null,</span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a>  <span class="ex">cumulativeGasUsed:</span> 21000,</span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a>  <span class="ex">effectiveGasPrice:</span> 1,</span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a>  <span class="ex">from:</span> <span class="st">"0x2db017e44b03b37755a4b15e14cd799f83de4c13"</span>,</span>
<span id="cb45-15"><a href="#cb45-15" aria-hidden="true" tabindex="-1"></a>  <span class="ex">gasUsed:</span> 21000,</span>
<span id="cb45-16"><a href="#cb45-16" aria-hidden="true" tabindex="-1"></a>  <span class="ex">logs:</span> [],</span>
<span id="cb45-17"><a href="#cb45-17" aria-hidden="true" tabindex="-1"></a>  <span class="ex">logsBloom:</span> <span class="st">"0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"</span>,</span>
<span id="cb45-18"><a href="#cb45-18" aria-hidden="true" tabindex="-1"></a>  <span class="ex">status:</span> <span class="st">"0x1"</span>,</span>
<span id="cb45-19"><a href="#cb45-19" aria-hidden="true" tabindex="-1"></a>  <span class="ex">to:</span> <span class="st">"0x67a3a0eace0bb180b94948ae02b09b7f8948ca60"</span>,</span>
<span id="cb45-20"><a href="#cb45-20" aria-hidden="true" tabindex="-1"></a>  <span class="ex">transactionHash:</span> <span class="st">"0x4d60fdb557de763b557ed6f487d882caa3d639af02c9ef04e88afb8cc3ed7969"</span>,</span>
<span id="cb45-21"><a href="#cb45-21" aria-hidden="true" tabindex="-1"></a>  <span class="ex">transactionIndex:</span> 0,</span>
<span id="cb45-22"><a href="#cb45-22" aria-hidden="true" tabindex="-1"></a>  <span class="ex">type:</span> <span class="st">"0x0"</span></span>
<span id="cb45-23"><a href="#cb45-23" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb45-24"><a href="#cb45-24" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> miner.stop<span class="kw">()</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Console do <code>clef</code> para a segunda transação:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb46"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[rogerio@ryzen-nitro</span> .etherprivate-clique]$ /home/rag/go-ethereum-1.12.2/build/bin/clef <span class="at">--chainid</span> 786 <span class="at">--keystore</span> ~/.etherprivate-clique/keystore <span class="at">--configdir</span> ~/.etherprivate-clique/clef <span class="at">--http</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a><span class="ex">WARNING!</span></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a><span class="ex">Clef</span> is an account management tool. It may, like any software, contain bugs.</span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a><span class="ex">Please</span> take care to</span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span> backup your keystore files,</span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span> verify that the keystore<span class="er">(</span><span class="ex">s</span><span class="kw">)</span> <span class="ex">can</span> be opened with your password.</span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a><span class="ex">Clef</span> is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY<span class="kw">;</span></span>
<span id="cb46-12"><a href="#cb46-12" aria-hidden="true" tabindex="-1"></a><span class="ex">without</span> even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR</span>
<span id="cb46-13"><a href="#cb46-13" aria-hidden="true" tabindex="-1"></a><span class="ex">PURPOSE.</span> See the GNU General Public License for more details.</span>
<span id="cb46-14"><a href="#cb46-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-15"><a href="#cb46-15" aria-hidden="true" tabindex="-1"></a><span class="ex">Enter</span> <span class="st">'ok'</span> to proceed:</span>
<span id="cb46-16"><a href="#cb46-16" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> ok</span>
<span id="cb46-17"><a href="#cb46-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-18"><a href="#cb46-18" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-18<span class="kw">|</span><span class="ex">20:37:10.231]</span> Using CLI as UI-channel </span>
<span id="cb46-19"><a href="#cb46-19" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-18<span class="kw">|</span><span class="ex">20:37:10.545]</span> Loaded 4byte database                    embeds=268,621 locals=0 local=./4byte-custom.json</span>
<span id="cb46-20"><a href="#cb46-20" aria-hidden="true" tabindex="-1"></a><span class="ex">WARN</span> [09-18<span class="kw">|</span><span class="ex">20:37:10.545]</span> Failed to open master, rules disabled    err=<span class="st">"failed stat on /home/rag/.etherprivate-clique/clef/masterseed.json: stat /home/rag/.etherprivate-clique/clef/masterseed.json: no such file or directory"</span></span>
<span id="cb46-21"><a href="#cb46-21" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-18<span class="kw">|</span><span class="ex">20:37:10.545]</span> Starting signer                          chainid=786 keystore=/home/rag/.etherprivate-clique/keystore light-kdf=false advanced=false</span>
<span id="cb46-22"><a href="#cb46-22" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-18<span class="kw">|</span><span class="ex">20:37:10.547]</span> Smartcard socket file missing, disabling err=<span class="st">"stat /run/pcscd/pcscd.comm: no such file or directory"</span></span>
<span id="cb46-23"><a href="#cb46-23" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-18<span class="kw">|</span><span class="ex">20:37:10.548]</span> Audit logs configured                    file=audit.log</span>
<span id="cb46-24"><a href="#cb46-24" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-18<span class="kw">|</span><span class="ex">20:37:10.549]</span> HTTP endpoint opened                     url=http://127.0.0.1:8550/</span>
<span id="cb46-25"><a href="#cb46-25" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-18<span class="kw">|</span><span class="ex">20:37:10.549]</span> IPC endpoint opened                      url=/home/rag/.etherprivate-clique/clef/clef.ipc</span>
<span id="cb46-26"><a href="#cb46-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-27"><a href="#cb46-27" aria-hidden="true" tabindex="-1"></a><span class="ex">-------</span> Signer info <span class="at">-------</span></span>
<span id="cb46-28"><a href="#cb46-28" aria-hidden="true" tabindex="-1"></a><span class="ex">*</span> extapi_ipc : /home/rag/.etherprivate-clique/clef/clef.ipc</span>
<span id="cb46-29"><a href="#cb46-29" aria-hidden="true" tabindex="-1"></a><span class="ex">*</span> intapi_version : 7.0.1</span>
<span id="cb46-30"><a href="#cb46-30" aria-hidden="true" tabindex="-1"></a><span class="ex">*</span> extapi_version : 6.1.0</span>
<span id="cb46-31"><a href="#cb46-31" aria-hidden="true" tabindex="-1"></a><span class="ex">*</span> extapi_http : http://127.0.0.1:8550/</span>
<span id="cb46-32"><a href="#cb46-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-33"><a href="#cb46-33" aria-hidden="true" tabindex="-1"></a><span class="ex">-------</span> Available accounts <span class="at">-------</span></span>
<span id="cb46-34"><a href="#cb46-34" aria-hidden="true" tabindex="-1"></a><span class="ex">0.</span> 0x2db017E44b03B37755A4b15e14Cd799f83DE4c13 at keystore:///home/rag/.etherprivate-clique/keystore/UTC--2023-04-17T12-22-11.261468773Z--2db017e44b03b37755a4b15e14cd799f83de4c13</span>
<span id="cb46-35"><a href="#cb46-35" aria-hidden="true" tabindex="-1"></a><span class="ex">1.</span> 0xBb36F26E6C16B3C7ED3D70bFB26F740336B4F976 at keystore:///home/rag/.etherprivate-clique/keystore/UTC--2024-09-17T17-57-24.818641852Z--bb36f26e6c16b3c7ed3d70bfb26f740336b4f976</span>
<span id="cb46-36"><a href="#cb46-36" aria-hidden="true" tabindex="-1"></a><span class="ex">2.</span> 0x67a3A0EACe0bB180B94948ae02b09b7F8948ca60 at keystore:///home/rag/.etherprivate-clique/keystore/UTC--2024-09-17T18-52-55.377570375Z--67a3a0eace0bb180b94948ae02b09b7f8948ca60</span>
<span id="cb46-37"><a href="#cb46-37" aria-hidden="true" tabindex="-1"></a><span class="ex">--------</span> List Account request--------------</span>
<span id="cb46-38"><a href="#cb46-38" aria-hidden="true" tabindex="-1"></a><span class="ex">A</span> request has been made to list all accounts. </span>
<span id="cb46-39"><a href="#cb46-39" aria-hidden="true" tabindex="-1"></a><span class="ex">You</span> can select which accounts the caller can see</span>
<span id="cb46-40"><a href="#cb46-40" aria-hidden="true" tabindex="-1"></a>  <span class="ex">[x]</span> 0x2db017E44b03B37755A4b15e14Cd799f83DE4c13</span>
<span id="cb46-41"><a href="#cb46-41" aria-hidden="true" tabindex="-1"></a>    <span class="ex">URL:</span> keystore:///home/rag/.etherprivate-clique/keystore/UTC--2023-04-17T12-22-11.261468773Z--2db017e44b03b37755a4b15e14cd799f83de4c13</span>
<span id="cb46-42"><a href="#cb46-42" aria-hidden="true" tabindex="-1"></a>  <span class="ex">[x]</span> 0xBb36F26E6C16B3C7ED3D70bFB26F740336B4F976</span>
<span id="cb46-43"><a href="#cb46-43" aria-hidden="true" tabindex="-1"></a>    <span class="ex">URL:</span> keystore:///home/rag/.etherprivate-clique/keystore/UTC--2024-09-17T17-57-24.818641852Z--bb36f26e6c16b3c7ed3d70bfb26f740336b4f976</span>
<span id="cb46-44"><a href="#cb46-44" aria-hidden="true" tabindex="-1"></a>  <span class="ex">[x]</span> 0x67a3A0EACe0bB180B94948ae02b09b7F8948ca60</span>
<span id="cb46-45"><a href="#cb46-45" aria-hidden="true" tabindex="-1"></a>    <span class="ex">URL:</span> keystore:///home/rag/.etherprivate-clique/keystore/UTC--2024-09-17T18-52-55.377570375Z--67a3a0eace0bb180b94948ae02b09b7f8948ca60</span>
<span id="cb46-46"><a href="#cb46-46" aria-hidden="true" tabindex="-1"></a><span class="ex">-------------------------------------------</span></span>
<span id="cb46-47"><a href="#cb46-47" aria-hidden="true" tabindex="-1"></a><span class="ex">Request</span> context:</span>
<span id="cb46-48"><a href="#cb46-48" aria-hidden="true" tabindex="-1"></a>        <span class="ex">NA</span> <span class="at">-</span><span class="op">&gt;</span> ipc <span class="at">-</span><span class="op">&gt;</span> NA</span>
<span id="cb46-49"><a href="#cb46-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-50"><a href="#cb46-50" aria-hidden="true" tabindex="-1"></a><span class="ex">Additional</span> HTTP header data, provided by the external caller:</span>
<span id="cb46-51"><a href="#cb46-51" aria-hidden="true" tabindex="-1"></a>        <span class="ex">User-Agent:</span> <span class="st">""</span></span>
<span id="cb46-52"><a href="#cb46-52" aria-hidden="true" tabindex="-1"></a>        <span class="ex">Origin:</span> <span class="st">""</span></span>
<span id="cb46-53"><a href="#cb46-53" aria-hidden="true" tabindex="-1"></a><span class="ex">Approve?</span> <span class="pp">[</span><span class="ss">y/N</span><span class="pp">]</span>:</span>
<span id="cb46-54"><a href="#cb46-54" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> y</span>
<span id="cb46-55"><a href="#cb46-55" aria-hidden="true" tabindex="-1"></a><span class="ex">---------</span> Transaction request-------------</span>
<span id="cb46-56"><a href="#cb46-56" aria-hidden="true" tabindex="-1"></a><span class="ex">to:</span>    0x67a3A0EACe0bB180B94948ae02b09b7F8948ca60</span>
<span id="cb46-57"><a href="#cb46-57" aria-hidden="true" tabindex="-1"></a><span class="ex">from:</span>               0x2db017E44b03B37755A4b15e14Cd799f83DE4c13 [chksum ok]</span>
<span id="cb46-58"><a href="#cb46-58" aria-hidden="true" tabindex="-1"></a><span class="ex">value:</span>              100 wei</span>
<span id="cb46-59"><a href="#cb46-59" aria-hidden="true" tabindex="-1"></a><span class="ex">gas:</span>                0x5208 <span class="er">(</span><span class="ex">21000</span><span class="kw">)</span></span>
<span id="cb46-60"><a href="#cb46-60" aria-hidden="true" tabindex="-1"></a><span class="ex">gasprice:</span> 1 wei</span>
<span id="cb46-61"><a href="#cb46-61" aria-hidden="true" tabindex="-1"></a><span class="ex">nonce:</span>    0x0 <span class="er">(</span><span class="ex">0</span><span class="kw">)</span></span>
<span id="cb46-62"><a href="#cb46-62" aria-hidden="true" tabindex="-1"></a><span class="ex">chainid:</span>  0x312</span>
<span id="cb46-63"><a href="#cb46-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-64"><a href="#cb46-64" aria-hidden="true" tabindex="-1"></a><span class="ex">Request</span> context:</span>
<span id="cb46-65"><a href="#cb46-65" aria-hidden="true" tabindex="-1"></a>        <span class="ex">NA</span> <span class="at">-</span><span class="op">&gt;</span> ipc <span class="at">-</span><span class="op">&gt;</span> NA</span>
<span id="cb46-66"><a href="#cb46-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-67"><a href="#cb46-67" aria-hidden="true" tabindex="-1"></a><span class="ex">Additional</span> HTTP header data, provided by the external caller:</span>
<span id="cb46-68"><a href="#cb46-68" aria-hidden="true" tabindex="-1"></a>        <span class="ex">User-Agent:</span> <span class="st">""</span></span>
<span id="cb46-69"><a href="#cb46-69" aria-hidden="true" tabindex="-1"></a>        <span class="ex">Origin:</span> <span class="st">""</span></span>
<span id="cb46-70"><a href="#cb46-70" aria-hidden="true" tabindex="-1"></a><span class="ex">-------------------------------------------</span></span>
<span id="cb46-71"><a href="#cb46-71" aria-hidden="true" tabindex="-1"></a><span class="ex">Approve?</span> <span class="pp">[</span><span class="ss">y/N</span><span class="pp">]</span>:</span>
<span id="cb46-72"><a href="#cb46-72" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> y</span>
<span id="cb46-73"><a href="#cb46-73" aria-hidden="true" tabindex="-1"></a><span class="ex">\#\#</span> Account password</span>
<span id="cb46-74"><a href="#cb46-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-75"><a href="#cb46-75" aria-hidden="true" tabindex="-1"></a><span class="ex">Please</span> enter the password for account 0x2db017E44b03B37755A4b15e14Cd799f83DE4c13</span>
<span id="cb46-76"><a href="#cb46-76" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> </span>
<span id="cb46-77"><a href="#cb46-77" aria-hidden="true" tabindex="-1"></a><span class="ex">-----------------------</span></span>
<span id="cb46-78"><a href="#cb46-78" aria-hidden="true" tabindex="-1"></a><span class="ex">Transaction</span> signed:</span>
<span id="cb46-79"><a href="#cb46-79" aria-hidden="true" tabindex="-1"></a> <span class="kw">{</span></span>
<span id="cb46-80"><a href="#cb46-80" aria-hidden="true" tabindex="-1"></a>    <span class="st">"type"</span><span class="ex">:</span> <span class="st">"0x0"</span>,</span>
<span id="cb46-81"><a href="#cb46-81" aria-hidden="true" tabindex="-1"></a>    <span class="st">"chainId"</span><span class="ex">:</span> <span class="st">"0x312"</span>,</span>
<span id="cb46-82"><a href="#cb46-82" aria-hidden="true" tabindex="-1"></a>    <span class="st">"nonce"</span><span class="ex">:</span> <span class="st">"0x0"</span>,</span>
<span id="cb46-83"><a href="#cb46-83" aria-hidden="true" tabindex="-1"></a>    <span class="st">"to"</span><span class="ex">:</span> <span class="st">"0x67a3a0eace0bb180b94948ae02b09b7f8948ca60"</span>,</span>
<span id="cb46-84"><a href="#cb46-84" aria-hidden="true" tabindex="-1"></a>    <span class="st">"gas"</span><span class="ex">:</span> <span class="st">"0x5208"</span>,</span>
<span id="cb46-85"><a href="#cb46-85" aria-hidden="true" tabindex="-1"></a>    <span class="st">"gasPrice"</span><span class="ex">:</span> <span class="st">"0x1"</span>,</span>
<span id="cb46-86"><a href="#cb46-86" aria-hidden="true" tabindex="-1"></a>    <span class="st">"maxPriorityFeePerGas"</span><span class="ex">:</span> null,</span>
<span id="cb46-87"><a href="#cb46-87" aria-hidden="true" tabindex="-1"></a>    <span class="st">"maxFeePerGas"</span><span class="ex">:</span> null,</span>
<span id="cb46-88"><a href="#cb46-88" aria-hidden="true" tabindex="-1"></a>    <span class="st">"value"</span><span class="ex">:</span> <span class="st">"0x64"</span>,</span>
<span id="cb46-89"><a href="#cb46-89" aria-hidden="true" tabindex="-1"></a>    <span class="st">"input"</span><span class="ex">:</span> <span class="st">"0x"</span>,</span>
<span id="cb46-90"><a href="#cb46-90" aria-hidden="true" tabindex="-1"></a>    <span class="st">"v"</span><span class="ex">:</span> <span class="st">"0x647"</span>,</span>
<span id="cb46-91"><a href="#cb46-91" aria-hidden="true" tabindex="-1"></a>    <span class="st">"r"</span><span class="ex">:</span> <span class="st">"0x4138a9d11ae034aef924a2a38402242c801c2a69e272eeae45aa75ddf674c833"</span>,</span>
<span id="cb46-92"><a href="#cb46-92" aria-hidden="true" tabindex="-1"></a>    <span class="st">"s"</span><span class="ex">:</span> <span class="st">"0x5d8e6bca5bb1312561531be5a45c5e020d541c3aa5dea6ff94dfea2b8cc49982"</span>,</span>
<span id="cb46-93"><a href="#cb46-93" aria-hidden="true" tabindex="-1"></a>    <span class="st">"hash"</span><span class="ex">:</span> <span class="st">"0x4d60fdb557de763b557ed6f487d882caa3d639af02c9ef04e88afb8cc3ed7969"</span></span>
<span id="cb46-94"><a href="#cb46-94" aria-hidden="true" tabindex="-1"></a>  <span class="kw">}</span></span>
<span id="cb46-95"><a href="#cb46-95" aria-hidden="true" tabindex="-1"></a><span class="ex">--------</span> Sign data request--------------</span>
<span id="cb46-96"><a href="#cb46-96" aria-hidden="true" tabindex="-1"></a><span class="ex">Account:</span>  0x2db017E44b03B37755A4b15e14Cd799f83DE4c13 [chksum ok]</span>
<span id="cb46-97"><a href="#cb46-97" aria-hidden="true" tabindex="-1"></a><span class="ex">messages:</span></span>
<span id="cb46-98"><a href="#cb46-98" aria-hidden="true" tabindex="-1"></a>  <span class="ex">Clique</span> header <span class="pp">[</span><span class="ss">clique</span><span class="pp">]</span>: <span class="st">"clique header 1 [0x550a6aed64dfa48a1523d995874eff7817f6e879d3c1c6ccb11f503245ce316e]"</span></span>
<span id="cb46-99"><a href="#cb46-99" aria-hidden="true" tabindex="-1"></a><span class="ex">raw</span> data:  </span>
<span id="cb46-100"><a href="#cb46-100" aria-hidden="true" tabindex="-1"></a>        <span class="st">"\xf9\x02\x16\xa0?2N\x14\n+S\x97\xaa\xbe\xf5I\x97*\x05</span><span class="dt">\"</span><span class="st">\x86&amp;68G\xc1\xe0\x98\x8c\xb4\xf9\x90\xfd\x1d\x0f\xa0\x1d\xccM\xe8\xde\xc7]z\xab\x85\xb5g\xb6\xcc\xd4\x1a\xd3\x12E\x1b\x94\x8at\x13\xf0\xa1B\xfd@*G\x94\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xa0\xa3~L&amp;\x11\b\xda6\xb8\xc6\xf5\x9b\x13\x99\xc7\xfa8\xe8l\xad\x9f(=\xd6x\x81\xa1\x18jH\x81\x83\xa0e\xeb\xe1I\x85\xef\x8d,!f\xd2u\xab\xdaCm\xf9*\x89\xdd\xeb/G\xd3/u*\xa1\xebt\xb*\x05k\xfb\xbaH\x06\x96\xb6_*\x8f!H\xa1)\x91\x03\xc4\xf5}\xf89*:\xf2\xcfL\xa2*\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01\x01\x83z0\x83\x82R\b\x84f\xeb}:\xa0\u0603\x01\f\x02\x84geth\x88go1.21.1\x85linux\x00\x00\x00\x00\x00\x00\x00\xa0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x88\x00\x00\x00\x00\x00\x00\x00\x00"</span></span>
<span id="cb46-101"><a href="#cb46-101" aria-hidden="true" tabindex="-1"></a><span class="ex">data</span> hash:  0xe781cd5dde130b38dc1ac7882b0affd10b37ff1de94c39e07cbd601b83ec0eb6</span>
<span id="cb46-102"><a href="#cb46-102" aria-hidden="true" tabindex="-1"></a><span class="ex">-------------------------------------------</span></span>
<span id="cb46-103"><a href="#cb46-103" aria-hidden="true" tabindex="-1"></a><span class="ex">Request</span> context:</span>
<span id="cb46-104"><a href="#cb46-104" aria-hidden="true" tabindex="-1"></a>        <span class="ex">NA</span> <span class="at">-</span><span class="op">&gt;</span> ipc <span class="at">-</span><span class="op">&gt;</span> NA</span>
<span id="cb46-105"><a href="#cb46-105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-106"><a href="#cb46-106" aria-hidden="true" tabindex="-1"></a><span class="ex">Additional</span> HTTP header data, provided by the external caller:</span>
<span id="cb46-107"><a href="#cb46-107" aria-hidden="true" tabindex="-1"></a>        <span class="ex">User-Agent:</span> <span class="st">""</span></span>
<span id="cb46-108"><a href="#cb46-108" aria-hidden="true" tabindex="-1"></a>        <span class="ex">Origin:</span> <span class="st">""</span></span>
<span id="cb46-109"><a href="#cb46-109" aria-hidden="true" tabindex="-1"></a><span class="ex">Approve?</span> <span class="pp">[</span><span class="ss">y/N</span><span class="pp">]</span>:</span>
<span id="cb46-110"><a href="#cb46-110" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> y</span>
<span id="cb46-111"><a href="#cb46-111" aria-hidden="true" tabindex="-1"></a><span class="ex">\#\#</span> Password for signing</span>
<span id="cb46-112"><a href="#cb46-112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-113"><a href="#cb46-113" aria-hidden="true" tabindex="-1"></a><span class="ex">Please</span> enter password for signing data with account 0x2db017E44b03B37755A4b15e14Cd799f83DE4c13</span>
<span id="cb46-114"><a href="#cb46-114" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> </span>
<span id="cb46-115"><a href="#cb46-115" aria-hidden="true" tabindex="-1"></a><span class="ex">-----------------------</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>A transação <code>0x4d60fdb557de763b557ed6f487d882caa3d639af02c9ef04e88afb8cc3ed7969</code> foi autorizada, porém no terminal de execução do <code>geth</code> aparece uma mensagem:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb47"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="ex">WARN</span> [09-18<span class="kw">|</span><span class="ex">22:34:34.004]</span> Block sealing failed                     err=<span class="st">"signed recently, must wait for others"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Se verificarmos os saldos da carteira, podemos verificar que a transação ainda não foi efetivada.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb48"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.getBalance<span class="kw">(</span><span class="st">"0x2db017e44b03b37755a4b15e14cd799f83de4c13"</span><span class="kw">)</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="ex">299900</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.getBalance<span class="kw">(</span><span class="st">"0xbb36f26e6c16b3c7ed3d70bfb26f740336b4f976"</span><span class="kw">)</span></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a><span class="ex">400100</span></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.getBalance<span class="kw">(</span><span class="st">"0x67a3a0eace0bb180b94948ae02b09b7f8948ca60"</span><span class="kw">)</span></span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a><span class="ex">0</span></span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Pela mensagem é provável que tenhamos que executar dois nós da rede, indicando cada um como <em>signer</em> das contas de assinadores que configuramos.</p>
<!-- 
## Comandos Finais

A Figura \ref{fig:terminais:comandos} apresenta os comandos para cada um dos terminais.

![Terminais \label{fig:terminais:comandos}](figuras/tela-terminal-3-consoles.png)

<!--
[Código @lst:comando:geth]

```{#lst:comando:geth .bash caption="Comando do Terminal -- Geth"}

O comando para o terminal de execução do `clef`:

```bash
[.etherprivate-clique]$ /home/rag/go-ethereum-1.12.2/build/bin/clef --chainid 786 --keystore ~/.etherprivate-clique/keystore --configdir ~/.etherprivate-clique/clef --http
```

O comando para o terminal de execução do `geth`:

```bash
[.etherprivate-clique]$ $HOME/go-ethereum-1.12.2/build/bin/geth --networkid 786 --identity "RAGEtherPrivate" --datadir ~/.etherprivate-clique --syncmode full --allow-insecure-unlock --http --http.addr 127.0.0.1 --http.port 8560 --http.api "eth,net,web3,personal,engine,admin,debug,admin,miner,txpool" --keystore ~/.etherprivate-clique/keystore --authrpc.addr localhost --authrpc.port 8552 --authrpc.vhosts localhost --authrpc.jwtsecret ~/.etherprivate-clique/geth/jwtsecret --nodiscover --maxpeers 15 --miner.etherbase=0x2db017e44b03b37755a4b15e14cd799f83de4c13 --miner.gasprice "1" --signer=/home/rag/.etherprivate-clique/clef/clef.ipc
```

O comando para o _console_ `JavaScript`:

```bash
[.etherprivate-clique]$ ~/go-ethereum-1.12.2/build/bin/geth attach /home/rag/.etherprivate-clique/geth.ipc
Welcome to the Geth JavaScript console!

instance: Geth/RAGEtherPrivate/v1.12.2-stable-bed84606/linux-amd64/go1.21.1
coinbase: 0x2db017e44b03b37755a4b15e14cd799f83de4c13
at block: 1 (Wed Sep 18 2024 22:24:10 GMT-0300 (-03))
 datadir: /home/rag/.etherprivate-clique
 modules: admin:1.0 clique:1.0 debug:1.0 engine:1.0 eth:1.0 miner:1.0 net:1.0 rpc:1.0 txpool:1.0 web3:1.0

To exit, press ctrl-d or type exit
>
```

A Figura \ref{fig:terminais:comandos:exec} apresenta os terminais com a execução dos respectivos comandos.

![Terminais \label{fig:terminais:comandos:exec}](figuras/tela-terminal-3-consoles-executando.png)

-->
</section>
<section id="configurando-um-segundo-node" class="level2" data-number="6.11">
<h2 data-number="6.11" class="anchored" data-anchor-id="configurando-um-segundo-node"><span class="header-section-number">6.11</span> Configurando um Segundo Node</h2>
<p>Criando o <code>genesis block</code> para o <code>node-1</code>:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb49"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[rogerio@ryzen-nitro</span> .etherprivate-clique]$  <span class="va">$HOME</span>/go-ethereum-1.12.2/build/bin/geth <span class="at">--networkid</span> 786 <span class="at">--identity</span> <span class="st">"RAGEtherPrivate"</span> <span class="at">--datadir</span> ~/.etherprivate-clique/node1 init ~/.etherprivate-clique/privategenesis.json</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-18<span class="kw">|</span><span class="ex">23:03:33.713]</span> Maximum peer count                       ETH=50 LES=0 total=50</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-18<span class="kw">|</span><span class="ex">23:03:33.714]</span> Smartcard socket not found, disabling    err=<span class="st">"stat /run/pcscd/pcscd.comm: no such file or directory"</span></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-18<span class="kw">|</span><span class="ex">23:03:33.716]</span> Set global gas cap                       cap=50,000,000</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-18<span class="kw">|</span><span class="ex">23:03:33.717]</span> Initializing the KZG library             backend=gokzg</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-18<span class="kw">|</span><span class="ex">23:03:33.737]</span> Defaulting to pebble as the backing database </span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-18<span class="kw">|</span><span class="ex">23:03:33.737]</span> Allocated cache and file handles         database=/home/rag/.etherprivate-clique/node1/geth/chaindata cache=16.00MiB handles=16</span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-18<span class="kw">|</span><span class="ex">23:03:33.760]</span> Opened ancient database                  database=/home/rag/.etherprivate-clique/node1/geth/chaindata/ancient/chain readonly=false</span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-18<span class="kw">|</span><span class="ex">23:03:33.760]</span> Writing custom genesis block </span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-18<span class="kw">|</span><span class="ex">23:03:33.761]</span> Persisted trie from memory database      nodes=3 size=399.00B time=<span class="st">"636.339us"</span> gcnodes=0 gcsize=0.00B gctime=0s livenodes=0 livesize=0.00B</span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-18<span class="kw">|</span><span class="ex">23:03:33.769]</span> Successfully wrote genesis state         database=chaindata hash=3f324e..fd1d0f</span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-18<span class="kw">|</span><span class="ex">23:03:33.769]</span> Defaulting to pebble as the backing database </span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-18<span class="kw">|</span><span class="ex">23:03:33.769]</span> Allocated cache and file handles         database=/home/rag/.etherprivate-clique/node1/geth/lightchaindata cache=16.00MiB handles=16</span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-18<span class="kw">|</span><span class="ex">23:03:33.783]</span> Opened ancient database                  database=/home/rag/.etherprivate-clique/node1/geth/lightchaindata/ancient/chain readonly=false</span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-18<span class="kw">|</span><span class="ex">23:03:33.783]</span> Writing custom genesis block </span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-18<span class="kw">|</span><span class="ex">23:03:33.784]</span> Persisted trie from memory database      nodes=3 size=399.00B time=<span class="st">"662.32us"</span>  gcnodes=0 gcsize=0.00B gctime=0s livenodes=0 livesize=0.00B</span>
<span id="cb49-17"><a href="#cb49-17" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-18<span class="kw">|</span><span class="ex">23:03:33.793]</span> Successfully wrote genesis state         database=lightchaindata hash=3f324e..fd1d0f</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Criando o <code>genesis block</code> para o <code>node-2</code>:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb50"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[rogerio@ryzen-nitro</span> .etherprivate-clique]$ <span class="va">$HOME</span>/go-ethereum-1.12.2/build/bin/geth <span class="at">--networkid</span> 786 <span class="at">--identity</span> <span class="st">"RAGEtherPrivate"</span> <span class="at">--datadir</span> ~/.etherprivate-clique/node2 init ~/.etherprivate-clique/privategenesis.json</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-18<span class="kw">|</span><span class="ex">23:03:58.607]</span> Maximum peer count                       ETH=50 LES=0 total=50</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-18<span class="kw">|</span><span class="ex">23:03:58.608]</span> Smartcard socket not found, disabling    err=<span class="st">"stat /run/pcscd/pcscd.comm: no such file or directory"</span></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-18<span class="kw">|</span><span class="ex">23:03:58.610]</span> Set global gas cap                       cap=50,000,000</span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-18<span class="kw">|</span><span class="ex">23:03:58.610]</span> Initializing the KZG library             backend=gokzg</span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-18<span class="kw">|</span><span class="ex">23:03:58.638]</span> Defaulting to pebble as the backing database </span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-18<span class="kw">|</span><span class="ex">23:03:58.638]</span> Allocated cache and file handles         database=/home/rag/.etherprivate-clique/node2/geth/chaindata cache=16.00MiB handles=16</span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-18<span class="kw">|</span><span class="ex">23:03:58.662]</span> Opened ancient database                  database=/home/rag/.etherprivate-clique/node2/geth/chaindata/ancient/chain readonly=false</span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-18<span class="kw">|</span><span class="ex">23:03:58.662]</span> Writing custom genesis block </span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-18<span class="kw">|</span><span class="ex">23:03:58.663]</span> Persisted trie from memory database      nodes=3 size=399.00B time=<span class="st">"672.238us"</span> gcnodes=0 gcsize=0.00B gctime=0s livenodes=0 livesize=0.00B</span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-18<span class="kw">|</span><span class="ex">23:03:58.672]</span> Successfully wrote genesis state         database=chaindata hash=3f324e..fd1d0f</span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-18<span class="kw">|</span><span class="ex">23:03:58.672]</span> Defaulting to pebble as the backing database </span>
<span id="cb50-13"><a href="#cb50-13" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-18<span class="kw">|</span><span class="ex">23:03:58.672]</span> Allocated cache and file handles         database=/home/rag/.etherprivate-clique/node2/geth/lightchaindata cache=16.00MiB handles=16</span>
<span id="cb50-14"><a href="#cb50-14" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-18<span class="kw">|</span><span class="ex">23:03:58.685]</span> Opened ancient database                  database=/home/rag/.etherprivate-clique/node2/geth/lightchaindata/ancient/chain readonly=false</span>
<span id="cb50-15"><a href="#cb50-15" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-18<span class="kw">|</span><span class="ex">23:03:58.685]</span> Writing custom genesis block </span>
<span id="cb50-16"><a href="#cb50-16" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-18<span class="kw">|</span><span class="ex">23:03:58.686]</span> Persisted trie from memory database      nodes=3 size=399.00B time=<span class="st">"644.371us"</span> gcnodes=0 gcsize=0.00B gctime=0s livenodes=0 livesize=0.00B</span>
<span id="cb50-17"><a href="#cb50-17" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [09-18<span class="kw">|</span><span class="ex">23:03:58.694]</span> Successfully wrote genesis state         database=lightchaindata hash=3f324e..fd1d0f</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Estrutura dos diretórios:</p>
<!--

```bash
[.etherprivate-clique]$ tree -d
.
|-- clef
|-- keystore
|-- node1
|   |-- geth
|   |   |-- chaindata
|   |   |   |-- ancient
|   |   |       |-- chain
|   |   |-- lightchaindata
|   |       |-- ancient
|   |           |-- chain
|   |-- keystore
|-- node2
    |-- geth
    |   |-- chaindata
    |   |   |-- ancient
    |   |       |-- chain
    |   |-- lightchaindata
    |       |-- ancient
    |           |-- chain
    |-- keystore

21 directories
```
-->
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figuras/arvore-diretorios-2-nodes.png" class="img-fluid figure-img"></p>
<figcaption>Estrutura de Diretórios para 2 nodes</figcaption>
</figure>
</div>
<p>Criando chave com o <code>bootnode</code>:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb51"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[rogerio@ryzen-nitro</span> .etherprivate-clique]$ bootnode <span class="at">-genkey</span> boot.key</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="ex">[rogerio@ryzen-nitro</span> .etherprivate-clique]$ ls</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a><span class="ex">audit.log</span>  clef     keystore  node2</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a><span class="ex">boot.key</span>   history  node1     privategenesis.json</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a><span class="ex">[rogerio@ryzen-nitro</span> .etherprivate-clique]$ cat boot.key </span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a><span class="ex">40a32d64cff18496ae6426bd7746b220f0f90dd7458c2a8ef3187cbdb5865349</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Gerando um <em>enode</em>:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb52"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[rogerio@ryzen-nitro</span> .etherprivate-clique]$ bootnode <span class="at">-nodekey</span> boot.key <span class="at">-addr</span> :30305</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="ex">enode://d918c47d1d47ee9b309622038282167b675e81dfda21d7ad0b7467f08f379a694e43fbf09f9e9c70e6b2343c11dab5d34ee07a71e5fb588cdf329f58fca157b1@127.0.0.1:0?discport=30305</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a><span class="ex">Note:</span> you<span class="st">'re using cmd/bootnode, a developer tool.</span></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a><span class="st">We recommend using a regular node as bootstrap node for production deployments.</span></span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a><span class="st">INFO [09-18|23:06:45.222] New local node record                    seq=1,726,711,605,221 id=96f33241c1e9dd68 ip="invalid IP" udp=0 tcp=0</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Iniciando o <code>node-1</code>:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb53"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="va">$HOME</span><span class="ex">/go-ethereum-1.12.2/build/bin/geth</span> <span class="at">--networkid</span> 786 <span class="at">--identity</span> <span class="st">"RAGEtherPrivate"</span> <span class="at">--datadir</span> ~/.etherprivate-clique/node1 <span class="at">--port</span> 30306 <span class="at">--bootnodes</span> enode://d918c47d1d47ee9b309622038282167b675e81dfda21d7ad0b7467f08f379a694e43fbf09f9e9c70e6b2343c11dab5d34ee07a71e5fb588cdf329f58fca157b1@127.0.0.1:0<span class="pp">?</span>discport=30305 <span class="at">--unlock</span> 0x2db017e44b03b37755a4b15e14cd799f83de4c13 <span class="at">--miner.etherbase</span><span class="op">=</span>0x2db017e44b03b37755a4b15e14cd799f83de4c13 <span class="at">--syncmode</span> full <span class="at">--allow-insecure-unlock</span> <span class="at">--http</span> <span class="at">--http.addr</span> 127.0.0.1 <span class="at">--http.port</span> 8560 <span class="at">--http.api</span> <span class="st">"eth,net,web3,personal,engine,admin,debug,admin,miner,txpool"</span> <span class="at">--keystore</span> ~/.etherprivate-clique/keystore <span class="at">--authrpc.addr</span> localhost <span class="at">--authrpc.port</span> 8552 <span class="at">--authrpc.vhosts</span> localhost <span class="at">--nodiscover</span> <span class="at">--maxpeers</span> 15  <span class="at">--miner.gasprice</span> <span class="st">"1"</span> <span class="at">--signer</span><span class="op">=</span>/home/rag/.etherprivate-clique/clef/clef.ipc</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Iniciando o <code>node-2</code>:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb54"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="va">$HOME</span><span class="ex">/go-ethereum-1.12.2/build/bin/geth</span> <span class="at">--networkid</span> 786 <span class="at">--identity</span> <span class="st">"RAGEtherPrivate"</span> <span class="at">--datadir</span> ~/.etherprivate-clique/node2 <span class="at">--port</span> 30307 <span class="at">--bootnodes</span> enode://d918c47d1d47ee9b309622038282167b675e81dfda21d7ad0b7467f08f379a694e43fbf09f9e9c70e6b2343c11dab5d34ee07a71e5fb588cdf329f58fca157b1@127.0.0.1:0<span class="pp">?</span>discport=30305  <span class="at">--unlock</span> 0xbb36f26e6c16b3c7ed3d70bfb26f740336b4f976 <span class="at">--miner.etherbase</span><span class="op">=</span>0xbb36f26e6c16b3c7ed3d70bfb26f740336b4f976 <span class="at">--syncmode</span> full <span class="at">--allow-insecure-unlock</span> <span class="at">--http</span> <span class="at">--http.addr</span> 127.0.0.1 <span class="at">--http.port</span> 8561 <span class="at">--http.api</span> <span class="st">"eth,net,web3,personal,engine,admin,debug,admin,miner,txpool"</span> <span class="at">--keystore</span> ~/.etherprivate-clique/keystore <span class="at">--authrpc.addr</span> localhost <span class="at">--authrpc.port</span> 8553 <span class="at">--authrpc.vhosts</span> localhost <span class="at">--nodiscover</span> <span class="at">--maxpeers</span> 15  <span class="at">--miner.gasprice</span> <span class="st">"1"</span> <span class="at">--signer</span><span class="op">=</span>/home/rag/.etherprivate-clique/clef/clef.ipc</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Conecte em cada node com um <em>console</em> <code>JavaScript</code> e consulte o saldo das carteiras e recibo da transação:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb55"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[rogerio@ryzen-nitro</span> .etherprivate-clique]$ ~/go-ethereum-1.12.2/build/bin/geth attach /home/rag/.etherprivate-clique/node1/geth.ipc</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Welcome</span> to the Geth JavaScript console!</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a><span class="ex">instance:</span> Geth/RAGEtherPrivate/v1.12.2-stable-bed84606/linux-amd64/go1.21.1</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a><span class="ex">coinbase:</span> 0x2db017e44b03b37755a4b15e14cd799f83de4c13</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a><span class="ex">at</span> block: 13 <span class="er">(</span><span class="ex">Thu</span> Sep 19 2024 00:38:09 GMT-0300 <span class="er">(</span><span class="ex">-03</span><span class="kw">))</span></span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a> <span class="ex">datadir:</span> /home/rag/.etherprivate-clique/node1</span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a> <span class="ex">modules:</span> admin:1.0 clique:1.0 debug:1.0 engine:1.0 eth:1.0 miner:1.0 net:1.0 rpc:1.0 txpool:1.0 web3:1.0</span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a><span class="ex">To</span> exit, press ctrl-d or type exit</span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> <span class="op">&gt;</span> eth.getBalance<span class="kw">(</span><span class="st">"0x2db017e44b03b37755a4b15e14cd799f83de4c13"</span><span class="kw">)</span></span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-13"><a href="#cb55-13" aria-hidden="true" tabindex="-1"></a><span class="ex">299900</span></span>
<span id="cb55-14"><a href="#cb55-14" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.getBalance<span class="kw">(</span><span class="st">"0xbb36f26e6c16b3c7ed3d70bfb26f740336b4f976"</span><span class="kw">)</span></span>
<span id="cb55-15"><a href="#cb55-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-16"><a href="#cb55-16" aria-hidden="true" tabindex="-1"></a><span class="ex">400100</span></span>
<span id="cb55-17"><a href="#cb55-17" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.getBalance<span class="kw">(</span><span class="st">"0x67a3a0eace0bb180b94948ae02b09b7f8948ca60"</span><span class="kw">)</span></span>
<span id="cb55-18"><a href="#cb55-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-19"><a href="#cb55-19" aria-hidden="true" tabindex="-1"></a><span class="ex">0</span></span>
<span id="cb55-20"><a href="#cb55-20" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.getTransactionReceipt<span class="kw">(</span><span class="st">"0xf9dba156ca7aec18836ff354263b4032209250009c323e29406334a13f34a21f"</span><span class="kw">)</span></span>
<span id="cb55-21"><a href="#cb55-21" aria-hidden="true" tabindex="-1"></a><span class="kw">{</span></span>
<span id="cb55-22"><a href="#cb55-22" aria-hidden="true" tabindex="-1"></a>  <span class="ex">blockHash:</span> <span class="st">"0xb1071e241e9311171f60cf7ba40f39ece17b35301d7a07c3db8ef83ae3a8390b"</span>,</span>
<span id="cb55-23"><a href="#cb55-23" aria-hidden="true" tabindex="-1"></a>  <span class="ex">blockNumber:</span> 2,</span>
<span id="cb55-24"><a href="#cb55-24" aria-hidden="true" tabindex="-1"></a>  <span class="ex">contractAddress:</span> null,</span>
<span id="cb55-25"><a href="#cb55-25" aria-hidden="true" tabindex="-1"></a>  <span class="ex">cumulativeGasUsed:</span> 21000,</span>
<span id="cb55-26"><a href="#cb55-26" aria-hidden="true" tabindex="-1"></a>  <span class="ex">effectiveGasPrice:</span> 1,</span>
<span id="cb55-27"><a href="#cb55-27" aria-hidden="true" tabindex="-1"></a>  <span class="ex">from:</span> <span class="st">"0x2db017e44b03b37755a4b15e14cd799f83de4c13"</span>,</span>
<span id="cb55-28"><a href="#cb55-28" aria-hidden="true" tabindex="-1"></a>  <span class="ex">gasUsed:</span> 21000,</span>
<span id="cb55-29"><a href="#cb55-29" aria-hidden="true" tabindex="-1"></a>  <span class="ex">logs:</span> [],</span>
<span id="cb55-30"><a href="#cb55-30" aria-hidden="true" tabindex="-1"></a>  <span class="ex">logsBloom:</span> <span class="st">"0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"</span>,</span>
<span id="cb55-31"><a href="#cb55-31" aria-hidden="true" tabindex="-1"></a>  <span class="ex">status:</span> <span class="st">"0x1"</span>,</span>
<span id="cb55-32"><a href="#cb55-32" aria-hidden="true" tabindex="-1"></a>  <span class="ex">to:</span> <span class="st">"0xbb36f26e6c16b3c7ed3d70bfb26f740336b4f976"</span>,</span>
<span id="cb55-33"><a href="#cb55-33" aria-hidden="true" tabindex="-1"></a>  <span class="ex">transactionHash:</span> <span class="st">"0xf9dba156ca7aec18836ff354263b4032209250009c323e29406334a13f34a21f"</span>,</span>
<span id="cb55-34"><a href="#cb55-34" aria-hidden="true" tabindex="-1"></a>  <span class="ex">transactionIndex:</span> 0,</span>
<span id="cb55-35"><a href="#cb55-35" aria-hidden="true" tabindex="-1"></a>  <span class="ex">type:</span> <span class="st">"0x0"</span></span>
<span id="cb55-36"><a href="#cb55-36" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb55-37"><a href="#cb55-37" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>No <code>node2</code> ainda não aparecia os mesmos dados e nem informações sobre pares <code>admin.peers</code> retornava vazio:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb56"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[rogerio@ryzen-nitro</span> .etherprivate-clique]$ ~/go-ethereum-1.12.2/build/bin/geth attach /home/rag/.etherprivate-clique/node2/geth.ipc </span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Welcome</span> to the Geth JavaScript console!</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a><span class="ex">instance:</span> Geth/RAGEtherPrivate/v1.12.2-stable-bed84606/linux-amd64/go1.21.1</span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a><span class="ex">coinbase:</span> 0xbb36f26e6c16b3c7ed3d70bfb26f740336b4f976</span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a><span class="ex">at</span> block: 13 <span class="er">(</span><span class="ex">Thu</span> Sep 19 2024 00:38:09 GMT-0300 <span class="er">(</span><span class="ex">-03</span><span class="kw">))</span></span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a> <span class="ex">datadir:</span> /home/rag/.etherprivate-clique/node2</span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a> <span class="ex">modules:</span> admin:1.0 clique:1.0 debug:1.0 engine:1.0 eth:1.0 miner:1.0 net:1.0 rpc:1.0 txpool:1.0 web3:1.0</span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-10"><a href="#cb56-10" aria-hidden="true" tabindex="-1"></a><span class="ex">To</span> exit, press ctrl-d or type exit</span>
<span id="cb56-11"><a href="#cb56-11" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> <span class="op">&gt;</span> eth.getBalance<span class="kw">(</span><span class="st">"0x2db017e44b03b37755a4b15e14cd799f83de4c13"</span><span class="kw">)</span></span>
<span id="cb56-12"><a href="#cb56-12" aria-hidden="true" tabindex="-1"></a><span class="ex">300000</span></span>
<span id="cb56-13"><a href="#cb56-13" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.getBalance<span class="kw">(</span><span class="st">"0xbb36f26e6c16b3c7ed3d70bfb26f740336b4f976"</span><span class="kw">)</span></span>
<span id="cb56-14"><a href="#cb56-14" aria-hidden="true" tabindex="-1"></a><span class="ex">400000</span></span>
<span id="cb56-15"><a href="#cb56-15" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> admin.peers</span>
<span id="cb56-16"><a href="#cb56-16" aria-hidden="true" tabindex="-1"></a><span class="ex">[]</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Tentei adicionar o <code>enode</code> como par e nada:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb57"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> admin.addPeer<span class="kw">(</span><span class="st">"enode://d918c47d1d47ee9b309622038282167b675e81dfda21d7ad0b7467f08f379a694e43fbf09f9e9c70e6b2343c11dab5d34ee07a71e5fb588cdf329f58fca157b1@127.0.0.1:0?discport=30305"</span><span class="kw">)</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="fu">true</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> admin.peers</span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a><span class="ex">[]</span></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.getTransactionReceipt<span class="kw">(</span><span class="st">"0xf9dba156ca7aec18836ff354263b4032209250009c323e29406334a13f34a21f"</span><span class="kw">)</span></span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a><span class="ex">null</span></span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.getBalance<span class="kw">(</span><span class="st">"0xbb36f26e6c16b3c7ed3d70bfb26f740336b4f976"</span><span class="kw">)</span></span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a><span class="ex">400000</span></span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> miner.start<span class="kw">()</span></span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a><span class="ex">null</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Adicionar o <code>node1</code> como par do <code>node2</code>, recupere o código enr no <em>console</em> <code>JavaScript</code> conectado ao <code>node1</code>:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb58"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> admin.nodeInfo.enr</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a><span class="st">"enr:-Jy4QNIeBFYOCqu4XwFp9IH4slO75F4oRtQsnClncm82wDbrTDJxlXm_EG3KAUNevf9-hS_6esq3F1111q86KNT3MBaGAZIIJEzng2V0aMfGhDf_6yKAgmlkgnY0gmlwhH8AAAGJc2VjcDI1NmsxoQIczpJdu-Q78j5Oue6jql8WNGVdMI6d9Is-guHgDqx1ZIRzbmFwwIN0Y3CCdmI"</span></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>E adicione ele como par no <em>console</em> <code>JavaScript</code> conectado ao <code>node2</code>:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb59"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> admin.addPeer<span class="kw">(</span><span class="st">"enr:-Jy4QNIeBFYOCqu4XwFp9IH4slO75F4oRtQsnClncm82wDbrTDJxlXm_EG3KAUNevf9-hS_6esq3F1111q86KNT3MBaGAZIIJEzng2V0aMfGhDf_6yKAgmlkgnY0gmlwhH8AAAGJc2VjcDI1NmsxoQIczpJdu-Q78j5Oue6jql8WNGVdMI6d9Is-guHgDqx1ZIRzbmFwwIN0Y3CCdmI"</span><span class="kw">)</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="fu">true</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> admin.peers</span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a><span class="ex">[{</span></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>    <span class="ex">caps:</span> [<span class="st">"eth/66"</span>, <span class="st">"eth/67"</span>, <span class="st">"eth/68"</span>, <span class="st">"snap/1"</span>],</span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>    <span class="ex">enode:</span> <span class="st">"enode://1cce925dbbe43bf23e4eb9eea3aa5f1634655d308e9df48b3e82e1e00eac7564217836aa5d2d717496be48747fc01a7e2f3a640c32c17e6670de83dabae77236@127.0.0.1:30306?discport=0"</span>,</span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>    <span class="ex">enr:</span> <span class="st">"enr:-Jy4QNIeBFYOCqu4XwFp9IH4slO75F4oRtQsnClncm82wDbrTDJxlXm_EG3KAUNevf9-hS_6esq3F1111q86KNT3MBaGAZIIJEzng2V0aMfGhDf_6yKAgmlkgnY0gmlwhH8AAAGJc2VjcDI1NmsxoQIczpJdu-Q78j5Oue6jql8WNGVdMI6d9Is-guHgDqx1ZIRzbmFwwIN0Y3CCdmI"</span>,</span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a>    <span class="ex">id:</span> <span class="st">"4968f9e3d9869eeb2dd3a2d908f49580a3078bda6064394dd598a937db55b4a9"</span>,</span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a>    <span class="ex">name:</span> <span class="st">"Geth/RAGEtherPrivate/v1.12.2-stable-bed84606/linux-amd64/go1.21.1"</span>,</span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a>    <span class="ex">network:</span> {</span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a>      <span class="ex">inbound:</span> false,</span>
<span id="cb59-12"><a href="#cb59-12" aria-hidden="true" tabindex="-1"></a>      <span class="ex">localAddress:</span> <span class="st">"127.0.0.1:48198"</span>,</span>
<span id="cb59-13"><a href="#cb59-13" aria-hidden="true" tabindex="-1"></a>      <span class="ex">remoteAddress:</span> <span class="st">"127.0.0.1:30306"</span>,</span>
<span id="cb59-14"><a href="#cb59-14" aria-hidden="true" tabindex="-1"></a>      <span class="ex">static:</span> true,</span>
<span id="cb59-15"><a href="#cb59-15" aria-hidden="true" tabindex="-1"></a>      <span class="ex">trusted:</span> false</span>
<span id="cb59-16"><a href="#cb59-16" aria-hidden="true" tabindex="-1"></a>    <span class="er">}</span><span class="ex">,</span></span>
<span id="cb59-17"><a href="#cb59-17" aria-hidden="true" tabindex="-1"></a>    <span class="ex">protocols:</span> {</span>
<span id="cb59-18"><a href="#cb59-18" aria-hidden="true" tabindex="-1"></a>      <span class="ex">eth:</span> {</span>
<span id="cb59-19"><a href="#cb59-19" aria-hidden="true" tabindex="-1"></a>        <span class="ex">version:</span> 68</span>
<span id="cb59-20"><a href="#cb59-20" aria-hidden="true" tabindex="-1"></a>      <span class="er">}</span><span class="ex">,</span></span>
<span id="cb59-21"><a href="#cb59-21" aria-hidden="true" tabindex="-1"></a>      <span class="ex">snap:</span> {</span>
<span id="cb59-22"><a href="#cb59-22" aria-hidden="true" tabindex="-1"></a>        <span class="ex">version:</span> 1</span>
<span id="cb59-23"><a href="#cb59-23" aria-hidden="true" tabindex="-1"></a>      <span class="er">}</span></span>
<span id="cb59-24"><a href="#cb59-24" aria-hidden="true" tabindex="-1"></a>    <span class="er">}</span></span>
<span id="cb59-25"><a href="#cb59-25" aria-hidden="true" tabindex="-1"></a><span class="er">}</span><span class="ex">]</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Recuperando os saldos no <em>console</em> <code>JavaScript</code> conectado ao <code>node2</code> agora sim aparece os dados sincronizados:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb60"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.getBalance<span class="kw">(</span><span class="st">"0xbb36f26e6c16b3c7ed3d70bfb26f740336b4f976"</span><span class="kw">)</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="ex">400100</span></span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.getBalance<span class="kw">(</span><span class="st">"0x2db017e44b03b37755a4b15e14cd799f83de4c13"</span><span class="kw">)</span></span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a><span class="ex">299900</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Mais detalhes de como implantar uma rede privada local do <em>Ethereum</em> podem ser visto em <a href="https://geth.ethereum.org/docs/fundamentals/private-network">Private Networks</a>.</p>
</section>
<section id="comandos-finais" class="level2" data-number="6.12">
<h2 data-number="6.12" class="anchored" data-anchor-id="comandos-finais"><span class="header-section-number">6.12</span> Comandos Finais</h2>
<p>A <a href="../aula-09-pratica-ethereum-introducao-ao-web3/aula-09-pratica-ethereum-introducao-ao-web3.html#fig-terminais:comandos" class="quarto-xref">Figura&nbsp;<span>9.I</span></a> apresenta os comandos para cada um dos terminais.</p>
<div id="fig-terminais:comandos" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-terminais:comandos-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="figuras/tela-terminal-5-consoles-2-nodes.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-terminais:comandos-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6.I: Terminais
</figcaption>
</figure>
</div>
<!--
[Código @lst:comando:geth]

```{#lst:comando:geth .bash caption="Comando do Terminal -- Geth"}-->
<p>O comando para o terminal de execução do <code>clef</code>:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb61"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[rogerio@ryzen-nitro</span> .etherprivate-clique]$ /home/rag/go-ethereum-1.12.2/build/bin/clef <span class="at">--chainid</span> 786 <span class="at">--keystore</span> ~/.etherprivate-clique/keystore <span class="at">--configdir</span> ~/.etherprivate-clique/clef <span class="at">--http</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>O comando para o terminal de execução do <code>geth</code> <code>node1</code>:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb62"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[rogerio@ryzen-nitro</span> .etherprivate-clique]$ <span class="va">$HOME</span>/go-ethereum-1.12.2/build/bin/geth <span class="at">--networkid</span> 786 <span class="at">--identity</span> <span class="st">"RAGEtherPrivate"</span> <span class="at">--datadir</span> ~/.etherprivate-clique/node1 <span class="at">--port</span> 30306 <span class="at">--bootnodes</span> enode://d918c47d1d47ee9b309622038282167b675e81dfda21d7ad0b7467f08f379a694e43fbf09f9e9c70e6b2343c11dab5d34ee07a71e5fb588cdf329f58fca157b1@127.0.0.1:0<span class="pp">?</span>discport=30305 <span class="at">--unlock</span> 0x2db017e44b03b37755a4b15e14cd799f83de4c13 <span class="at">--miner.etherbase</span><span class="op">=</span>0x2db017e44b03b37755a4b15e14cd799f83de4c13 <span class="at">--syncmode</span> full <span class="at">--allow-insecure-unlock</span> <span class="at">--http</span> <span class="at">--http.addr</span> 127.0.0.1 <span class="at">--http.port</span> 8560 <span class="at">--http.api</span> <span class="st">"eth,net,web3,personal,engine,admin,debug,admin,miner,txpool"</span> <span class="at">--keystore</span> ~/.etherprivate-clique/keystore <span class="at">--authrpc.addr</span> localhost <span class="at">--authrpc.port</span> 8552 <span class="at">--authrpc.vhosts</span> localhost <span class="at">--nodiscover</span> <span class="at">--maxpeers</span> 15  <span class="at">--miner.gasprice</span> <span class="st">"1"</span> <span class="at">--signer</span><span class="op">=</span>/home/rag/.etherprivate-clique/clef/clef.ipc</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>O comando para o terminal de execução do <code>geth</code> <code>node2</code>:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb63"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[rogerio@ryzen-nitro</span> .etherprivate-clique]$ <span class="va">$HOME</span>/go-ethereum-1.12.2/build/bin/geth <span class="at">--networkid</span> 786 <span class="at">--identity</span> <span class="st">"RAGEtherPrivate"</span> <span class="at">--datadir</span> ~/.etherprivate-clique/node2 <span class="at">--port</span> 30307 <span class="at">--bootnodes</span> enode://d918c47d1d47ee9b309622038282167b675e81dfda21d7ad0b7467f08f379a694e43fbf09f9e9c70e6b2343c11dab5d34ee07a71e5fb588cdf329f58fca157b1@127.0.0.1:0<span class="pp">?</span>discport=30305  <span class="at">--unlock</span> 0xbb36f26e6c16b3c7ed3d70bfb26f740336b4f976 <span class="at">--miner.etherbase</span><span class="op">=</span>0xbb36f26e6c16b3c7ed3d70bfb26f740336b4f976 <span class="at">--syncmode</span> full <span class="at">--allow-insecure-unlock</span> <span class="at">--http</span> <span class="at">--http.addr</span> 127.0.0.1 <span class="at">--http.port</span> 8561 <span class="at">--http.api</span> <span class="st">"eth,net,web3,personal,engine,admin,debug,admin,miner,txpool"</span> <span class="at">--keystore</span> ~/.etherprivate-clique/keystore <span class="at">--authrpc.addr</span> localhost <span class="at">--authrpc.port</span> 8553 <span class="at">--authrpc.vhosts</span> localhost <span class="at">--nodiscover</span> <span class="at">--maxpeers</span> 15  <span class="at">--miner.gasprice</span> <span class="st">"1"</span> <span class="at">--signer</span><span class="op">=</span>/home/rag/.etherprivate-clique/clef/clef.ipc</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>O comando para o <em>console</em> <code>JavaScript</code> conectado ao <code>node1</code>:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb64"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[rogerio@ryzen-nitro</span> .etherprivate-clique]$ ~/go-ethereum-1.12.2/build/bin/geth attach /home/rag/.etherprivate-clique/node1/geth.ipc</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>O comando para o <em>console</em> <code>JavaScript</code> conectado ao <code>node2</code>:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb65"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[rogerio@ryzen-nitro</span> .etherprivate-clique]$ ~/go-ethereum-1.12.2/build/bin/geth attach /home/rag/.etherprivate-clique/node2/geth.ipc</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>A <a href="#fig-terminais:comandos:exec" class="quarto-xref">Figura&nbsp;<span>6.II</span></a> apresenta os terminais com a execução dos respectivos comandos.</p>
<div id="fig-terminais:comandos:exec" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-terminais:comandos:exec-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="figuras/tela-terminal-5-consoles-2-nodes-executando.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-terminais:comandos:exec-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6.II: Terminais
</figcaption>
</figure>
</div>
</section>
<section id="leitura-recomendada" class="level2" data-number="6.13">
<h2 data-number="6.13" class="anchored" data-anchor-id="leitura-recomendada"><span class="header-section-number">6.13</span> Leitura Recomendada</h2>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Tip</span><span class="bigger120">Leitura Recomendada</span>
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Capítulo 11: Ethereum 101</strong></p>
<p><strong>Livro</strong>: <a href="https://search.ebscohost.com/login.aspx?direct=true&amp;db=e000xww&amp;AN=1789486&amp;authtype=shib&amp;lang=pt-br&amp;site=eds-live&amp;scope=site&amp;ebv=EB&amp;ppid=pp_276">IMRAN BASHIR. Mastering Blockchain : Distributed Ledger Technology, Decentralization, and Smart Contracts Explained, 2nd Edition.</a></p>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Important</span><span class="bigger120">Leitura Recomendada</span>
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Capítulo 12: Futher Ethereum</strong></p>
<p><strong>Livro</strong>: <a href="https://search.ebscohost.com/login.aspx?direct=true&amp;db=e000xww&amp;AN=1789486&amp;authtype=shib&amp;lang=pt-br&amp;site=eds-live&amp;scope=site&amp;ebv=EB&amp;ppid=pp_310">IMRAN BASHIR. Mastering Blockchain : Distributed Ledger Technology, Decentralization, and Smart Contracts Explained, 2nd Edition.</a></p>
</div>
</div>
</section>
<section id="referências" class="level1" data-number="7">
<h1 data-number="7"><span class="header-section-number">7</span> Referências</h1>
</section>
<section id="word-cloud" class="level1" data-number="8">
<h1 data-number="8"><span class="header-section-number">8</span> <em>Word Cloud</em></h1>
<p><img src="figuras/aula-06-pratica-rede-ethereum-privada-clique.md.wordcloud.png" class="img-fluid" style="width:100.0%"></p>
<section id="referências-1" class="level2 fragile allowframebreaks" data-number="8.1">
<h2 class="fragile allowframebreaks anchored" data-number="8.1" data-anchor-id="referências-1"><span class="header-section-number">8.1</span> Referências</h2>
<div id="refs" role="list" style="display: none">

</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/rogerioag\.github\.io\/tecnologias-blockchain");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../aula-05-pratica-rede-ethereum-privada-ethash/aula-05-pratica-rede-ethereum-privada-ethash.html" class="pagination-link" aria-label="Prática: Criando uma Rede Ethereum Privada: `Ethash`">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Prática: Criando uma Rede Ethereum Privada: <code>Ethash</code></span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../aula-07-pratica-simulador-ganache-metamask/aula-07-pratica-simulador-ganache-metamask.html" class="pagination-link" aria-label="Prática: Simulando uma Rede Ethereum Local: Ganache e o Metamask">
        <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Prática: Simulando uma Rede Ethereum Local: Ganache e o Metamask</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/rogerioag/tecnologias-blockchain/edit/master/aula-06-pratica-rede-ethereum-privada-clique/aula-06-pratica-rede-ethereum-privada-clique.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li></ul></div></div></div></footer></body></html>