<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>8&nbsp; Prática sobre Ferramentas de Desenvolvimento e Frameworks Ethereum: Estudo sobre Solidity e solc – Tecnologias Blockchain e suas Aplicações</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../aula-09-pratica-ethereum-introducao-ao-web3/aula-09-pratica-ethereum-introducao-ao-web3.html" rel="next">
<link href="../aula-07-pratica-simulador-ganache-metamask/aula-07-pratica-simulador-ganache-metamask.html" rel="prev">
<link href="../images/logo.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark-707d8167ce6003fca903bfe2be84ab7f.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-888a994573c04143e2a6089a1c6b7523.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark-9c15c3a5755bd8aa5242770252b660f1.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../site_libs/bootstrap/bootstrap-888a994573c04143e2a6089a1c6b7523.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../aula-08-pratica-estudo-sobre-solidity-solc/aula-08-pratica-estudo-sobre-solidity-solc.html"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Prática sobre Ferramentas de Desenvolvimento e Frameworks <em>Ethereum</em>: Estudo sobre <code>Solidity</code> e <code>solc</code></span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="../index.html" class="sidebar-logo-link">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Tecnologias Blockchain e suas Aplicações</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/rogerioag/tecnologias-blockchain" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Share" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label="Share"><i class="bi bi-share"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=|url|">
              <i class="bi bi-twitter pe-1"></i>
            Twitter
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.facebook.com/sharer/sharer.php?u=|url|">
              <i class="bi bi-facebook pe-1"></i>
            Facebook
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.linkedin.com/sharing/share-offsite/?url=|url|">
              <i class="bi bi-linkedin pe-1"></i>
            LinkedIn
            </a>
          </li>
      </ul>
    </div>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bem-vindo</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../aula-01-introducao-visao-geral/aula-01-introducao-visao-geral.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introdução às Tecnologias Blockchain</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../aula-02-visao-geral-ethereum/aula-02-visao-geral-ethereum.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Aula 02 - Ethereum</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../aula-03-pratica-ethereum-virtual-machine/aula-03-pratica-ethereum-virtual-machine.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Prática: Explorando a <em>Ethereum Virtual Machine (EVM)</em></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../aula-04-pratica-instalando-cliente-ethereum/aula-04-pratica-instalando-cliente-ethereum.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Prática: Instalando o Cliente Ethereum</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../aula-05-pratica-rede-ethereum-privada-ethash/aula-05-pratica-rede-ethereum-privada-ethash.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Prática: Criando uma Rede Ethereum Privada: <code>Ethash</code></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../aula-06-pratica-rede-ethereum-privada-clique/aula-06-pratica-rede-ethereum-privada-clique.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Prática: Criando uma Rede Ethereum Privada: <code>Clique</code></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../aula-07-pratica-simulador-ganache-metamask/aula-07-pratica-simulador-ganache-metamask.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Prática: Simulando uma Rede Ethereum Local: Ganache e o Metamask</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../aula-08-pratica-estudo-sobre-solidity-solc/aula-08-pratica-estudo-sobre-solidity-solc.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Prática sobre Ferramentas de Desenvolvimento e Frameworks <em>Ethereum</em>: Estudo sobre <code>Solidity</code> e <code>solc</code></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../aula-09-pratica-ethereum-introducao-ao-web3/aula-09-pratica-ethereum-introducao-ao-web3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Prática sobre Ferramentas de Desenvolvimento e Frameworks Ethereum: Introdução ao Web3</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../aula-10-pratica-ethereum-test-and-deploy-truffle/aula-10-pratica-ethereum-test-and-deploy-truffle.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Prática sobre Ferramentas de Desenvolvimento e <em>Frameworks</em> Ethereum: Introdução aos Testes e <em>Deploy</em> com <code>Truffle</code></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../aula-11-pratica-instalando-explorer-local/aula-11-pratica-instalando-explorer-local.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Prática sobre Instalação de <em>Block Explorers</em> Locais para as Redes de Testes</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../aula-12-pratica-ethereum-test-and-deploy-hardhat/aula-12-pratica-ethereum-test-and-deploy-hardhat.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Prática sobre Ferramentas de Desenvolvimento e Frameworks Ethereum: Testes e <em>Deploy</em> de Contratos com <code>Hardhat</code></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../aula-13-pratica-implementacao-patentidea-app/aula-13-pratica-implementacao-patentidea-app.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Prática sobre Ferramentas de Desenvolvimento e Frameworks <em>Ethereum</em>: <em>Implementação de Aplicações</em></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../aula-14-pratica-ethereum-introducao-tokenizacao/aula-14-pratica-ethereum-introducao-tokenizacao.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Prática sobre Tokenização: <em>Introdução à Tokenização</em></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../aula-15-pratica-hyperledger-besu/aula-15-pratica-hyperledger-besu.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Prática sobre Hyperledger: <em>Introdução ao Besu</em></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../aula-16-pratica-hyperledger-fabric/aula-16-pratica-hyperledger-fabric.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Prática sobre Hyperledger: <em>Introdução ao Fabric</em></span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Sumário</h2>
   
  <ul>
  <li><a href="#introdução" id="toc-introdução" class="nav-link active" data-scroll-target="#introdução"><span class="header-section-number">8.1</span> Introdução</a></li>
  <li><a href="#instalando-o-solc" id="toc-instalando-o-solc" class="nav-link" data-scroll-target="#instalando-o-solc"><span class="header-section-number">8.2</span> Instalando o <code>solc</code></a></li>
  <li><a href="#compilando-um-exemplo" id="toc-compilando-um-exemplo" class="nav-link" data-scroll-target="#compilando-um-exemplo"><span class="header-section-number">8.3</span> Compilando um Exemplo</a></li>
  <li><a href="#visualizando-o-bytecode-gerado" id="toc-visualizando-o-bytecode-gerado" class="nav-link" data-scroll-target="#visualizando-o-bytecode-gerado"><span class="header-section-number">8.4</span> Visualizando o <em>bytecode</em> gerado</a></li>
  <li><a href="#estimando-a-taxa-gas" id="toc-estimando-a-taxa-gas" class="nav-link" data-scroll-target="#estimando-a-taxa-gas"><span class="header-section-number">8.5</span> Estimando a taxa <code>gas</code></a></li>
  <li><a href="#gerando-a-abi" id="toc-gerando-a-abi" class="nav-link" data-scroll-target="#gerando-a-abi"><span class="header-section-number">8.6</span> Gerando a ABI</a></li>
  <li><a href="#processo-de-compilação-completo" id="toc-processo-de-compilação-completo" class="nav-link" data-scroll-target="#processo-de-compilação-completo"><span class="header-section-number">8.7</span> Processo de Compilação Completo</a></li>
  <li><a href="#visualizando-os-opcodes" id="toc-visualizando-os-opcodes" class="nav-link" data-scroll-target="#visualizando-os-opcodes"><span class="header-section-number">8.8</span> Visualizando os <em>Opcodes</em></a></li>
  <li><a href="#gerando-código-assembly-da-evm" id="toc-gerando-código-assembly-da-evm" class="nav-link" data-scroll-target="#gerando-código-assembly-da-evm"><span class="header-section-number">8.9</span> Gerando Código <em>assembly</em> da <code>EVM</code></a></li>
  <li><a href="#otimizando-o-código" id="toc-otimizando-o-código" class="nav-link" data-scroll-target="#otimizando-o-código"><span class="header-section-number">8.10</span> Otimizando o Código</a></li>
  <li><a href="#gerando-código-para-versões-da-evm" id="toc-gerando-código-para-versões-da-evm" class="nav-link" data-scroll-target="#gerando-código-para-versões-da-evm"><span class="header-section-number">8.11</span> Gerando Código para versões da <code>EVM</code></a></li>
  <li><a href="#visualizando-uma-saída-mais-completa" id="toc-visualizando-uma-saída-mais-completa" class="nav-link" data-scroll-target="#visualizando-uma-saída-mais-completa"><span class="header-section-number">8.12</span> Visualizando uma saída mais completa</a></li>
  <li><a href="#linguagem-solidity" id="toc-linguagem-solidity" class="nav-link" data-scroll-target="#linguagem-solidity"><span class="header-section-number">8.13</span> Linguagem <code>Solidity</code></a></li>
  <li><a href="#atividade-compilar-exemplo-e-testar-comandos-solidity" id="toc-atividade-compilar-exemplo-e-testar-comandos-solidity" class="nav-link" data-scroll-target="#atividade-compilar-exemplo-e-testar-comandos-solidity"><span class="header-section-number">8.14</span> Atividade: Compilar Exemplo e testar comandos Solidity</a></li>
  <li><a href="#considerações-finais" id="toc-considerações-finais" class="nav-link" data-scroll-target="#considerações-finais"><span class="header-section-number">8.15</span> Considerações Finais</a></li>
  <li><a href="#leitura-recomendada" id="toc-leitura-recomendada" class="nav-link" data-scroll-target="#leitura-recomendada"><span class="header-section-number">8.16</span> Leitura Recomendada</a></li>
  <li><a href="#word-cloud" id="toc-word-cloud" class="nav-link" data-scroll-target="#word-cloud"><span class="header-section-number">9</span> <em>Word Cloud</em></a>
  <ul class="collapse">
  <li><a href="#referências" id="toc-referências" class="nav-link" data-scroll-target="#referências"><span class="header-section-number">9.1</span> Referências</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/rogerioag/tecnologias-blockchain/edit/master/aula-08-pratica-estudo-sobre-solidity-solc/aula-08-pratica-estudo-sobre-solidity-solc.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">


<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Prática sobre Ferramentas de Desenvolvimento e Frameworks <em>Ethereum</em>: Estudo sobre <code>Solidity</code> e <code>solc</code></span></h1>
<p class="subtitle lead"><em>Estudo sobre <code>Solidity</code> e <code>solc</code></em></p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  
<div>
  <div class="abstract">
    <div class="block-title">Resumo</div>
    A proposta desta aula prática é estudarmos a linguagem <code>Solidity</code>, conhecermos e explorarmos as características da linguagem. No desenvolvimento de Contratos Inteligentes iremos utilizar a linguagem <code>Solidity</code>. A proposta desta aula prática é instalarmos o compilador para a linguagem <em>Solidity</em>, o <code>solc</code>. Ele converte código de alto nível dos contratos escritos em <code>Solidity</code>, para <em>bytecode</em> da <em>Ethereum Virtual Machine</em> <code>EVM</code>. Iremos executar a compilação de exemplos, gerando as saídas possíveis com o <code>solc</code>, visualizando os <em>opcodes</em>, o código binário, fazendo estimativas de consumo de <em>gas</em>, gerando código de montagem para a <code>EVM</code> e verificando algumas opções de otimização.
  </div>
</div>


</header>


<section id="introdução" class="level2" data-number="8.1">
<h2 data-number="8.1" class="anchored" data-anchor-id="introdução"><span class="header-section-number">8.1</span> Introdução</h2>
<p>No desenvolvimento de Contratos Inteligentes iremos utilizar a linguagem <a href="https://soliditylang.org/"><code>Solidity</code></a>. O Compilador para a linguagem <code>Solidity</code> é o <a href="https://docs.soliditylang.org/en/v0.8.21/installing-solidity.html"><code>solc</code></a>. O <code>solc</code> converte código de alto nível dos contratos, escritos em <code>Solidity</code>, para <em>bytecode</em> da <em>Ethereum Virtual Machine</em> <a href="https://ethereum.org/pt-br/developers/docs/evm/"><code>EVM</code></a>.</p>
</section>
<section id="instalando-o-solc" class="level2" data-number="8.2">
<h2 data-number="8.2" class="anchored" data-anchor-id="instalando-o-solc"><span class="header-section-number">8.2</span> Instalando o <code>solc</code></h2>
<p>O comando para instalação do <code>solc</code> em distribuições <code>Ubuntu</code> ou derivados do <code>Debian</code>:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo add-apt-repository ppa:ethereum/ethereum</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo apt-get update</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo apt-get install solc</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Outras distribuições derivadas do <code>Arch Linux</code>, o pacote <code>solidity</code> é deve ser instalado:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb2"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> pacman <span class="at">-S</span> solidity</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Feita a instalação, para verificar a versão instalada execute o comando:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb3"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> solc <span class="at">--version</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="ex">solc,</span> the solidity compiler commandline interface</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="ex">Version:</span> 0.8.27+commit.40a35a09.Linux.g++</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Uma outra opção é executar o <code>solc</code> via <a href="https://www.docker.com/get-started/"><code>docker</code></a>. O <a href="https://docs.soliditylang.org/en/latest/installing-solidity.html">link</a> apresenta as formas de instalação do Compilador <code>Solidity</code>. E mostra como uma das possibilidades o uso do <a href="https://docs.soliditylang.org/en/latest/installing-solidity.html#docker"><code>docker</code></a> para que uma versão específica possa ser instalada e executada isoladamente no dentro do <em>container</em>. No <a href="#lst-code:docker:run" class="quarto-xref">Código&nbsp;<span>8.I</span></a> apresenta o resultado da execução do <code>solc</code> na versão atual, que não estava instalada ainda e <code>docker</code> fez o <em>download</em> e instalação automaticamente.</p>
<div id="lst-code:docker:run" class="bash listing quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-lst figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-code:docker:run-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Listing&nbsp;8.I: Executando o solc via docker
</figcaption>
<div aria-describedby="lst-code:docker:run-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb4"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo docker run ethereum/solc:stable <span class="at">--version</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Unable</span> to find image <span class="st">'ethereum/solc:stable'</span> locally</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="ex">stable:</span> Pulling from ethereum/solc</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="ex">4357c739450e:</span> Pull complete </span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="ex">Digest:</span> sha256:c74c43c73e64f14d43dc4c61776375abe3609c0118ef3eb34d99b59696647256</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="ex">Status:</span> Downloaded newer image for ethereum/solc:stable</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="ex">solc,</span> the solidity compiler commandline interface</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="ex">Version:</span> 0.8.27+commit.40a35a09.Linux.g++</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</figure>
</div>
<p>No <a href="#lst-code:docker:run2" class="quarto-xref">Código&nbsp;<span>8.II</span></a> apresenta a execução do <code>solc</code> via <code>docker</code> com um exemplo de saída na <code>stdout</code> definindo um diretório de trabalho <code>-w</code> e um volume virtual <code>-v</code>, estou utilizando o diretório onde estamos executando, mas um outro diretório poderia ser definido. A execução também é feita utilizando outra versão do <code>solc</code>, a versão <code>0.8.21</code>.</p>
<div id="lst-code:docker:run2" class="bash listing quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-lst figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-code:docker:run2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Listing&nbsp;8.II: Executando as versões no docker
</figcaption>
<div aria-describedby="lst-code:docker:run2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb5"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo docker run <span class="at">-v</span> <span class="va">$(</span><span class="bu">pwd</span><span class="va">)</span>:<span class="va">$(</span><span class="bu">pwd</span><span class="va">)</span> <span class="at">-w</span> <span class="va">$(</span><span class="bu">pwd</span><span class="va">)</span> <span class="at">-i</span> ethereum/solc:0.8.21 <span class="at">--version</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="ex">solc,</span> the solidity compiler commandline interface</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="ex">Version:</span> 0.8.21+commit.40a35a09.Linux.g++</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</figure>
</div>
<p>Todas as versões e imagens disponíveis do <code>solc</code> podem ser conferidas no <a href="https://hub.docker.com/r/ethereum/solc/tags"><em>Docker Hub</em></a>. Detalhes da versão <code>0.8.21</code> podem ser vistos no <a href="https://hub.docker.com/layers/ethereum/solc/0.8.21/images/sha256-b202f06c06631c1139e36465d80709cfdc8ec1bf9e405bb73ec512ffe90ccf80?context=explore">link</a>.</p>
</section>
<section id="compilando-um-exemplo" class="level2" data-number="8.3">
<h2 data-number="8.3" class="anchored" data-anchor-id="compilando-um-exemplo"><span class="header-section-number">8.3</span> Compilando um Exemplo</h2>
<p>Para verificar algumas funcionalidades do compilador <code>solc</code> vamos criar um contrato simples, com o nome <code>Addition.sol</code> e com o conteúdo presente no <a href="#lst-solidity:contract" class="quarto-xref">Código&nbsp;<span>8.III</span></a>.</p>
<div id="lst-solidity:contract" class="solidity listing quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-lst figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-solidity:contract-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Listing&nbsp;8.III: Exemplo de Contrato em Solidity
</figcaption>
<div aria-describedby="lst-solidity:contract-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<pre class="solidity"><code>pragma solidity ^0.8.28;

contract Addition {
   uint8 x;

   function addx(uint8 y, uint8 z ) public {
      x = y + z;
   }
   function retrievex() view public returns (uint8) {
      return x;
   }
}</code></pre>
</div>
</figure>
</div>
<p>Mais detalhes do uso do <code>solc</code> podem ser vistos em <a href="https://docs.soliditylang.org/en/latest/using-the-compiler.html#using-the-compiler"><em>Using the Compiler</em></a>.</p>
<p>Salve esse arquivo em um diretório <code>Addition</code> e acesse esse diretório:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb7"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> mkdir Addition</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> cd Addition</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="ex">[Addition]$</span> ls </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="ex">Addition.sol</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="ex">[Addition]$</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Se a versão do <code>solidity</code> na sua máquina for diferente, basta ajustar no arquivo fonte colocando a versão correta no <code>pragma solidity</code>.</p>
<p>Para a compilação simples execute:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb8"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[Addition]$</span> solc Addition.sol </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Warning:</span> SPDX license identifier not provided in source file. Before publishing, consider adding a comment containing <span class="st">"SPDX-License-Identifier: &lt;SPDX-License&gt;"</span> to each source file. Use <span class="st">"SPDX-License-Identifier: UNLICENSED"</span> for non-open-source code. Please see https://spdx.org for more information.</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="ex">--</span><span class="op">&gt;</span> Addition.sol</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="ex">[Addition]$</span> </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Esse <code>"Warning: SPDX license identifier not provided in source file. Before publishing, consider adding a comment containing 'SPDX-License-Identifier: &lt;SPDX-License&gt;'  to each source file. Use 'SPDX-License-Identifier: UNLICENSED' for non-open-source code. Please see https://spdx.org for more information."</code> está avisando para colocar uma <code>SPDX-License</code>. Uma lista completa das licenças e seus identificadores pode ser vista em <a href="https://spdx.org/licenses/" class="uri">https://spdx.org/licenses/</a>.</p>
<p>Basta adicionar um comentário na primeira linha com o identificador conforme o <a href="../aula-09-pratica-ethereum-introducao-ao-web3/aula-09-pratica-ethereum-introducao-ao-web3.html#lst-code:solidity:contract:correct" class="quarto-xref">Código&nbsp;<span>9.VI</span></a>.</p>
<div id="lst-code:solidity:contract:correct" class="solidity listing quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-lst figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-code:solidity:contract:correct-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Listing&nbsp;8.IV: Exemplo de Contrato em Solidity
</figcaption>
<div aria-describedby="lst-code:solidity:contract:correct-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<pre class="solidity"><code>// SPDX-License-Identifier: MIT
pragma solidity ^0.8.21;

contract Addition {
   uint8 x;

   function addx(uint8 y, uint8 z ) public {
      x = y + z;
   }
   function retrievex() view public returns (uint8) {
      return x;
   }
}</code></pre>
</div>
</figure>
</div>
<p>Incluindo-se a linha de especificação da licença a saída de uma compilação simples será:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb10"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[Addition]$</span> solc Addition.sol </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Compiler</span> run successful. No output generated.</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="ex">[Addition]$</span> </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
<section id="visualizando-o-bytecode-gerado" class="level2" data-number="8.4">
<h2 data-number="8.4" class="anchored" data-anchor-id="visualizando-o-bytecode-gerado"><span class="header-section-number">8.4</span> Visualizando o <em>bytecode</em> gerado</h2>
<p>O <code>solc</code> tem alguns parâmetros interessantes que nos permite verificar o formato binário do contrato, que é a sequência dos <em>bytecodes</em> gerados para a <strong>EVM</strong>:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb11"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[Addition]$</span> solc <span class="at">--bin</span> Addition.sol</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Warning:</span> SPDX license identifier not provided in source file. Before publishing, consider adding a comment containing <span class="st">"SPDX-License-Identifier: &lt;SPDX-License&gt;"</span> to each source file. Use <span class="st">"SPDX-License-Identifier: UNLICENSED"</span> for non-open-source code. Please see https://spdx.org for more information.</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="ex">--</span><span class="op">&gt;</span> Addition.sol</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="ex">=======</span> Addition.sol:Addition =======</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="ex">Binary:</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="ex">608060405234801561001057600080fd5b506101f6806100206000396000f3fe608060405234801561001057</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="ex">600080fd5b50600436106100365760003560e01c806336718d801461003b578063ac04e0a014610057575b60</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="ex">0080fd5b610055600480360381019061005091906100f2565b610075565b005b61005f61009e565b60405161</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a><span class="ex">006c9190610141565b60405180910390f35b8082610081919061018b565b6000806101000a81548160ff0219</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a><span class="ex">16908360ff1602179055505050565b60008060009054906101000a900460ff16905090565b600080fd5b6000</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a><span class="ex">60ff82169050919050565b6100cf816100b9565b81146100da57600080fd5b50565b6000813590506100ec81</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a><span class="ex">6100c6565b92915050565b60008060408385031215610109576101086100b4565b5b60006101178582860161</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a><span class="ex">00dd565b9250506020610128858286016100dd565b9150509250929050565b61013b816100b9565b82525050</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a><span class="ex">565b60006020820190506101566000830184610132565b92915050565b7f4e487b7100000000000000000000</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a><span class="ex">000000000000000000000000000000000000600052601160045260246000fd5b6000610196826100b9565b91</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a><span class="ex">506101a1836100b9565b9250828201905060ff8111156101ba576101b961015c565b5b9291505056fea26469</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a><span class="ex">70667358221220e0ec16eaf684603f4f7c74f327a27e4a1a981dfac0cb258479ffe452abda2e4964736f6c63</span></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a><span class="ex">430008110033</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
<section id="estimando-a-taxa-gas" class="level2" data-number="8.5">
<h2 data-number="8.5" class="anchored" data-anchor-id="estimando-a-taxa-gas"><span class="header-section-number">8.5</span> Estimando a taxa <code>gas</code></h2>
<p>Como uma taxa de <code>gas</code> é cobrada para cada operação que a <strong>EVM</strong> executa, é uma boa prática estimar o <code>gas</code> antes de implantar um contrato em uma rede ativa. O parâmetro <code>--gas</code> pode ser utilizado para fazer essa estimativa.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb12"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[Addition]$</span> solc <span class="at">--gas</span> Addition.sol</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=======</span> Addition.sol:Addition =======</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="ex">Gas</span> estimation:</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="ex">construction:</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>   <span class="ex">147</span> + 100400 = 100547</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="ex">external:</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>   <span class="ex">addx</span><span class="er">(</span><span class="ex">uint8,uint8</span><span class="kw">)</span><span class="bu">:</span>   infinite</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>   <span class="fu">retrievex()</span><span class="bu">:</span> 2479</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
<section id="gerando-a-abi" class="level2" data-number="8.6">
<h2 data-number="8.6" class="anchored" data-anchor-id="gerando-a-abi"><span class="header-section-number">8.6</span> Gerando a ABI</h2>
<p>A <em>Application Binary Interface (ABI)</em> é uma forma padrão de interagir com os contratos, sabermos como os métodos estão disponíveis e quais parâmetros utilizam. Para a gerar a <code>ABI</code> do contrato utilize o <code>solc</code> com o parâmetro <code>--abi</code>, conforme o <a href="#lst-code:solidity:contract:abi" class="quarto-xref">Código&nbsp;<span>8.VII</span></a>.</p>
<div id="lst-code:solidity:contract:abi" class="bash listing quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-lst figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-code:solidity:contract:abi-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Listing&nbsp;8.V: Visualizando a ABI
</figcaption>
<div aria-describedby="lst-code:solidity:contract:abi-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb13"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[Addition]$</span> solc <span class="at">--abi</span> Addition.sol</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=======</span> Addition.sol:Addition =======</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="ex">Contract</span> JSON ABI</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="ex">[{</span><span class="st">"inputs"</span><span class="ex">:[</span><span class="dt">{</span><span class="st">"internalType"</span><span class="dt">:</span><span class="st">"uint8"</span><span class="op">,</span><span class="st">"name"</span><span class="dt">:</span><span class="st">"y"</span><span class="op">,</span><span class="st">"type"</span><span class="dt">:</span><span class="st">"uint8"</span><span class="dt">}</span><span class="ex">,{</span><span class="st">"internalType"</span><span class="ex">:</span><span class="st">"uint8"</span><span class="ex">,</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="st">"name"</span><span class="ex">:</span><span class="st">"z"</span><span class="ex">,</span><span class="st">"type"</span><span class="ex">:</span><span class="st">"uint8"</span><span class="ex">}],</span><span class="st">"name"</span><span class="ex">:</span><span class="st">"addx"</span><span class="ex">,</span><span class="st">"outputs"</span><span class="ex">:[],</span><span class="st">"stateMutability"</span><span class="ex">:</span><span class="st">"nonpayable"</span><span class="ex">,</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="st">"type"</span><span class="ex">:</span><span class="st">"function"</span><span class="ex">},{</span><span class="st">"inputs"</span><span class="ex">:[],</span><span class="st">"name"</span><span class="ex">:</span><span class="st">"retrievex"</span><span class="ex">,</span><span class="st">"outputs"</span><span class="ex">:[{</span><span class="st">"internalType"</span><span class="ex">:</span><span class="st">"uint8"</span><span class="ex">,</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="st">"name"</span><span class="ex">:</span><span class="st">""</span><span class="ex">,</span><span class="st">"type"</span><span class="ex">:</span><span class="st">"uint8"</span><span class="ex">}],</span><span class="st">"stateMutability"</span><span class="ex">:</span><span class="st">"view"</span><span class="ex">,</span><span class="st">"type"</span><span class="ex">:</span><span class="st">"function"</span><span class="ex">}]</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</figure>
</div>
</section>
<section id="processo-de-compilação-completo" class="level2" data-number="8.7">
<h2 data-number="8.7" class="anchored" data-anchor-id="processo-de-compilação-completo"><span class="header-section-number">8.7</span> Processo de Compilação Completo</h2>
<p>O processo de compilação completo do contrato <code>Addition.sol</code> pode ser feito com o comando:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb14"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[Addition]$</span> solc <span class="at">--bin</span> <span class="at">--abi</span> <span class="at">-o</span> bin Addition.sol</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Compiler</span> run successful. Artifact<span class="er">(</span><span class="ex">s</span><span class="kw">)</span> <span class="ex">can</span> be found in directory <span class="st">"bin"</span>.</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Se erros ocorrerem serão mostrados no terminal, caso contrário o compilador irá mostrar uma mensagem de sucesso. Com o parâmetro de diretório de saída <code>-o bin</code>, serão gerados os arquivos no diretório <code>bin</code>:</p>
<ul>
<li><strong>Addition.abi:</strong> Contém a <code>ABI</code> do contrato no formato <code>JSON</code>.</li>
<li><strong>Addition.bin:</strong> Contém a representação binária do código do contrato.</li>
</ul>
<p>O conteúdo de cada um dos arquivos pode ser visualizado. <a href="#lst-code:solidity:contract:bin" class="quarto-xref">Código&nbsp;<span>8.VI</span></a> apresenta o binário gerado.</p>
<div id="lst-code:solidity:contract:bin" class="bash listing quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-lst figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-code:solidity:contract:bin-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Listing&nbsp;8.VI: Visualizando o código binário
</figcaption>
<div aria-describedby="lst-code:solidity:contract:bin-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb15"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[Addition]$</span> cat bin/Addition.bin</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="ex">608060405234801561001057600080fd5b506101f6806100206000396000f3fe608060405234801561001057</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="ex">600080fd5b50600436106100365760003560e01c806336718d801461003b578063ac04e0a014610057575b60</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="ex">0080fd5b610055600480360381019061005091906100f2565b610075565b005b61005f61009e565b60405161</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="ex">006c9190610141565b60405180910390f35b8082610081919061018b565b6000806101000a81548160ff0219</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="ex">16908360ff1602179055505050565b60008060009054906101000a900460ff16905090565b600080fd5b6000</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="ex">60ff82169050919050565b6100cf816100b9565b81146100da57600080fd5b50565b6000813590506100ec81</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="ex">6100c6565b92915050565b60008060408385031215610109576101086100b4565b5b60006101178582860161</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="ex">00dd565b9250506020610128858286016100dd565b9150509250929050565b61013b816100b9565b82525050</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="ex">565b60006020820190506101566000830184610132565b92915050565b7f4e487b7100000000000000000000</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a><span class="ex">000000000000000000000000000000000000600052601160045260246000fd5b6000610196826100b9565b91</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a><span class="ex">506101a1836100b9565b9250828201905060ff8111156101ba576101b961015c565b5b9291505056fea26469</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a><span class="ex">70667358221220e0ec16eaf684603f4f7c74f327a27e4a1a981dfac0cb258479ffe452abda2e4964736f6c63</span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a><span class="ex">430008110033</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</figure>
</div>
<p>A ABI gerada para o contrato pode ser vista no <a href="#lst-code:solidity:contract:abi" class="quarto-xref">Código&nbsp;<span>8.VII</span></a>.</p>
<div id="lst-code:solidity:contract:abi" class="bash listing quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-lst figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-code:solidity:contract:abi-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Listing&nbsp;8.VII: Visualizando o código ABI
</figcaption>
<div aria-describedby="lst-code:solidity:contract:abi-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb16"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[Addition]$</span> cat bin/Addition.abi </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="ex">[{</span><span class="st">"inputs"</span><span class="ex">:[</span><span class="dt">{</span><span class="st">"internalType"</span><span class="dt">:</span><span class="st">"uint8"</span><span class="op">,</span><span class="st">"name"</span><span class="dt">:</span><span class="st">"y"</span><span class="op">,</span><span class="st">"type"</span><span class="dt">:</span><span class="st">"uint8"</span><span class="dt">}</span><span class="ex">,{</span><span class="st">"internalType"</span><span class="ex">:</span><span class="st">"uint8"</span><span class="ex">,</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="st">"name"</span><span class="ex">:</span><span class="st">"z"</span><span class="ex">,</span><span class="st">"type"</span><span class="ex">:</span><span class="st">"uint8"</span><span class="ex">}],</span><span class="st">"name"</span><span class="ex">:</span><span class="st">"addx"</span><span class="ex">,</span><span class="st">"outputs"</span><span class="ex">:[],</span><span class="st">"stateMutability"</span><span class="ex">:</span><span class="st">"nonpayable"</span><span class="ex">,</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="st">"type"</span><span class="ex">:</span><span class="st">"function"</span><span class="ex">},{</span><span class="st">"inputs"</span><span class="ex">:[],</span><span class="st">"name"</span><span class="ex">:</span><span class="st">"retrievex"</span><span class="ex">,</span><span class="st">"outputs"</span><span class="ex">:[{</span><span class="st">"internalType"</span><span class="ex">:</span><span class="st">"uint8"</span><span class="ex">,</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="st">"name"</span><span class="ex">:</span><span class="st">""</span><span class="ex">,</span><span class="st">"type"</span><span class="ex">:</span><span class="st">"uint8"</span><span class="ex">}],</span><span class="st">"stateMutability"</span><span class="ex">:</span><span class="st">"view"</span><span class="ex">,</span><span class="st">"type"</span><span class="ex">:</span><span class="st">"function"</span><span class="ex">}]</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</figure>
</div>
</section>
<section id="visualizando-os-opcodes" class="level2" data-number="8.8">
<h2 data-number="8.8" class="anchored" data-anchor-id="visualizando-os-opcodes"><span class="header-section-number">8.8</span> Visualizando os <em>Opcodes</em></h2>
<p>Os <em>opcodes</em> da instruções geradas para a <strong>EVM</strong> podem ser visualizados compilando-se com o parâmetro <code>--opcodes</code>:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb17"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[Addition]$</span> solc <span class="at">--opcodes</span> Addition.sol</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="ex">=======</span> Addition.sol:Addition =======</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="ex">Opcodes:</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="ex">PUSH1</span> 0x80 PUSH1 0x40 MSTORE CALLVALUE DUP1 ISZERO PUSH1 0xE JUMPI PUSH0 PUSH0 REVERT JUMPDEST POP PUSH2 0x1E5 DUP1 PUSH2 0x1C PUSH0 CODECOPY PUSH0 RETURN INVALID PUSH1 0x80 PUSH1 0x40 MSTORE CALLVALUE DUP1 ISZERO PUSH2 0xF JUMPI PUSH0 PUSH0 REVERT JUMPDEST POP PUSH1 0x4 CALLDATASIZE LT PUSH2 0x34 JUMPI PUSH0 CALLDATALOAD PUSH1 0xE0 SHR DUP1 PUSH4 0x36718D80 EQ PUSH2 0x38 JUMPI DUP1 PUSH4 0xAC04E0A0 EQ PUSH2 0x54 JUMPI JUMPDEST PUSH0 PUSH0 REVERT JUMPDEST PUSH2 0x52 PUSH1 0x4 DUP1 CALLDATASIZE SUB DUP2 ADD SWAP1 PUSH2 0x4D SWAP2 SWAP1 PUSH2 0xE8 JUMP JUMPDEST PUSH2 0x72 JUMP JUMPDEST STOP JUMPDEST PUSH2 0x5C PUSH2 0x9A JUMP JUMPDEST PUSH1 0x40 MLOAD PUSH2 0x69 SWAP2 SWAP1 PUSH2 0x135 JUMP JUMPDEST PUSH1 0x40 MLOAD DUP1 SWAP2 SUB SWAP1 RETURN JUMPDEST DUP1 DUP3 PUSH2 0x7E SWAP2 SWAP1 PUSH2 0x17B JUMP JUMPDEST PUSH0 PUSH0 PUSH2 0x100 EXP DUP2 SLOAD DUP2 PUSH1 0xFF MUL NOT AND SWAP1 DUP4 PUSH1 0xFF AND MUL OR SWAP1 SSTORE POP POP POP JUMP JUMPDEST PUSH0 PUSH0 PUSH0 SWAP1 SLOAD SWAP1 PUSH2 0x100 EXP SWAP1 DIV PUSH1 0xFF AND SWAP1 POP SWAP1 JUMP JUMPDEST PUSH0 PUSH0 REVERT JUMPDEST PUSH0 PUSH1 0xFF DUP3 AND SWAP1 POP SWAP2 SWAP1 POP JUMP JUMPDEST PUSH2 0xC7 DUP2 PUSH2 0xB2 JUMP JUMPDEST DUP2 EQ PUSH2 0xD1 JUMPI PUSH0 PUSH0 REVERT JUMPDEST POP JUMP JUMPDEST PUSH0 DUP2 CALLDATALOAD SWAP1 POP PUSH2 0xE2 DUP2 PUSH2 0xBE JUMP JUMPDEST SWAP3 SWAP2 POP POP JUMP JUMPDEST PUSH0 PUSH0 PUSH1 0x40 DUP4 DUP6 SUB SLT ISZERO PUSH2 0xFE JUMPI PUSH2 0xFD PUSH2 0xAE JUMP JUMPDEST JUMPDEST PUSH0 PUSH2 0x10B DUP6 DUP3 DUP7 ADD PUSH2 0xD4 JUMP JUMPDEST SWAP3 POP POP PUSH1 0x20 PUSH2 0x11C DUP6 DUP3 DUP7 ADD PUSH2 0xD4 JUMP JUMPDEST SWAP2 POP POP SWAP3 POP SWAP3 SWAP1 POP JUMP JUMPDEST PUSH2 0x12F DUP2 PUSH2 0xB2 JUMP JUMPDEST DUP3 MSTORE POP POP JUMP JUMPDEST PUSH0 PUSH1 0x20 DUP3 ADD SWAP1 POP PUSH2 0x148 PUSH0 DUP4 ADD DUP5 PUSH2 0x126 JUMP JUMPDEST SWAP3 SWAP2 POP POP JUMP JUMPDEST PUSH32 0x4E487B7100000000000000000000000000000000000000000000000000000000 PUSH0 MSTORE PUSH1 0x11 PUSH1 0x4 MSTORE PUSH1 0x24 PUSH0 REVERT JUMPDEST PUSH0 PUSH2 0x185 DUP3 PUSH2 0xB2 JUMP JUMPDEST SWAP2 POP PUSH2 0x190 DUP4 PUSH2 0xB2 JUMP JUMPDEST SWAP3 POP DUP3 DUP3 ADD SWAP1 POP PUSH1 0xFF DUP2 GT ISZERO PUSH2 0x1A9 JUMPI PUSH2 0x1A8 PUSH2 0x14E JUMP JUMPDEST JUMPDEST SWAP3 SWAP2 POP POP JUMP INVALID LOG2 PUSH5 0x6970667358 0x22 SLT KECCAK256 SWAP7 0xE0 SWAP1 0xC1 PUSH19 0xC05C2CA051070C65ED8CFCD1170FEA74963B6C LT 0xD9 0xD4 DUP12 SELFDESTRUCT 0xAA PUSH25 0x2764736F6C634300081B003300000000000000000000000000 </span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
<section id="gerando-código-assembly-da-evm" class="level2" data-number="8.9">
<h2 data-number="8.9" class="anchored" data-anchor-id="gerando-código-assembly-da-evm"><span class="header-section-number">8.9</span> Gerando Código <em>assembly</em> da <code>EVM</code></h2>
<p>Um arquivo com o código de montagem para a <strong>EVM</strong> pode ser gerado compilando-se com o parâmetro <code>--asm</code>:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb18"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[Addition]$</span> solc <span class="at">--asm</span> Addition.sol</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=======</span> Addition.sol:Addition =======</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="ex">EVM</span> assembly:</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    <span class="ex">/*</span> <span class="st">"Addition.sol"</span>:57:236  contract Addition {... <span class="pp">*</span>/</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="ex">mstore</span><span class="er">(</span><span class="ex">0x40,</span> 0x80<span class="kw">)</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="ex">callvalue</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>  <span class="ex">dup1</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>  <span class="ex">iszero</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>  <span class="ex">tag_1</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>  <span class="ex">jumpi</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>  <span class="ex">0x00</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>  <span class="ex">dup1</span></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>  <span class="ex">revert</span></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a><span class="ex">tag_1:</span></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>  <span class="ex">pop</span></span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>  <span class="ex">dataSize</span><span class="er">(</span><span class="ex">sub_0</span><span class="kw">)</span></span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>  <span class="ex">dup1</span></span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a>  <span class="ex">dataOffset</span><span class="er">(</span><span class="ex">sub_0</span><span class="kw">)</span></span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a>  <span class="ex">0x00</span></span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a>  <span class="ex">codecopy</span></span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a>  <span class="ex">0x00</span></span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span></span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a><span class="ex">stop</span></span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true" tabindex="-1"></a>   <span class="ex">/*</span> Parte do Codigo foi suprimida <span class="pp">*</span>/</span>
<span id="cb18-26"><a href="#cb18-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-27"><a href="#cb18-27" aria-hidden="true" tabindex="-1"></a>    <span class="ex">auxdata:</span> 0xa2646970667358221220e5f1966e6e792d9172ed599ecf6962ab997f6ed71728a96f12ff8bce</span>
<span id="cb18-28"><a href="#cb18-28" aria-hidden="true" tabindex="-1"></a>    <span class="ex">8e7aa41c64736f6c63430008150033</span></span>
<span id="cb18-29"><a href="#cb18-29" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
<section id="otimizando-o-código" class="level2" data-number="8.10">
<h2 data-number="8.10" class="anchored" data-anchor-id="otimizando-o-código"><span class="header-section-number">8.10</span> Otimizando o Código</h2>
<p>Antes de implementar seu contrato, ative o otimizador ao compilar usando o parâmetro <code>--optimize</code>. Por padrão, o otimizador otimizará o contrato assumindo que ele é chamado <span class="math inline">\(200\)</span> vezes ao longo de seu tempo de vida (mais especificamente, ele pressupõe que cada <code>opcode</code> seja executado cerca de <span class="math inline">\(200\)</span> vezes).</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb19"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[Addition]$</span> solc <span class="at">--bin</span> <span class="at">--optimize</span> Addition.sol <span class="op">&gt;</span> Addition.sol.opt.bin</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="ex">[Addition]$</span> solc <span class="at">--bin</span> Addition.sol <span class="op">&gt;</span> Addition.sol.nop.bin</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="ex">[Addition]$</span> ls</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="ex">Addition.sol</span>          Addition.sol.nop.evm  Addition.sol.opt.evm</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="ex">Addition.sol.nop.bin</span>  Addition.sol.opt.bin  bin</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Verificando se o tamanho do arquivo mudou com a opção de otimização.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb20"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[Addition]$</span> cat Addition.sol.nop.bin </span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="ex">=======</span> Addition.sol:Addition =======</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="ex">Binary:</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="ex">608060405234801561000f575f80fd5b506101e58061001d5f395ff3fe608060405234801561000f575f80fd</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="ex">5b5060043610610034575f3560e01c806336718d8014610038578063ac04e0a014610054575b5f80fd5b6100</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="ex">52600480360381019061004d91906100e8565b610072565b005b61005c61009a565b60405161006991906101</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a><span class="ex">35565b60405180910390f35b808261007e919061017b565b5f806101000a81548160ff021916908360ff1602</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a><span class="ex">179055505050565b5f805f9054906101000a900460ff16905090565b5f80fd5b5f60ff82169050919050565b</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a><span class="ex">6100c7816100b2565b81146100d1575f80fd5b50565b5f813590506100e2816100be565b92915050565b5f80</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a><span class="ex">604083850312156100fe576100fd6100ae565b5b5f61010b858286016100d4565b925050602061011c858286</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a><span class="ex">016100d4565b9150509250929050565b61012f816100b2565b82525050565b5f6020820190506101485f8301</span></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a><span class="ex">84610126565b92915050565b7f4e487b71000000000000000000000000000000000000000000000000000000</span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a><span class="ex">005f52601160045260245ffd5b5f610185826100b2565b9150610190836100b2565b9250828201905060ff81</span></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a><span class="ex">11156101a9576101a861014e565b5b9291505056fea2646970667358221220e5f1966e6e792d9172ed599ecf</span></span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a><span class="ex">6962ab997f6ed71728a96f12ff8bce8e7aa41c64736f6c63430008150033</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb21"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[Addition]$</span> cat Addition.sol.opt.bin </span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="ex">=======</span> Addition.sol:Addition =======</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="ex">Binary:</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="ex">608060405234801561000f575f80fd5b5061011c8061001d5f395ff3fe6080604052348015600e575f80fd5b5</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="ex">0600436106030575f3560e01c806336718d80146034578063ac04e0a0146045575b5f80fd5b6043603f366004</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="ex">6090565b605d565b005b5f546040805160ff9092168252519081900360200190f35b6065818360bc565b5f805</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a><span class="ex">460ff191660ff929092169190911790555050565b803560ff81168114608b575f80fd5b919050565b5f806040</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a><span class="ex">838503121560a0575f80fd5b60a783607c565b915060b360208401607c565b90509250929050565b60ff81811</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a><span class="ex">6838216019081111560e057634e487b7160e01b5f52601160045260245ffd5b9291505056fea2646970667358</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a><span class="ex">221220e3fcb6de1b60e34fc67ddc7b0261e658b6f68bdd243310b77c486da33ef634c764736f6c63430008150</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a><span class="ex">033</span></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a><span class="ex">[Addition]$</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Se você deseja que a implantação do contrato inicial seja mais barata e as execuções posteriores da função mais caras, defina-o como <code>--optimize-runs=1</code>.</p>
<p>Se você espera muitas transações e não se importa com custos de implantação e tamanho de saída mais altos, defina <code>--optimize-runs</code> para um número alto. Este parâmetro tem efeitos no seguinte (isso pode mudar no futuro):</p>
<ol type="a">
<li><p>o tamanho da pesquisa binária na rotina de despacho de função.</p></li>
<li><p>a forma como constantes como números grandes ou strings são armazenadas.</p></li>
</ol>
<p>Verifique se mudanças aconteceram com os arquivos gerados, sem otimização (nop), com <span class="math inline">\(1\)</span> (opt1) e com <span class="math inline">\(1000000\)</span> (opt1000000) no parâmetro de otimização.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb22"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[Addition]$</span> solc <span class="at">--bin</span> Addition.sol <span class="op">&gt;</span> Addition.sol.nop.bin</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="ex">[Addition]$</span> solc <span class="at">--bin</span> <span class="at">--optimize</span> <span class="at">--optimize-runs</span><span class="op">=</span>1 Addition.sol <span class="op">&gt;</span> Addition.sol.opt1.bin</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="ex">[Addition]$</span> solc <span class="at">--bin</span> <span class="at">--optimize</span> <span class="at">--optimize-runs</span><span class="op">=</span>1000000 Addition.sol <span class="op">&gt;</span> Addition.sol.opt1000000.bin</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
<section id="gerando-código-para-versões-da-evm" class="level2" data-number="8.11">
<h2 data-number="8.11" class="anchored" data-anchor-id="gerando-código-para-versões-da-evm"><span class="header-section-number">8.11</span> Gerando Código para versões da <code>EVM</code></h2>
<p>Quando compilamos o código de um contrato podemos especificar a versão da <em>Ethereum Virtual Machine</em> alvo para evitar características e comportamentos particulares. O parâmetro <code>--evm-version &lt;VERSION&gt;</code> pode ser definido com <code>VERSION</code> assumindo um dos valores: <code>homestead</code>, <code>tangerineWhistle</code>, <code>spuriousDragon</code>, <code>byzantium</code>, <code>constantinople</code>, <code>petersburg</code>, <code>istanbul</code>, <code>berlin</code>, <code>london</code>, <code>paris</code>, <code>shanghai</code>.</p>
<pre><code>[Addition]$ solc --evm-version &lt;VERSION&gt; contract.sol</code></pre>
<p>Salve o conteúdo em um <code>script.sh</code> ou execute diretamente no terminal.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb24"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> version <span class="kw">in</span> homestead tangerineWhistle spuriousDragon byzantium constantinople petersburg istanbul berlin london paris shanghai</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="cf">do</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>   <span class="ex">solc</span> <span class="at">--opcodes</span> <span class="at">--evm-version</span> <span class="va">${version}</span> Addition.sol <span class="op">&gt;</span> Addition.sol.<span class="va">${version}</span>.opcodes</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="cf">done</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Para comparar duas versões de códigos:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb25"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[Addition]$</span> solc <span class="at">--asm</span> <span class="at">--evm-version</span> berlin Addition.sol <span class="kw">|</span> <span class="fu">diff</span> <span class="at">-u</span> <span class="at">-</span> <span class="op">&lt;(</span><span class="ex">solc</span> <span class="at">--asm</span> <span class="at">--evm-version</span> shanghai Addition.sol<span class="op">)</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="ex">---</span> <span class="at">-</span>   2023-09-19 18:12:08.460565670 <span class="at">-0300</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="ex">+++</span> /dev/fd/63  2023-09-19 18:12:08.451646055 <span class="at">-0300</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="ex">@@</span> <span class="at">-436,6</span> +436,6 @@</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>       <span class="ex">pop</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>       <span class="ex">jump</span>     // out</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span>    auxdata: 0xa2646970667358221220544d507b7aed2fcb193a2143aa69a7bba83bb2bddf725da5759765d1f015</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a><span class="ex">d92564736f6c63430008150033</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a><span class="ex">+</span>    auxdata: 0xa2646970667358221220e5f1966e6e792d9172ed599ecf6962ab997f6ed71728a96f12ff8bce8e7a</span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a><span class="ex">a41c64736f6c63430008150033</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a> <span class="er">}</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Comparando a quantidade de <code>gas</code> para cada versão de código:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb26"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[Addition]$</span> solc <span class="at">--gas</span> <span class="at">--evm-version</span> berlin Addition.sol <span class="kw">|</span> <span class="fu">diff</span> <span class="at">-u</span> <span class="at">-</span> <span class="op">&lt;(</span><span class="ex">solc</span> <span class="at">--gas</span> <span class="at">--evm-version</span> shanghai Addition.sol<span class="op">)</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="ex">---</span> <span class="at">-</span>   2023-09-19 19:09:17.295326849 <span class="at">-0300</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="ex">+++</span> /dev/fd/63  2023-09-19 19:09:17.280724897 <span class="at">-0300</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="ex">@@</span> <span class="at">-2,7</span> +2,7 @@</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a> <span class="ex">=======</span> Addition.sol:Addition =======</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a> <span class="ex">Gas</span> estimation:</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a> <span class="ex">construction:</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span>   147 + 100400 = 100547</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a><span class="ex">+</span>   145 + 97000 = 97145</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a> <span class="ex">external:</span></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>    <span class="ex">addx</span><span class="er">(</span><span class="ex">uint8,uint8</span><span class="kw">)</span><span class="bu">:</span>  infinite</span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span>   retrievex<span class="er">(</span><span class="kw">)</span><span class="bu">:</span>        2479</span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a><span class="ex">+</span>   retrievex<span class="er">(</span><span class="kw">)</span><span class="bu">:</span>        2473</span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a><span class="ex">[Addition]$</span> </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Mais detalhes sobre <code>targets</code> podem ser vistos em <a href="https://docs.soliditylang.org/en/v0.8.21/using-the-compiler.html#target-options" class="uri">https://docs.soliditylang.org/en/v0.8.21/using-the-compiler.html#target-options</a>.</p>
</section>
<section id="visualizando-uma-saída-mais-completa" class="level2" data-number="8.12">
<h2 data-number="8.12" class="anchored" data-anchor-id="visualizando-uma-saída-mais-completa"><span class="header-section-number">8.12</span> Visualizando uma saída mais completa</h2>
<p>Podemos combinar os parâmetros para ter uma saída mais completa separando em arquivos:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb27"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[rag@ryzen-nitro</span> ]$ solc <span class="at">-o</span> output-dir <span class="at">--bin</span> <span class="at">--ast-compact-json</span> <span class="at">--abi</span> <span class="at">--asm</span> <span class="at">--ir</span> <span class="at">--gas</span> <span class="at">--overwrite</span> <span class="at">--pretty-json</span> Addition.sol</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Para uma lista completa de parâmetros aceitos pelo <code>solc</code> execute no teminal o comando <code>solc --help</code>.</p>
<p>Mais detalhes do uso do <code>solc</code> podem ser vistos na página da documentação: <a href="https://docs.soliditylang.org/en/v0.8.27/using-the-compiler.html"><em>Using the Compiler</em></a>.</p>
</section>
<section id="linguagem-solidity" class="level2" data-number="8.13">
<h2 data-number="8.13" class="anchored" data-anchor-id="linguagem-solidity"><span class="header-section-number">8.13</span> Linguagem <code>Solidity</code></h2>
<p><code>Solidity</code> é profundamente influencida por <code>C++</code>, mas também carrega conceitos de linguagens como <code>Python</code>, <code>JavaScript</code> e outras.</p>
<p>A documentação da <a href="https://docs.soliditylang.org/en/latest/index.html">Linguagem Solidity</a> pode ser acessada no <a href="https://docs.soliditylang.org/en/latest/index.html">link</a>.</p>
<p>A versão atual do compilador é a <a href="https://docs.soliditylang.org/en/v0.8.31/">v0.8.31</a>.</p>
<!--
https://en.wikipedia.org/wiki/List_of_programming_languages_by_type#Curly-bracket_languages
-->
<p>A sintaxe da linguagem <code>Solidity</code> (Gramática) pode ser acessada no <a href="https://docs.soliditylang.org/en/latest/grammar.html#language-grammar">link</a>.</p>
<p>Uma documentação sobre <code>Solidity</code> está disponível na seção <em>“The Solidity language”</em>, no Capítulo 14, página <span class="math inline">\(448\)</span> do livro texto <span class="citation" data-cites="178948620180101">(<a href="../aula-01-introducao-visao-geral/aula-01-introducao-visao-geral.html#ref-178948620180101" role="doc-biblioref"><strong>178948620180101?</strong></a>)</span> disponível no <em>link</em> <a href="https://moodle.utfpr.edu.br/mod/resource/view.php?id=1757339">Capítulo-14-Development-Tools-and-Frameworks</a>.</p>
</section>
<section id="atividade-compilar-exemplo-e-testar-comandos-solidity" class="level2" data-number="8.14">
<h2 data-number="8.14" class="anchored" data-anchor-id="atividade-compilar-exemplo-e-testar-comandos-solidity"><span class="header-section-number">8.14</span> Atividade: Compilar Exemplo e testar comandos Solidity</h2>
<p>Abra a <a href="https://remix.ethereum.org">Remix IDE</a> e digite o código do contrato do exemplo ou utilize a <code>API</code> que aceita passagem de <a href="https://remix-ide.readthedocs.io/en/latest/locations.html#remix-urls-links-with-parameters">parâmetros na URL</a>.</p>
<p>O código do contrato exemplo pode ser transformado em <a href="https://remix-ide.readthedocs.io/en/latest/locations.html#load-an-encoded-base64-string-into-a-sol-file-in-the-editor"><code>Base64</code></a> e enviado ao Remix via URL conforme o <a href="https://remix-ide.readthedocs.io/en/latest/locations.html#load-an-encoded-base64-string-into-a-sol-file-in-the-editor">link</a>.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb28"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[Addition]$</span> cat Addition.sol <span class="kw">|</span> <span class="fu">base64</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="va">Ly8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVApwcmFnbWEgc29saWRpdHkgXjAuOC4yMTsKCmNvbnRyYWN0IEFkZGl0aW9uIHsKICAgdWludDggeDsKCiAgIGZ1bmN0aW9uIGFkZHgodWludDggeSwgdWludDggeiApIHB1YmxpYyB7CiAgICAgIHggPSB5ICsgejsKICAgfQogICBmdW5jdGlvbiByZXRyaWV2ZXgoKSB2aWV3IHB1YmxpYyByZXR1cm5zICh1aW50OCkgewogICAgICByZXR1cm4geDsKICAgfQp9Cg</span><span class="op">=</span>=</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>O código pode ser passado na <code>URL</code> do <code>Remix</code> com o parâmetro <code>code</code>, conforme no <a href="https://remix.ethereum.org/?#language=solidity&amp;version=soljson-v0.8.31+commit.7893614a.js&amp;code=Ly8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVApwcmFnbWEgc29saWRpdHkgXjAuOC4yMTsKCmNvbnRyYWN0IEFkZGl0aW9uIHsKICAgdWludDggeDsKCiAgIGZ1bmN0aW9uIGFkZHgodWludDggeSwgdWludDggeiApIHB1YmxpYyB7CiAgICAgIHggPSB5ICsgejsKICAgfQogICBmdW5jdGlvbiByZXRyaWV2ZXgoKSB2aWV3IHB1YmxpYyByZXR1cm5zICh1aW50OCkgewogICAgICByZXR1cm4geDsKICAgfQp9Cg==&amp;lang=en&amp;optimize=false&amp;runs=200&amp;evmVersion=shanghai">código</a>.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb29"><pre class="sourceCode html code-with-copy"><code class="sourceCode html"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>https://remix.ethereum.org/?#language=solidity<span class="er">&amp;</span>version=soljson-v0.8.31+commit.7893614a.js<span class="er">&amp;</span>code=Ly8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVApwcmFnbWEgc29saWRpdHkgXjAuOC4yMTsKCmNvbnRyYWN0IEFkZGl0aW9uIHsKICAgdWludDggeDsKCiAgIGZ1bmN0aW9uIGFkZHgodWludDggeSwgdWludDggeiApIHB1YmxpYyB7CiAgICAgIHggPSB5ICsgejsKICAgfQogICBmdW5jdGlvbiByZXRyaWV2ZXgoKSB2aWV3IHB1YmxpYyByZXR1cm5zICh1aW50OCkgewogICAgICByZXR1cm4geDsKICAgfQp9Cg==<span class="er">&amp;</span>lang=en<span class="er">&amp;</span>optimize=false<span class="er">&amp;</span>runs=200<span class="er">&amp;</span>evmVersion=shanghai<span class="er">&amp;</span>call=fileManager</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<!--
https://remix.ethereum.org/?#language=solidity&version=soljson-v0.8.11+commit.d7f03943.js&code=aW1wb3J0ICJmaWxlbmFtZSI7&lang=en&optimize=false&runs=200&evmVersion=null

https://remix.ethereum.org/?#language=solidity&version=soljson-v0.8.11+commit.d7f03943.js&code=aW1wb3J0ICJmaWxlbmFtZSI7Cg&lang=en&optimize=false&runs=200&evmVersion=shanghai
-->
<p>Ao chamar a <code>URL</code> a interface do <code>Remix IDE</code> será carregada com o arquivo do contrato que foi passado codificado no parâmetro <code>code</code>. A <a href="#fig-contrato:remix" class="quarto-xref">Figura&nbsp;<span>8.I</span></a> apresenta o contrato carregado no editor da Remix IDE.</p>
<div id="fig-contrato:remix" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-contrato:remix-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="figuras/compilation-contract-remix-ide.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-contrato:remix-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;8.I: Contrato Carregado na Remix IDE
</figcaption>
</figure>
</div>
<p>Na interface do <code>Remix IDE</code> é possível escolher entre as versões do compilador <code>solc</code>:</p>
<pre class="text"><code>"0.1.1+commit.6ff4cd6", "0.1.2+commit.d0d36e3", "0.1.3+commit.028f561d", "0.1.4+commit.5f6c3cdf", "0.1.5+commit.23865e39", "0.1.6+commit.d41f8b7c", "0.1.7+commit.b4e666cc", "0.2.0+commit.4dc2445e", "0.2.1+commit.91a6b35f", "0.2.2+commit.ef92f566", "0.3.0+commit.11d67369", "0.3.1+commit.c492d9be", "0.3.2+commit.81ae2a78", "0.3.3+commit.4dc1cb14", "0.3.4+commit.7dab8902", "0.3.5+commit.5f97274a", "0.3.6+commit.3fc68da5", "0.4.0+commit.acd334c9", "0.4.10+commit.f0d539ae", "0.4.11+commit.68ef5810", "0.4.15+commit.8b45bddb", "0.4.16+commit.d7661dd9", "0.4.17+commit.bdeb9e52", "0.4.18+commit.9cf6e910", "0.4.19+commit.c4cbbb05", "0.4.1+commit.4fc6fc2c", "0.4.20+commit.3155dd80", "0.4.21+commit.dfe3193c", "0.4.22+commit.4cb486ee", "0.4.23+commit.124ca40d", "0.4.24+commit.e67f0147", "0.4.25+commit.59dbf8f1", "0.4.26+commit.4563c3fc", "0.4.2+commit.af6afb04", "0.4.3+commit.2353da71", "0.4.4+commit.4633f3de", "0.4.5+commit.b318366e", "0.4.6+commit.2dabbdf0", "0.4.7+commit.822622cf", "0.4.8+commit.60cc1668", "0.4.9+commit.364da425", "0.5.0+commit.1d4f565a", "0.5.10+commit.5a6ea5b1", "0.5.11+commit.22be8592", "0.5.11+commit.c082d0b4", "0.5.12+commit.7709ece9", "0.5.13+commit.5b0b510c", "0.5.14+commit.01f1aaa4", "0.5.15+commit.6a57276f", "0.5.16+commit.9c3226ce", "0.5.17+commit.d19bba13", "0.5.1+commit.c8a2cb62", "0.5.2+commit.1df8f40c", "0.5.3+commit.10d17f24", "0.5.4+commit.9549d8ff", "0.5.5+commit.47a71e8f", "0.5.6+commit.b259423e", "0.5.7+commit.6da8b019", "0.5.8+commit.23d335f2", "0.5.9+commit.c68bc34e", "0.5.9+commit.e560f70d", "0.6.0+commit.26b70077", "0.6.10+commit.00c0fcaf", "0.6.11+commit.5ef660b1", "0.6.12+commit.27d51765", "0.6.1+commit.e6f7d5a4", "0.6.2+commit.bacdbe57", "0.6.3+commit.8dda9521", "0.6.4+commit.1dca32f3", "0.6.5+commit.f956cc89", "0.6.6+commit.6c089d02", "0.6.7+commit.b8d736ae", "0.6.8+commit.0bbfe453", "0.6.9+commit.3e3065ac", "0.7.0+commit.9e61f92b", "0.7.1+commit.f4a555be", "0.7.2+commit.51b20bc0", "0.7.3+commit.9bfce1f6", "0.7.4+commit.3f05b770", "0.7.5+commit.eb77ed08", "0.7.6+commit.7338295f", "0.8.0+commit.c7dfd78e", "0.8.10+commit.fc410830", "0.8.11+commit.d7f03943", "0.8.12+commit.f00d7308", "0.8.13+commit.abaa5c0e", "0.8.14+commit.80d49f37", "0.8.15+commit.e14f2714", "0.8.16+commit.07a7930e", "0.8.17+commit.8df45f5f", "0.8.18+commit.87f61d96", "0.8.19+commit.7dd6d404", "0.8.1+commit.df193b15", "0.8.20+commit.a1b79de6", "0.8.21+commit.d9974bed", "0.8.2+commit.661d1103", "0.8.3+commit.8d00100c", "0.8.4+commit.c7e474f2", "0.8.5+commit.a4f2e591", "0.8.6+commit.11564f7e", "0.8.7+commit.e28d00a7", "0.8.8+commit.dddeac2f", "0.8.9+commit.e5eed63a", ... , "0.8.26+commit.8a97fa7a", "0.8.27+commit.40a35a09", "0.8.28+commit.7893614a", </code></pre>
<p>E entre as versões da <a href="https://ethereum.org/pt-br/developers/docs/evm/"><code>EVM</code></a>:</p>
<pre class="text"><code>"cancun", "shanghai", "paris", "london", "berlin", "istambul", "petersburg", "constantinople", "byzantium", "spuriousDragon", "tangerineWhistle", "homestead"</code></pre>
<p>O resultado da compilação pode ser obtido fazendo o <em>download</em> na Opção <code>Compilation Details</code>. A <a href="#fig-compilation:details" class="quarto-xref">Figura&nbsp;<span>8.II</span></a> apresenta a tela para escolha dos itens a serem baixados ou baixar todos os detalhes em um único arquivo `JSON``.</p>
<div id="fig-compilation:details" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-compilation:details-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="figuras/compilation-details.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-compilation:details-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;8.II: Detalhes de Compilação
</figcaption>
</figure>
</div>
<p>A <a href="#fig-compilation:details:bin:gas" class="quarto-xref">Figura&nbsp;<span>8.III</span></a> mostra a visualização do binário gerado e da estimativa de Gás para a implantação e execução.</p>
<div id="fig-compilation:details:bin:gas" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-compilation:details:bin:gas-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="figuras/compilation-details-002.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-compilation:details:bin:gas-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;8.III: Detalhes de Compilação (binário e estimativa de gas)
</figcaption>
</figure>
</div>
</section>
<section id="considerações-finais" class="level2" data-number="8.15">
<h2 data-number="8.15" class="anchored" data-anchor-id="considerações-finais"><span class="header-section-number">8.15</span> Considerações Finais</h2>
<p>A prática apresenta a utilização básica do <code>Remix</code>. Utilize o Capítulo sugerido na Leitura Recomendada e a documentação sobre <code>Solidity</code> para aprender um pouco mais sobre a linguagem. O objetivo principal é a familiaridade com a sintaxe da <a href="https://docs.soliditylang.org/en/latest/grammar.html#language-grammar">linguagem <code>Solidity</code></a>.</p>
<p>Uma documentação sobre <code>Solidity</code> está disponível na seção <em>“The Solidity language”</em>, no Capítulo 14, página <span class="math inline">\(448\)</span> do livro texto <span class="citation" data-cites="178948620180101">(<a href="../aula-01-introducao-visao-geral/aula-01-introducao-visao-geral.html#ref-178948620180101" role="doc-biblioref"><strong>178948620180101?</strong></a>)</span> disponível no <em>link</em> <a href="https://moodle.utfpr.edu.br/mod/resource/view.php?id=1757339">Capítulo-14-Development-Tools-and-Frameworks</a>.</p>
</section>
<section id="leitura-recomendada" class="level2" data-number="8.16">
<h2 data-number="8.16" class="anchored" data-anchor-id="leitura-recomendada"><span class="header-section-number">8.16</span> Leitura Recomendada</h2>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Important</span><span class="bigger120">Leitura Recomendada</span>
</div>
</div>
<div class="callout-body-container callout-body">
<p>Capítulo 14: <em>Development Tools and Frameworks</em></p>
<p><strong>Livro</strong>: <a href="https://search.ebscohost.com/login.aspx?direct=true&amp;db=e000xww&amp;AN=1789486&amp;authtype=shib&amp;lang=pt-br&amp;site=eds-live&amp;scope=site&amp;ebv=EB&amp;ppid=pp_431">IMRAN BASHIR. Mastering Blockchain : Distributed Ledger Technology, Decentralization, and Smart Contracts Explained, 2nd Edition.</a></p>
</div>
</div>
</section>
<section id="word-cloud" class="level1" data-number="9">
<h1 data-number="9"><span class="header-section-number">9</span> <em>Word Cloud</em></h1>
<p><img src="figuras/aula-08-pratica-estudo-sobre-solidity-solc.md.wordcloud.png" class="img-fluid" style="width:100.0%"></p>
<section id="referências" class="level2 fragile allowframebreaks" data-number="9.1">
<h2 class="fragile allowframebreaks anchored" data-number="9.1" data-anchor-id="referências"><span class="header-section-number">9.1</span> Referências</h2>
<div id="refs" role="list" style="display: none">

</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/rogerioag\.github\.io\/tecnologias-blockchain");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../aula-07-pratica-simulador-ganache-metamask/aula-07-pratica-simulador-ganache-metamask.html" class="pagination-link" aria-label="Prática: Simulando uma Rede Ethereum Local: Ganache e o Metamask">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Prática: Simulando uma Rede Ethereum Local: Ganache e o Metamask</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../aula-09-pratica-ethereum-introducao-ao-web3/aula-09-pratica-ethereum-introducao-ao-web3.html" class="pagination-link" aria-label="Prática sobre Ferramentas de Desenvolvimento e Frameworks Ethereum: Introdução ao Web3">
        <span class="nav-page-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Prática sobre Ferramentas de Desenvolvimento e Frameworks Ethereum: Introdução ao Web3</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/rogerioag/tecnologias-blockchain/edit/master/aula-08-pratica-estudo-sobre-solidity-solc/aula-08-pratica-estudo-sobre-solidity-solc.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li></ul></div></div></div></footer></body></html>