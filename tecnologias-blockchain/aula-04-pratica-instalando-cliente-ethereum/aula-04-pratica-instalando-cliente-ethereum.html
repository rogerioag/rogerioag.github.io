<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.6">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>4&nbsp; Prática: Instalando o Cliente Ethereum – Tecnologias Blockchain e suas Aplicações</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../aula-05-pratica-rede-ethereum-privada-ethash/aula-05-pratica-rede-ethereum-privada-ethash.html" rel="next">
<link href="../aula-03-pratica-ethereum-virtual-machine/aula-03-pratica-ethereum-virtual-machine.html" rel="prev">
<link href="../images/logo.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-6c21014d9765ba549c6ebad95917e4d7.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark-d0a9048d95e02c7ff9c82715fd5ddea4.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-31072f9ed96e24c019159c695a8da794.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark-8af282cae751bfb3a2fbecba8a55da7f.min.css" rel="prefetch" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../aula-04-pratica-instalando-cliente-ethereum/aula-04-pratica-instalando-cliente-ethereum.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Prática: Instalando o Cliente Ethereum</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Tecnologias Blockchain e suas Aplicações</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/rogerioag/tecnologias-blockchain" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Share" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label="Share"><i class="bi bi-share"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=|url|">
              <i class="bi bi-twitter pe-1"></i>
            Twitter
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.facebook.com/sharer/sharer.php?u=|url|">
              <i class="bi bi-facebook pe-1"></i>
            Facebook
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.linkedin.com/sharing/share-offsite/?url=|url|">
              <i class="bi bi-linkedin pe-1"></i>
            LinkedIn
            </a>
          </li>
      </ul>
    </div>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bem-vindo</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../aula-01-introducao-visao-geral/aula-01-introducao-visao-geral.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introdução às Tecnologias Blockchain</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../aula-02-visao-geral-ethereum/aula-02-visao-geral-ethereum.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Aula 02 - Ethereum</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../aula-03-pratica-ethereum-virtual-machine/aula-03-pratica-ethereum-virtual-machine.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Prática: Explorando a <em>Ethereum Virtual Machine (EVM)</em></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../aula-04-pratica-instalando-cliente-ethereum/aula-04-pratica-instalando-cliente-ethereum.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Prática: Instalando o Cliente Ethereum</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../aula-05-pratica-rede-ethereum-privada-ethash/aula-05-pratica-rede-ethereum-privada-ethash.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Prática: Criando uma Rede Ethereum Privada: <code>Ethash</code></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../aula-06-pratica-rede-ethereum-privada-clique/aula-06-pratica-rede-ethereum-privada-clique.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Prática: Criando uma Rede Ethereum Privada: <code>Clique</code></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../aula-07-pratica-simulador-ganache-metamask/aula-07-pratica-simulador-ganache-metamask.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Prática: Simulando uma Rede Ethereum Local: Ganache e o Metamask</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../aula-08-pratica-estudo-sobre-solidity-solc/aula-08-pratica-estudo-sobre-solidity-solc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Prática sobre Ferramentas de Desenvolvimento e Frameworks <em>Ethereum</em>: Estudo sobre <code>Solidity</code> e <code>solc</code></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../aula-09-pratica-ethereum-introducao-ao-web3/aula-09-pratica-ethereum-introducao-ao-web3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Prática sobre Ferramentas de Desenvolvimento e Frameworks Ethereum: Introdução ao Web3</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../aula-10-pratica-ethereum-test-and-deploy-truffle/aula-10-pratica-ethereum-test-and-deploy-truffle.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Prática sobre Ferramentas de Desenvolvimento e <em>Frameworks</em> Ethereum: Introdução aos Testes e <em>Deploy</em> com <code>Truffle</code></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../aula-11-pratica-instalando-explorer-local/aula-11-pratica-instalando-explorer-local.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Prática sobre Instalação de <em>Block Explorers</em> Locais para as Redes de Testes</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Sumário</h2>
   
  <ul>
  <li><a href="#introdução" id="toc-introdução" class="nav-link active" data-scroll-target="#introdução"><span class="header-section-number">4.1</span> Introdução</a></li>
  <li><a href="#prática-instalando-o-cliente-ethereum-geth" id="toc-prática-instalando-o-cliente-ethereum-geth" class="nav-link" data-scroll-target="#prática-instalando-o-cliente-ethereum-geth"><span class="header-section-number">5</span> Prática: Instalando o Cliente <em>Ethereum</em>: <code>Geth</code></a>
  <ul class="collapse">
  <li><a href="#sec-instalando:geth" id="toc-sec-instalando:geth" class="nav-link" data-scroll-target="#sec-instalando\:geth"><span class="header-section-number">5.1</span> Instalando o <code>Geth</code></a></li>
  <li><a href="#executando-o-geth" id="toc-executando-o-geth" class="nav-link" data-scroll-target="#executando-o-geth"><span class="header-section-number">5.2</span> Executando o <code>Geth</code></a></li>
  <li><a href="#redes-de-teste" id="toc-redes-de-teste" class="nav-link" data-scroll-target="#redes-de-teste"><span class="header-section-number">5.3</span> Redes de Teste</a></li>
  <li><a href="#executando-o-geth-com-uma-rede-de-teste" id="toc-executando-o-geth-com-uma-rede-de-teste" class="nav-link" data-scroll-target="#executando-o-geth-com-uma-rede-de-teste"><span class="header-section-number">5.4</span> Executando o <code>Geth</code> com uma Rede de Teste</a></li>
  <li><a href="#criando-contas-na-rede" id="toc-criando-contas-na-rede" class="nav-link" data-scroll-target="#criando-contas-na-rede"><span class="header-section-number">5.5</span> Criando Contas na Rede</a></li>
  <li><a href="#listando-as-contas" id="toc-listando-as-contas" class="nav-link" data-scroll-target="#listando-as-contas"><span class="header-section-number">5.6</span> Listando as Contas</a></li>
  <li><a href="#clientes-de-consenso" id="toc-clientes-de-consenso" class="nav-link" data-scroll-target="#clientes-de-consenso"><span class="header-section-number">5.7</span> Clientes de Consenso</a></li>
  <li><a href="#instalando-o-cliente-de-consenso-prysmlinkprysm" id="toc-instalando-o-cliente-de-consenso-prysmlinkprysm" class="nav-link" data-scroll-target="#instalando-o-cliente-de-consenso-prysmlinkprysm"><span class="header-section-number">5.8</span> Instalando o cliente de consenso <code>Prysm</code></a></li>
  <li><a href="#gerando-um-arquivo-jwt-secret" id="toc-gerando-um-arquivo-jwt-secret" class="nav-link" data-scroll-target="#gerando-um-arquivo-jwt-secret"><span class="header-section-number">5.9</span> Gerando um arquivo <em>JWT Secret</em></a></li>
  <li><a href="#executando-um-cliente-de-execuçãolinkprysmexec" id="toc-executando-um-cliente-de-execuçãolinkprysmexec" class="nav-link" data-scroll-target="#executando-um-cliente-de-execuçãolinkprysmexec"><span class="header-section-number">5.10</span> Executando um Cliente de Execução</a></li>
  <li><a href="#executando-um-nó-beacon-usando-prysmlinknobeacon" id="toc-executando-um-nó-beacon-usando-prysmlinknobeacon" class="nav-link" data-scroll-target="#executando-um-nó-beacon-usando-prysmlinknobeacon"><span class="header-section-number">5.11</span> Executando um nó beacon usando Prysm</a></li>
  <li><a href="#executando-o-console-javascript" id="toc-executando-o-console-javascript" class="nav-link" data-scroll-target="#executando-o-console-javascript"><span class="header-section-number">5.12</span> Executando o Console JavaScript</a></li>
  <li><a href="#verificação-do-funcionamento-da-rede" id="toc-verificação-do-funcionamento-da-rede" class="nav-link" data-scroll-target="#verificação-do-funcionamento-da-rede"><span class="header-section-number">5.13</span> Verificação do Funcionamento da Rede</a></li>
  <li><a href="#listando-as-contas-pelo-console" id="toc-listando-as-contas-pelo-console" class="nav-link" data-scroll-target="#listando-as-contas-pelo-console"><span class="header-section-number">5.14</span> Listando as Contas pelo Console</a></li>
  <li><a href="#teste-de-transferência-de-valores-entre-carteiras" id="toc-teste-de-transferência-de-valores-entre-carteiras" class="nav-link" data-scroll-target="#teste-de-transferência-de-valores-entre-carteiras"><span class="header-section-number">5.15</span> Teste de Transferência de Valores entre Carteiras</a></li>
  <li><a href="#pedindo-recursos-para-um-faucet" id="toc-pedindo-recursos-para-um-faucet" class="nav-link" data-scroll-target="#pedindo-recursos-para-um-faucet"><span class="header-section-number">5.16</span> Pedindo Recursos para um Faucet</a></li>
  <li><a href="#importando-contas-do-metamask" id="toc-importando-contas-do-metamask" class="nav-link" data-scroll-target="#importando-contas-do-metamask"><span class="header-section-number">5.17</span> Importando contas do Metamask</a></li>
  <li><a href="#comandos-finais" id="toc-comandos-finais" class="nav-link" data-scroll-target="#comandos-finais"><span class="header-section-number">5.18</span> Comandos Finais</a></li>
  </ul></li>
  <li><a href="#referências" id="toc-referências" class="nav-link" data-scroll-target="#referências"><span class="header-section-number">6</span> Referências</a>
  <ul class="collapse">
  <li><a href="#leitura-recomendada" id="toc-leitura-recomendada" class="nav-link" data-scroll-target="#leitura-recomendada"><span class="header-section-number">6.1</span> Leitura Recomendada</a></li>
  <li><a href="#word-cloud" id="toc-word-cloud" class="nav-link" data-scroll-target="#word-cloud"><span class="header-section-number">6.2</span> <em>Word Cloud</em></a></li>
  <li><a href="#referências-1" id="toc-referências-1" class="nav-link" data-scroll-target="#referências-1"><span class="header-section-number">6.3</span> Referências</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/rogerioag/tecnologias-blockchain/edit/master/aula-04-pratica-instalando-cliente-ethereum/aula-04-pratica-instalando-cliente-ethereum.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Prática: Instalando o Cliente Ethereum</span></h1>
<p class="subtitle lead">Geth</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  
<div>
  <div class="abstract">
    <div class="block-title">Resumo</div>
    Esta prática apresenta os clientes para a rede Ethereum. Iremos instalar o <code>Geth</code> e vermos seu funcionamento, transformando a máquina em um nó da rede <em>Ethereum</em>.
  </div>
</div>


</header>


<!-- Prática 1 -->
<section id="introdução" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="introdução"><span class="header-section-number">4.1</span> Introdução</h2>
<p>Como o desenvolvimento da <em>Ethereum</em> está em constante evolução, existem muitos componentes, clientes, e ferramentas que foram desenvolvidas e introduzidas nos últimos anos. Carteiras <em>(wallets)</em> e clientes de <em>software</em>.</p>
<p><strong>Wallets</strong> são programas que podem armazenar as chaves privadas e baseado nos endereços armazenados podem calcular o saldo <em>(balance)</em> de <em>ether</em> associado a esses endereços, consultando a <em>blockchain</em>. O saldo pode ser utilizado para fazer o <em>deploy</em> de contratos inteligentes.</p>
<p><strong>Clientes</strong> são <em>softwares</em> que acessam a rede, podendo fazer sincronizações e interagir com a rede:</p>
<ul>
<li><p><strong>Geth:</strong> É a implementação oficial do <em>Ethereum Client</em> na linguagem <code>Go</code>. É um cliente de execução <code>Ethereum</code>, capaz de lidar com transações, implantação e execução de contratos inteligentes e traz uma máquina virtual embutida conhecida como <em>Ethereum Virtual Machine</em> (EVM). Ao executar o clietne <code>Geth</code> junto com um cliente de consenso transforma um computador em um nó da rede <code>Ethereum</code>. A última versão está disponível em <a href="https://geth.ethereum.org/downloads/" class="uri">https://geth.ethereum.org/downloads/</a>.</p></li>
<li><p><strong>Nethermind:</strong> É uma implementação feita em <code>.NET</code> que roda em <em>GNU/Linux</em>, <em>Windows</em> e <em>macOS</em>. Suporta Clique, Aura, e Ethash. Com boa velocidade de sincronização e suporte para plugins externos, ele fornece acesso confiável a dados <em>on-chain</em> por uma interface <code>JSON-RPC</code> e monitoramento de integridade de nós com <a href="https://grafana.com/">Grafana</a> e <a href="https://datalust.co/seq">Seq</a>. Detalhes de Instalação em <a href="https://docs.nethermind.io/get-started/installing-nethermind" class="uri">https://docs.nethermind.io/get-started/installing-nethermind</a>.</p></li>
<li><p><strong>Erigon:</strong> É um <em>fork</em> do <code>Geth</code>, que tem sido reescrito com foco em velocidade e para poupar armazenamento. O cliente <code>Erigon</code> pode completar a sincronização em modo <em>full archive</em> em menos do que três dias e ocupando menos que <span class="math inline">\(2TB\)</span> de armazenamento. Suporta várias <em>blockchains</em> compatíveis com EVM e <em>testnets</em>. Disponível em <a href="https://erigon.gitbook.io/erigon" class="uri">https://erigon.gitbook.io/erigon</a></p></li>
<li><p><strong>Besu:</strong> <a href="https://www.hyperledger.org/projects/besu"><code>Hyperledger Besu</code></a> é um cliente Ethereum projetado para ser amigável a empresas para casos de uso de rede pública e privada permissionada. Ele também pode ser executado com redes de teste como Sepolia e Görli. O Hyperledger Besu inclui vários algoritmos de consenso, incluindo <code>Proof of Stake</code>, <code>Proof of Work</code> e <code>Proof of Authority</code> (IBFT 2.0, QBFT e Clique). Disponível em <a href="https://besu.hyperledger.org/private-networks/get-started/install" class="uri">https://besu.hyperledger.org/private-networks/get-started/install</a>.</p></li>
<li><p><strong>Eth:</strong> Implementação do <em>Ethereum Client</em> em <code>C++</code>. O <code>Eth</code> está disponível no repositório do GitHub: <a href="https://github.com/ethereum/aleth" class="uri">https://github.com/ethereum/aleth</a>.</p></li>
<li><p><strong>Parity:</strong> Esta implementação é feita usando <code>Rust</code> e desenvolvida pela <code>Parity</code> Technologies. Parity pode ser baixada do link: <a href="https://www.parity.io/" class="uri">https://www.parity.io/</a>. Note que <code>Parity</code> tornou-se o <code>OpenEthereum</code>.</p></li>
<li><p><strong>OpenEthereum:</strong> O cliente <a href="https://openethereum.github.io/"><code>OpenEthereum</code></a> está descontinuado desde <span class="math inline">\(2022\)</span>.</p></li>
<li><p><strong>Trinity:</strong> Trinity é a implementação do protocolo <em>Ethereum</em>, escrito em <code>Python</code>. Trinity pode ser baixada do link <a href="https://github.com/ethereum/trinity" class="uri">https://github.com/ethereum/trinity</a>. O site oficial é <a href="https://trinity.ethereum.org" class="uri">https://trinity.ethereum.org</a>. Descontinuado, <code>github</code> apresenta a mensagem <em>“This repository has been archived by the owner on Jul 1, 2021. It is now read-only.”</em></p></li>
</ul>
<p>A <a href="#fig-percentual:clientes:ethereum" class="quarto-xref">Figura&nbsp;<span>4.I</span></a> apresenta os percentuais de domínio dos clientes em uso, sendo sincronizados com a rede.</p>
<div id="fig-percentual:clientes:ethereum" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-percentual:clientes:ethereum-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="figuras/percentual-por-cliente-ethereum.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-percentual:clientes:ethereum-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4.I- Percentual de Clientes em 21/08/2025. Fonte: <a href="https://ethernodes.org/">ethernodes</a>
</figcaption>
</figure>
</div>
<p>Diagramas atualizados podem ser vistos no <a href="https://ethernodes.org/">ethernodes.org</a> e no <a href="https://clientdiversity.org/#distribution">clientdiversity.org</a>. E alguma documentação de como migrar de um clinte para outro pode ser encontrada no <a href="https://clientdiversity.org/#switch">link</a>.</p>
<p><strong>Light clients</strong> são clientes <strong>Simple Payment Verification (SPV)</strong>, fazem <em>download</em> somente de uma pequena parte do <em>blockchain</em>. Isto permite dispositivos com recursos limitados, tais como dispositivos móveis, dispositivos embarcados, <em>tablets</em> ou dispositivos capazes de verificar transações.</p>
<p>Uma cópia completa da <em>blockchain</em> da <em>Ethereum</em> não é necessária para esses <em>SPV clients</em>, que também podem validar transações.</p>
<p>A diferença entre <em>clients</em> e <em>wallets</em> é que clientes são implementações completas do protocolo <em>Ethereum</em>, que suportam mineração e gerenciamento de contas e funções de <em>wallets</em>.</p>
<p>Carteiras somente armazenam as chaves públicas e privadas para fornecer gerenciamento essential de contas e interagem com o <em>blockchain</em> para propósitos de pagamentos, transferências de fundos.</p>
</section>
<section id="prática-instalando-o-cliente-ethereum-geth" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Prática: Instalando o Cliente <em>Ethereum</em>: <code>Geth</code></h1>
<!--
## TODO: https://www.quicknode.com/guides/infrastructure/node-setup/how-to-install-and-run-a-geth-node
-->
<p>A proposta desta prática é vermos o funcionamento do <em>software</em> cliente da rede <em>Ethereum</em>, iremos utilizar o <code>Geth</code>, por ser o cliente oficial. Iremos transformar a máquina em um nó da rede <em>Ethereum</em>.</p>
<section id="sec-instalando:geth" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="sec-instalando:geth"><span class="header-section-number">5.1</span> Instalando o <code>Geth</code></h2>
<p>Nesta etapa, você instalará o cliente padrão de camada de execução (<code>geth</code>) e outras ferramentas. Baixe e execute o a última versão <code>64-bit</code> estável do <strong>Geth installer</strong> para seu Sistema Operacional do site <a href="https://geth.ethereum.org/downloads/"><em>Geth downloads page</em></a>. Ou baixe e execute o a última versão <code>64-bit</code> estável do <strong><em>Geth and Tools</em></strong> para seu Sistema Operacional do site <a href="https://geth.ethereum.org/downloads/"><em>Geth downloads page</em></a>. Para Linux, baixe o arquivo <a href="https://gethstore.blob.core.windows.net/builds/geth-alltools-linux-amd64-1.14.8-a9523b64.tar.gz"><em>Geth and Tools</em></a> ou escolha nas guias a versão do seu Sistema Operacional.</p>
<p>O <code>geth</code> e as outras ferramentas podem ser instaladas em sistemas derivados do <code>Debian</code> e <code>Ubuntu</code> com o pacote <code>ethereum</code>:</p>
<p>O <code>geth</code> pode ser instalado em sistemas derivados do <code>Debian</code> e <code>Ubuntu</code> com o pacote <code>ethereum</code>:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo apt-get install <span class="at">-y</span> software-properties-common</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo add-apt-repository <span class="at">-y</span> ppa:ethereum/ethereum</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo apt-get update</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo apt-get install <span class="at">-y</span> ethereum</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Em outros Sistemas como os derivados de <code>Arch Linux</code>:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo pacaur <span class="at">-Ss</span> ethereum</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo pacaur <span class="at">-Ss</span> go-ethereum</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="ex">extra/go-ethereum</span> 1.14.8-1 <span class="pp">[</span><span class="ss">instalado</span><span class="pp">]</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    <span class="ex">Official</span> Go implementation of the Ethereum protocol</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> pacaur <span class="at">-S</span> go-ethereum</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="ex">atencao:</span> go-ethereum-1.14.8-1 está atualizado <span class="at">--</span> reinstalando</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="ex">resolvendo</span> dependencias...</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="ex">procurando</span> pacotes conflitantes...</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="ex">Pacotes</span> <span class="er">(</span><span class="ex">1</span><span class="kw">)</span> <span class="ex">go-ethereum-1.14.8-1</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="ex">Tamanho</span> total instalado:  249,48 MiB</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="ex">Alteracao</span> no tamanho:       0,00 MiB</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="ex">::</span> Continuar a instalacao<span class="pp">?</span> <span class="pp">[</span><span class="ss">S/n</span><span class="pp">]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Imagens <code>docker</code> são mantidas no <a href="https://hub.docker.com/r/ethereum/client-go"><code>DockerHub</code></a> para usuários que preferem rodar em um ambiente com <em>container</em>. As seguintes imagens estão disponíveis com todas as ferramentas:</p>
<pre><code>ethereum/client-go:alltools-latest última versão de desenvolvimento.
ethereum/client-go:alltools-stable última versão estável.
ethereum/client-go:alltools-{version} versão estável com número de versão específica.
ethereum/client-go:alltools-release-{version} última versão estável com um família de versões específica.</code></pre>
<p>Instalação via <code>docker</code> pode ser feita com os comandos:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> docker pull ethereum/client-go:alltools-stable</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> docker run <span class="at">-it</span> <span class="at">-p</span> 30303:30303 ethereum/client-go:alltools-stable</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>A imagem irá expor as seguintes portas:</p>
<pre><code>8545 TCP, usado pela API HTTP baseada em JSON RPC
8546 TCP, usado pela API WebSocket baseada em JSON RPC
8547 TCP, usado pela API GraphQL
30303 TCP e UDP, usado pelo protocolo P2P para rodar a rede.</code></pre>
<p><strong>Nota:</strong> se você estiver executando um cliente dentro de um container docker, você deveria montar um volume de dados com um diretório de dados do cliente na pasta <code>/root/.ethereum</code> dentro do container para que ter certeza que os dados baixados serão preservados entre uma reinicialização e outra do container.</p>
<p>Na minha máquina montaria o diretório <code>/run/media/rogerio/DADOS/ethereum</code> no diretório virtual <code>/root/.ethereum</code>, as sincronizações e comandos executados na imagem <code>docker</code> seriam refletidos na base de dados do diretório externo.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> docker run <span class="at">-it</span> <span class="at">-p</span> 30303:30303 <span class="at">-v</span> /run/media/rogerio/DADOS/ethereum:/root/.ethereum  <span class="at">-w</span> /root/.ethereum ethereum/client-go:alltools-latest</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Para atualizar as ferramentas para a última versão, basta parar o <em>container</em> e fazer um <em>pull</em> da última versão:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> docker stop ethereum/client-go:alltools-stable</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> docker pull ethereum/client-go:alltools-latest</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> docker run <span class="at">-it</span> <span class="at">-p</span> 30303:30303 ethereum/client-go:alltools-latest</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>A execução da última versão seria pelo comando:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> docker run <span class="at">-it</span> <span class="at">-p</span> 30303:30303 ethereum/client-go:alltools-latest</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Instruções para outros Sistemas Operacionais podem ser encontradas no site oficial da documentação do <code>Ethereum</code>, artigo <a href="https://geth.ethereum.org/docs/getting-started/installing-geth"><em>Installing Geth</em></a>.</p>
<p>Verifique se a versão mais nova já não foi instalada. O link <a href="https://github.com/ethereum/go-ethereum/releases">Rayingri (v1.14.8)</a> lista as versões.</p>
<p>Na minha máquina está instalada a versão <code>1.14.8-stable-a9523b64</code>, você pode verificar a sua com <code>geth --version</code> ou <code>geth version</code> ou <code>evm --version</code>:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> evm <span class="at">--version</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="ex">evm</span> version 1.14.8-stable-a9523b64</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> geth <span class="at">--version</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="ex">geth</span> version 1.14.8-stable-a9523b64</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> geth version</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="ex">Geth</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="ex">Version:</span> 1.14.8-stable</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="ex">Git</span> Commit: a9523b6428238a762e1a1e55e46ead47630c3a23</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="ex">Git</span> Commit Date: 20240812</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="ex">Architecture:</span> amd64</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="ex">Go</span> Version: go1.22.6</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a><span class="ex">Operating</span> System: linux</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a><span class="va">GOPATH</span><span class="op">=</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a><span class="va">GOROOT</span><span class="op">=</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="executando-o-geth" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="executando-o-geth"><span class="header-section-number">5.2</span> Executando o <code>Geth</code></h2>
<p>Executando o <code>Geth</code> diretamente ele irá sincronizar com a rede principal (<code>mainnet</code>) do <code>Ethereum</code>. Os dados serão sincronizados com o diretório do <code>Ethereum</code> que será criado em:</p>
<ul>
<li><code>~/.ethereum</code> no GNU/Linux</li>
<li><code>~/Library/Ethereum</code> no OS X</li>
<li><code>~/AppData/Roaming/Ethereum</code> no Windows</li>
</ul>
<p>Nestes diretórios:</p>
<ul>
<li><code>.ethereum/geth/chaindata/</code>: blockchain da rede principal.</li>
<li><code>.ethereum/sepolia/geth/chaindata</code>: <em>blockchain</em> da rede de teste <code>Sepolia</code>.</li>
<li><code>.ethereum/keystore</code>: Chaves das contas criadas.</li>
</ul>
<div class="sourceCode" id="cb10"><pre class="sourceCode bash breaklines code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[~]$</span> geth</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.911]</span> Starting Geth on Ethereum mainnet... </span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.912]</span> Bumping default cache on mainnet         provided=1024 updated=4096</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.914]</span> Maximum peer count                       ETH=50 LES=0 total=50</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.915]</span> Smartcard socket not found, disabling    err=<span class="st">"stat /run/pcscd/pcscd.comm: no such file or directory"</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.920]</span> Set global gas cap                       cap=50,000,000</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.922]</span> Allocated trie memory caches             clean=614.00MiB dirty=1024.00MiB</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.923]</span> Allocated cache and file handles         database=/home/rag/.ethereum/geth/chaindata cache=2.00GiB handles=262,144</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.946]</span> Opened ancient database                  database=/home/rag/.ethereum/geth/chaindata/ancient/chain readonly=false</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.950]</span>  </span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.950]</span> <span class="at">-----------------------------------------------------------------------------------</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.950]</span> Chain ID:  1 <span class="er">(</span><span class="ex">mainnet</span><span class="kw">)</span> </span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.950]</span> Consensus: Beacon <span class="er">(</span><span class="ex">proof-of-stake</span><span class="kw">)</span><span class="ex">,</span> merged from Ethash <span class="er">(</span><span class="ex">proof-of-work</span><span class="kw">)</span> </span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.950]</span>  </span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.950]</span> Pre-Merge hard forks: </span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.950]</span>  <span class="at">-</span> Homestead:                   1150000  <span class="er">(</span><span class="ex">https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-</span> upgrades/homestead.md<span class="kw">)</span> </span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.950]</span>  <span class="at">-</span> DAO Fork:                    1920000  <span class="er">(</span><span class="ex">https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-</span> upgrades/dao-fork.md<span class="kw">)</span> </span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.950]</span>  <span class="at">-</span> Tangerine Whistle <span class="er">(</span><span class="ex">EIP</span> 150<span class="kw">)</span><span class="bu">:</span> 2463000  <span class="er">(</span><span class="ex">https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-</span> upgrades/tangerine-whistle.md<span class="kw">)</span> </span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.950]</span>  <span class="at">-</span> Spurious Dragon/1 <span class="er">(</span><span class="ex">EIP</span> 155<span class="kw">)</span><span class="bu">:</span> 2675000  <span class="er">(</span><span class="ex">https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-</span> upgrades/spurious-dragon.md<span class="kw">)</span> </span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.950]</span>  <span class="at">-</span> Spurious Dragon/2 <span class="er">(</span><span class="ex">EIP</span> 158<span class="kw">)</span><span class="bu">:</span> 2675000  <span class="er">(</span><span class="ex">https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-</span> upgrades/spurious-dragon.md<span class="kw">)</span> </span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.950]</span>  <span class="at">-</span> Byzantium:                   4370000  <span class="er">(</span><span class="ex">https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-</span> upgrades/byzantium.md<span class="kw">)</span> </span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.950]</span>  <span class="at">-</span> Constantinople:              7280000  <span class="er">(</span><span class="ex">https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-</span> upgrades/constantinople.md<span class="kw">)</span> </span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.950]</span>  <span class="at">-</span> Petersburg:                  7280000  <span class="er">(</span><span class="ex">https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-</span> upgrades/petersburg.md<span class="kw">)</span> </span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.950]</span>  <span class="at">-</span> Istanbul:                    9069000  <span class="er">(</span><span class="ex">https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-</span> upgrades/istanbul.md<span class="kw">)</span> </span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.950]</span>  <span class="at">-</span> Muir Glacier:                9200000  <span class="er">(</span><span class="ex">https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-</span> upgrades/muir-glacier.md<span class="kw">)</span> </span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.950]</span>  <span class="at">-</span> Berlin:                      12244000 <span class="er">(</span><span class="ex">https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-</span> upgrades/berlin.md<span class="kw">)</span> </span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.950]</span>  <span class="at">-</span> London:                      12965000 <span class="er">(</span><span class="ex">https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-</span> upgrades/london.md<span class="kw">)</span> </span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.950]</span>  <span class="at">-</span> Arrow Glacier:               13773000 <span class="er">(</span><span class="ex">https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-</span> upgrades/arrow-glacier.md<span class="kw">)</span> </span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.950]</span>  <span class="at">-</span> Gray Glacier:                15050000 <span class="er">(</span><span class="ex">https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-</span> upgrades/gray-glacier.md<span class="kw">)</span> </span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.950]</span>  </span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.950]</span> Merge configured: </span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.950]</span>  <span class="at">-</span> Hard-fork specification:    https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet- upgrades/paris.md </span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.950]</span>  <span class="at">-</span> Network known to be merged: true </span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.950]</span>  <span class="at">-</span> Total terminal difficulty:  58750000000000000000000 </span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.950]</span>  <span class="at">-</span> Merge netsplit block:       <span class="op">&lt;</span>nil<span class="op">&gt;</span> </span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.950]</span> <span class="at">--------------------------------------------------------------------------------------</span></span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.950]</span>  </span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.952]</span> Disk storage enabled for ethash caches   dir=/home/rag/.ethereum/geth/ethash count=3</span>
<span id="cb10-39"><a href="#cb10-39" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.952]</span> Disk storage enabled for ethash DAGs     dir=/home/rag/.ethash               count=2</span>
<span id="cb10-40"><a href="#cb10-40" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.952]</span> Initialising Ethereum protocol           network=1 dbversion=8</span>
<span id="cb10-41"><a href="#cb10-41" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.963]</span> Loaded most recent local header          number=0 hash=d4e567..cb8fa3 td=17,179,869,184 age=53y6mo3w</span>
<span id="cb10-42"><a href="#cb10-42" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.963]</span> Loaded most recent local full block      number=0 hash=d4e567..cb8fa3 td=17,179,869,184 age=53y6mo3w</span>
<span id="cb10-43"><a href="#cb10-43" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.963]</span> Loaded most recent local fast block      number=0 hash=d4e567..cb8fa3 td=17,179,869,184 age=53y6mo3w</span>
<span id="cb10-44"><a href="#cb10-44" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.964]</span> Loaded local transaction journal         transactions=0 dropped=0</span>
<span id="cb10-45"><a href="#cb10-45" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.964]</span> Regenerated local transaction journal    transactions=0 accounts=0</span>
<span id="cb10-46"><a href="#cb10-46" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.965]</span> Chain post-merge, sync via beacon client </span>
<span id="cb10-47"><a href="#cb10-47" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.965]</span> Gasprice oracle is ignoring threshold set threshold=2</span>
<span id="cb10-48"><a href="#cb10-48" aria-hidden="true" tabindex="-1"></a><span class="ex">WARN</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.965]</span> Engine API enabled                       protocol=eth</span>
<span id="cb10-49"><a href="#cb10-49" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.966]</span> Starting peer-to-peer node               instance=Geth/v1.10.25-stable-69568c55/linux-amd64/go1.19.1</span>
<span id="cb10-50"><a href="#cb10-50" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.991]</span> New local node record                    seq=1,665,519,113,919 id=da440578e33a2ce7 ip=127.0.0.1 udp=30303 tcp=30303</span>
<span id="cb10-51"><a href="#cb10-51" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.992]</span> Started P2P networking                   self=enode://9ae8fcdad4a7243d1bd2308a159c5800ec170e588862be110152627c9ed3fa67376ef8c75 26d7a56e9bb72da729cf792c7bef86c095471995cc352f9e353acfc@127.0.0.1:30303</span>
<span id="cb10-52"><a href="#cb10-52" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.993]</span> IPC endpoint opened                      url=/home/rag/.ethereum/geth.ipc</span>
<span id="cb10-53"><a href="#cb10-53" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.993]</span> Loaded JWT secret file                   path=/home/rag/.ethereum/geth/jwtsecret crc32=0xdeccafe4</span>
<span id="cb10-54"><a href="#cb10-54" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.994]</span> WebSocket enabled                        url=ws://127.0.0.1:8551</span>
<span id="cb10-55"><a href="#cb10-55" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:12.994]</span> HTTP server started                      endpoint=127.0.0.1:8551 auth=true prefix= cors=localhost vhosts=localhost</span>
<span id="cb10-56"><a href="#cb10-56" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:16.251]</span> New local node record                    seq=1,665,519,113,920 id=da440578e33a2ce7 ip=187.95.110.26 udp=2770  tcp=30303</span>
<span id="cb10-57"><a href="#cb10-57" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:22.992]</span> Looking for peers                        peercount=0 tried=2 static=0</span>
<span id="cb10-58"><a href="#cb10-58" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:32.994]</span> Looking for peers                        peercount=0 tried=3 static=0</span>
<span id="cb10-59"><a href="#cb10-59" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:43.205]</span> Looking for peers                        peercount=0 tried=9 static=0</span>
<span id="cb10-60"><a href="#cb10-60" aria-hidden="true" tabindex="-1"></a><span class="ex">WARN</span> [10-20<span class="kw">|</span><span class="ex">21:07:47.967]</span> Post-merge network, but no beacon client seen. Please launch one to follow the chain! </span>
<span id="cb10-61"><a href="#cb10-61" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:07:53.281]</span> Looking for peers                        peercount=0 tried=13 static=0</span>
<span id="cb10-62"><a href="#cb10-62" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [10-20<span class="kw">|</span><span class="ex">21:08:03.346]</span> Looking for peers                        peercount=0 tried=9  static=0</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>O que vai levar um certo tempo para fazer toda a sincronização da rede completa.</p>
<!--Hoje, $03/09/2024$ o tamanho da _blockchain_ está em [$1147.97 GB$](https://ycharts.com/indicators/ethereum_chain_full_sync_data_size).-->
<p>Hoje, <span class="math inline">\(21/08/2025\)</span> o tamanho da <em>blockchain</em> está em <a href="https://ycharts.com/indicators/ethereum_chain_full_sync_data_size"><span class="math inline">\(1380.34 GB\)</span></a>.</p>
</section>
<section id="redes-de-teste" class="level2 allowframebreaks" data-number="5.3">
<h2 class="allowframebreaks anchored" data-number="5.3" data-anchor-id="redes-de-teste"><span class="header-section-number">5.3</span> Redes de Teste</h2>
<p>Vimos as redes <em>Ethereum</em> disponíveis, uma lista completa pode ser encontrada em <a href="https://ethereum.org/en/developers/docs/networks/" class="uri">https://ethereum.org/en/developers/docs/networks/</a>.</p>
<p>A evolução das Redes de Teste pode ser vista nesse artigo <a href="https://etherworld.co/2022/08/19/the-evolution-of-ethereum-testnet/"><em>The Evolution of Ethereum Testnets</em></a>.</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: left;"><strong>Rede</strong></th>
<th style="text-align: left;"><strong>Id</strong></th>
<th style="text-align: left;"><strong>Parâmetro</strong></th>
<th style="text-align: left;"><strong>Descrição</strong></th>
<th style="text-align: center;"><strong>Recursos</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><a href="https://ethereum.org/en/developers/docs/networks/#ethereum-mainnet">Mainnet</a></td>
<td style="text-align: left;"><span class="math inline">\(1\)</span></td>
<td style="text-align: left;"><code>--mainnet</code></td>
<td style="text-align: left;">Rede principal, rede de produção. Quando as pessoas e as bolsas discutem os preços da <code>ETH</code>, estão falando sobre a <em>Mainnet ETH</em>.&nbsp;</td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: left;"><a href="https://ethereum.org/en/developers/docs/networks/#ethereum-testnets">testnet</a></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"><code>--testnet</code></td>
<td style="text-align: left;">Há algumas versões anteriores, para acessar as redes de teste deveríamos utilizar parâmetro <code>--testnet</code> e fornecer o nome da rede, como <code>--testnet rinkeby</code>, por padrão era a rede <code>ropsten</code>. Nas versões mais atuais estão previstos parâmetros específicos para cada uma das redes.</td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><a href="https://blog.ethereum.org/2022/06/21/testnet-deprecation">ropsten</a></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"><code>--ropsten</code></td>
<td style="text-align: left;"><strong>Ropsten network:</strong> pré-configurada Proof-of-Work test network&nbsp;</td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: left;"><a href="https://blog.ethereum.org/2022/06/21/testnet-deprecation">rinkeby</a></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"><code>--rinkeby</code></td>
<td style="text-align: left;"><strong>Rinkeby network:</strong> pré-configurada Proof-of-Authority test network</td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><a href="https://ethereum.org/en/developers/docs/networks/#goerli">goerli</a></td>
<td style="text-align: left;"><span class="math inline">\(5\)</span></td>
<td style="text-align: left;"><code>--goerli</code></td>
<td style="text-align: left;"><strong>Görli network:</strong> pré-configurada Proof-of-Authority test network. Goerli testnet será descontinuada e substituída pela <a href="https://github.com/eth-clients/holesovice">Holesovice</a> em 2023. Please consider migrating your applications to Sepolia.</td>
<td style="text-align: center;"><a href="https://goerli.net/">Website</a> <a href="https://github.com/eth-clients/goerli">GitHub</a> <a href="https://goerli.etherscan.io">Etherscan</a></td>
</tr>
<tr class="even">
<td style="text-align: left;"><a href="https://blog.ethereum.org/2022/06/21/testnet-deprecation">kiln</a></td>
<td style="text-align: left;"><span class="math inline">\(1337802\)</span></td>
<td style="text-align: left;"><code>--kiln</code></td>
<td style="text-align: left;"><strong>Kiln network:</strong> pré-configurada proof-of-work to proof-of-stake test network</td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><a href="https://ethereum.org/en/developers/docs/networks/#sepolia">Sepolia</a></td>
<td style="text-align: left;"><span class="math inline">\(11155111\)</span></td>
<td style="text-align: left;"><code>--sepolia</code></td>
<td style="text-align: left;"><strong>Sepolia network:</strong> pré-configurada proof-of-authority test network. Criado em outubro de 2021 pelo desenvolvedores do core do Ethereum e mantida desde então. Depois que a rede Ropsten atingiu uma dificuldade total de terminal (TTD) de 5000000000000000, as redes de teste Sepolia e Goerli fizeram a transição para um mecanismo de consenso <em>proof-of-stake</em> para imitar a rede principal Ethereum.</td>
<td style="text-align: center;"><a href="https://sepolia.dev/">Website</a> <a href="https://github.com/eth-clients/sepolia">GitHub</a> <a href="https://sepolia.otterscan.io/">Otterscan</a> <a href="https://sepolia.etherscan.io">Etherscan</a></td>
</tr>
</tbody>
</table>
<p>A <a href="#fig-redes:testes" class="quarto-xref">Figura&nbsp;<span>5.I</span></a> apresenta um resumo no formato de <em>timeline</em> das redes de testes.</p>
<div id="fig-redes:testes" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-redes:testes-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="figuras/TestnetsTimeline.png" class="img-fluid figure-img" style="width:90.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-redes:testes-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5.I- <em>Timeline</em> das Redes de Teste <a href="https://etherworld.co/2022/08/19/the-evolution-of-ethereum-testnet/#section2">Fonte: Etherwold</a>
</figcaption>
</figure>
</div>
</section>
<section id="executando-o-geth-com-uma-rede-de-teste" class="level2" data-number="5.4">
<h2 data-number="5.4" class="anchored" data-anchor-id="executando-o-geth-com-uma-rede-de-teste"><span class="header-section-number">5.4</span> Executando o <code>Geth</code> com uma Rede de Teste</h2>
<p>Ao executar o <code>geth</code> com algum das redes de teste será criado um diretório dentro do diretório padrão <code>~/.ethereum/</code> para cada rede de teste. Por exemplo, <code>~/.ethereum/goerli</code> para <code>--goerli</code> e <code>~/.ethereum/sepolia</code> para o <code>--sepolia</code>.</p>
<p>Iremos executar o cliente com a rede <a href="https://ethereum.org/en/developers/docs/networks/#sepolia"><code>Sepolia</code></a> que é recomendada como <code>testnet</code> padrão, uma vez que <code>Goerli</code> será descontinuada em <span class="math inline">\(2023\)</span>, sendo substituída pela <code>Holesovice</code>. É recomendado migrar sua aplicação para <code>Sepolia</code>.</p>
<p>A rede <code>Sepolia</code> usa um conjunto validador permissionado. É uma rede nova, o que significa que seu estado e seu histórico são pequenos, o que deixa sua sincronização mais rápida e exige menos armazenamento. Características importantes para usuários que querem rapidamente montar um nó da rede e interagir com a rede diretamente.</p>
<div class="sourceCode" id="cb11" data-breaklines="true"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[rogerio@ryzen-nitro</span> execution]$ geth <span class="at">--sepolia</span> <span class="at">--syncmode</span> full <span class="at">--http</span> <span class="at">--http.addr</span> 127.0.0.1 <span class="at">--http.port</span> 8559 <span class="at">--http.api</span> <span class="st">"eth,net,web3,personal,engine,admin"</span> <span class="at">--keystore</span> ~/.ethereum/sepolia/keystore</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.640]</span> Starting Geth on Sepolia testnet... </span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.641]</span> Maximum peer count                       ETH=50 LES=0 total=50</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.643]</span> Smartcard socket not found, disabling    err=<span class="st">"stat /run/pcscd/pcscd.comm: no such file or directory"</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.646]</span> Set global gas cap                       cap=50,000,000</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.649]</span> Allocated trie memory caches             clean=154.00MiB dirty=256.00MiB</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.649]</span> Using leveldb as the backing database </span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.649]</span> Allocated cache and file handles         database=/home/rogerio/.ethereum/sepolia/geth/chaindata cache=512.00MiB handles=262,144</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.660]</span> Using LevelDB as the backing database </span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.663]</span> Opened ancient database                  database=/home/rogerio/.ethereum/sepolia/geth/chaindata/ancient/chain readonly=false</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.664]</span> Disk storage enabled for ethash caches   dir=/home/rogerio/.ethereum/sepolia/geth/ethash count=3</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.664]</span> Disk storage enabled for ethash DAGs     dir=/home/rogerio/.ethash count=2</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.664]</span> Initialising Ethereum protocol           network=11,155,111 dbversion=8</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.667]</span>  </span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.667]</span> <span class="at">------------------------------------------------------------------------------------</span> </span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.667]</span> Chain ID:  11155111 <span class="er">(</span><span class="ex">sepolia</span><span class="kw">)</span> </span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.667]</span> Consensus: Beacon <span class="er">(</span><span class="ex">proof-of-stake</span><span class="kw">)</span><span class="ex">,</span> merged from Ethash <span class="er">(</span><span class="ex">proof-of-work</span><span class="kw">)</span> </span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.667]</span>  </span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.667]</span> Pre-Merge hard forks <span class="er">(</span><span class="ex">block</span> based<span class="kw">)</span><span class="bu">:</span> </span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.667]</span>  <span class="at">-</span> Homestead:                   <span class="co">#0        (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet- upgrades/homestead.md) </span></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.667]</span>  <span class="at">-</span> Tangerine Whistle <span class="er">(</span><span class="ex">EIP</span> 150<span class="kw">)</span><span class="bu">:</span> <span class="co">#0        (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet- upgrades/tangerine-whistle.md) </span></span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.667]</span>  <span class="at">-</span> Spurious Dragon/1 <span class="er">(</span><span class="ex">EIP</span> 155<span class="kw">)</span><span class="bu">:</span> <span class="co">#0        (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet- upgrades/spurious-dragon.md) </span></span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.667]</span>  <span class="at">-</span> Spurious Dragon/2 <span class="er">(</span><span class="ex">EIP</span> 158<span class="kw">)</span><span class="bu">:</span> <span class="co">#0        (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet- upgrades/spurious-dragon.md) </span></span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.667]</span>  <span class="at">-</span> Byzantium:                   <span class="co">#0        (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet- upgrades/byzantium.md) </span></span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.667]</span>  <span class="at">-</span> Constantinople:              <span class="co">#0        (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet- upgrades/constantinople.md) </span></span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.667]</span>  <span class="at">-</span> Petersburg:                  <span class="co">#0        (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet- upgrades/petersburg.md) </span></span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.667]</span>  <span class="at">-</span> Istanbul:                    <span class="co">#0        (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet- upgrades/istanbul.md) </span></span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.667]</span>  <span class="at">-</span> Muir Glacier:                <span class="co">#0        (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet- upgrades/muir-glacier.md) </span></span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.667]</span>  <span class="at">-</span> Berlin:                      <span class="co">#0        (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet- upgrades/berlin.md) </span></span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.667]</span>  <span class="at">-</span> London:                      <span class="co">#0        (https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet- upgrades/london.md) </span></span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.667]</span>  </span>
<span id="cb11-32"><a href="#cb11-32" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.667]</span> Merge configured: </span>
<span id="cb11-33"><a href="#cb11-33" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.667]</span>  <span class="at">-</span> Hard-fork specification:    https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet- upgrades/paris.md </span>
<span id="cb11-34"><a href="#cb11-34" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.667]</span>  <span class="at">-</span> Network known to be merged: true </span>
<span id="cb11-35"><a href="#cb11-35" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.667]</span>  <span class="at">-</span> Total terminal difficulty:  17000000000000000 </span>
<span id="cb11-36"><a href="#cb11-36" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.667]</span>  <span class="at">-</span> Merge netsplit block:       <span class="co">#1735371  </span></span>
<span id="cb11-37"><a href="#cb11-37" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.667]</span>  </span>
<span id="cb11-38"><a href="#cb11-38" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.667]</span> Post-Merge hard forks <span class="er">(</span><span class="ex">timestamp</span> based<span class="kw">)</span><span class="bu">:</span> </span>
<span id="cb11-39"><a href="#cb11-39" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.667]</span>  <span class="at">-</span> Shanghai:                    @1677557088 <span class="er">(</span><span class="ex">https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-</span> upgrades/shanghai.md<span class="kw">)</span> </span>
<span id="cb11-40"><a href="#cb11-40" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.667]</span>  </span>
<span id="cb11-41"><a href="#cb11-41" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.667]</span> <span class="at">------------------------------------------------------------------------------------</span></span>
<span id="cb11-42"><a href="#cb11-42" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.667]</span>  </span>
<span id="cb11-43"><a href="#cb11-43" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.668]</span> Loaded most recent local block           number=0 hash=25a5cc..3e6dd9 td=131,072 age=1y6mo2w</span>
<span id="cb11-44"><a href="#cb11-44" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.668]</span> Loaded local transaction journal         transactions=0 dropped=0</span>
<span id="cb11-45"><a href="#cb11-45" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.668]</span> Regenerated local transaction journal    transactions=0 accounts=0</span>
<span id="cb11-46"><a href="#cb11-46" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.668]</span> Chain post-merge, sync via beacon client </span>
<span id="cb11-47"><a href="#cb11-47" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.669]</span> Gasprice oracle is ignoring threshold set threshold=2</span>
<span id="cb11-48"><a href="#cb11-48" aria-hidden="true" tabindex="-1"></a><span class="ex">WARN</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.669]</span> Engine API enabled                       protocol=eth</span>
<span id="cb11-49"><a href="#cb11-49" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.670]</span> Starting peer-to-peer node               instance=Geth/v1.11.5-stable-a38f4108/linux-amd64/go1.20.2</span>
<span id="cb11-50"><a href="#cb11-50" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.681]</span> New local node record                    seq=1,681,600,532,512 id=05b2a1f369961544 ip=127.0.0.1 udp=30303 tcp=30303</span>
<span id="cb11-51"><a href="#cb11-51" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.682]</span> Started P2P networking                   self=enode://69520d55cffdc600a5a46f15c8255ad6831dbe9cb11f73b6aef0847a5e048b99043950dae de9c4a374a37c7b93e57dc1b1d936f9946e1a98cde26b3e1e53f58c@127.0.0.1:30303</span>
<span id="cb11-52"><a href="#cb11-52" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.682]</span> IPC endpoint opened                      url=/home/rogerio/.ethereum/sepolia/geth.ipc</span>
<span id="cb11-53"><a href="#cb11-53" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.683]</span> Loaded JWT secret file                   path=/home/rogerio/.ethereum/sepolia/geth/jwtsecret crc32=0xa99ff4fd</span>
<span id="cb11-54"><a href="#cb11-54" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.683]</span> HTTP server started                      endpoint=127.0.0.1:8559 auth=false prefix= cors= vhosts=localhost</span>
<span id="cb11-55"><a href="#cb11-55" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.686]</span> WebSocket enabled                        url=ws://127.0.0.1:8551</span>
<span id="cb11-56"><a href="#cb11-56" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.686]</span> HTTP server started                      endpoint=127.0.0.1:8551 auth=true  prefix= cors=localhost vhosts=localhost</span>
<span id="cb11-57"><a href="#cb11-57" aria-hidden="true" tabindex="-1"></a><span class="ex">WARN</span> [04-16<span class="kw">|</span><span class="ex">21:27:55.489]</span> System clock seems off by <span class="at">-25.06956443s,</span> which can prevent network connectivity </span>
<span id="cb11-58"><a href="#cb11-58" aria-hidden="true" tabindex="-1"></a><span class="ex">WARN</span> [04-16<span class="kw">|</span><span class="ex">21:27:55.490]</span> Please enable network time synchronisation in system settings. </span>
<span id="cb11-59"><a href="#cb11-59" aria-hidden="true" tabindex="-1"></a><span class="ex">WARN</span> [04-16<span class="kw">|</span><span class="ex">21:28:20.672]</span> Post-merge network, but no beacon client seen. Please launch one to follow the chain! </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Note que está sendo gerada uma mensagem de aviso:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="ex">WARN</span> [04-16<span class="kw">|</span><span class="ex">21:28:20.672]</span> Post-merge network, but no beacon client seen. Please launch one to follow the chain!</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Pesquisando na Internet por <em>“Post-merge network, but no beacon client seen. Please launch one to follow the chain!”</em>, encontramos essa solução: <a href="https://github.com/ethereum/go-ethereum/issues/25791#issuecomment-1249553882">Github:go-ethereum, issue-25791</a>.</p>
<p>A documentação do <em>Ethereum</em> sobre <a href="https://geth.ethereum.org/docs/getting-started/consensus-clients"><em>Consensus Clients</em></a>, mostra que <code>geth</code> deve ser iniciado, com conexão <code>RPC</code> autenticada usando um arquivo <code>jwtsecret</code>. Por padrão esse arquivo está em <code>~/.ethereum/geth/jwtsecret</code>. Para as redes de teste o caminho terá o diretório da respectiva rede, como por exemplo <code>~/.ethereum/sepolia/geth/jwtsecret</code> para a rede <code>Sepolia</code>.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[rogerio@ryzen-nitro</span> execution]$ geth <span class="at">--sepolia</span> <span class="at">--syncmode</span> full <span class="at">--http</span> <span class="at">--http.addr</span> 127.0.0.1 <span class="at">--http.port</span> 8559 <span class="at">--http.api</span> <span class="st">"eth,net,web3,personal,engine,admin"</span> <span class="at">--keystore</span> ~/.ethereum/sepolia/keystore <span class="at">--authrpc.addr</span> localhost <span class="at">--authrpc.port</span> 8551 <span class="at">--authrpc.vhosts</span> localhost <span class="at">--authrpc.jwtsecret</span> ~/.ethereum/sepolia/geth/jwtsecret</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:27:45.640]</span> Starting Geth on Sepolia testnet... </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Note que estou executando na rede de testes <code>--sepolia</code>, opção na minha versão do <code>geth</code> é diferente do livro. No livro ele diz para usar o parâmetro <code>--testnet</code> que por padrão usa a rede de testes <code>Ropsten</code>, indicando <code>--testnet sepolia</code>. Na minha instalação não suporta mais o parâmetro <code>--testnet</code>, tem o <code>--mainnet</code> e cada rede de teste disponível tem o seu parâmetro correspondente, como <code>--sepolia</code>.</li>
</ul>
</section>
<section id="criando-contas-na-rede" class="level2" data-number="5.5">
<h2 data-number="5.5" class="anchored" data-anchor-id="criando-contas-na-rede"><span class="header-section-number">5.5</span> Criando Contas na Rede</h2>
<p>O comando <code>geth account new</code> cria uma nova conta na rede principal. Indicaremos que a conta é para ser criada na rede de teste <code>--sepolia</code>.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[rogerio@ryzen-nitro</span> execution]$ geth <span class="at">--sepolia</span> account new</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:50:49.343]</span> Maximum peer count                       ETH=50 LES=0 total=50</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:50:49.344]</span> Smartcard socket not found, disabling    err=<span class="st">"stat /run/pcscd/pcscd.comm: no such file or directory"</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="ex">Your</span> new account is locked with a password. Please give a password. Do not forget this password.</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="ex">Password:</span> </span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="ex">Repeat</span> password: </span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="ex">Your</span> new key was generated</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a><span class="ex">Public</span> address of the key:   0xa9e98368B44b371ceC7d205F9fE2b074b6134C95</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a><span class="ex">Path</span> of the secret key file: /home/rogerio/.ethereum/sepolia/keystore/UTC--2023-04-17T00-51-24.036052785Z--a9e9836 8b44b371cec7d205f9fe2b074b6134c95</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span> You can share your public address with anyone. Others need it to interact with you.</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span> You must NEVER share the secret key with anyone! The key controls access to your funds!</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span> You must BACKUP your key file! Without the key, it<span class="st">'s impossible to access account funds!</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a><span class="st">- You must REMEMBER your password! Without the password, it'</span>s impossible to decrypt the key!</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>A conta com a chave pública <code>0xa9e98368B44b371ceC7d205F9fE2b074b6134C95</code> foi criada. Iremos criar uma segunda conta.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[rogerio@ryzen-nitro</span> execution]$ geth <span class="at">--sepolia</span> account new</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:52:58.948]</span> Maximum peer count                       ETH=50 LES=0 total=50</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:52:58.948]</span> Smartcard socket not found, disabling    err=<span class="st">"stat /run/pcscd/pcscd.comm: no such file or directory"</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="ex">Your</span> new account is locked with a password. Please give a password. Do not forget this password.</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="ex">Password:</span> </span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="ex">Repeat</span> password: </span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="ex">Your</span> new key was generated</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="ex">Public</span> address of the key:   0xc061b852A26BEdeC5Bd457b88c031c46a622f4ab</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a><span class="ex">Path</span> of the secret key file: /home/rogerio/.ethereum/sepolia/keystore/UTC--2023-04-17T00-53-06.379873395Z--c061b85 2a26bedec5bd457b88c031c46a622f4ab</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span> You can share your public address with anyone. Others need it to interact with you.</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span> You must NEVER share the secret key with anyone! The key controls access to your funds!</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span> You must BACKUP your key file! Without the key, it<span class="st">'s impossible to access account funds!</span></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a><span class="st">- You must REMEMBER your password! Without the password, it'</span>s impossible to decrypt the key!</span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a><span class="ex">[rogerio@ryzen-nitro</span> execution]$ </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>É para termos as duas contas <code>0xa9e98368B44b371ceC7d205F9fE2b074b6134C95</code> e <code>0xc061b852A26BEdeC5Bd457b88c031c46a622f4ab</code> criadas com seus arquivos em <code>.ethereum/sepolia/keystore/</code>, com o prefixo <code>UTC--2023-04-17T00-53-06.379873395Z--*</code>.</p>
</section>
<section id="listando-as-contas" class="level2" data-number="5.6">
<h2 data-number="5.6" class="anchored" data-anchor-id="listando-as-contas"><span class="header-section-number">5.6</span> Listando as Contas</h2>
<p>As contas existentes ou que foram criadas podem ser listadas com o comando <code>geth account list</code>. Utilizaremos novamente o parâmetro que indica a rede de teste <code>--sepolia</code>.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[rogerio@ryzen-nitro</span> execution]$ geth <span class="at">--sepolia</span> account list</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:56:11.129]</span> Maximum peer count                       ETH=50 LES=0 total=50</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:56:11.130]</span> Smartcard socket not found, disabling    err=<span class="st">"stat /run/pcscd/pcscd.comm: no such file or directory"</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-16<span class="kw">|</span><span class="ex">21:56:11.130]</span> Set global gas cap                       cap=50,000,000</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="ex">Account</span> <span class="co">#0: {a9e98368b44b371cec7d205f9fe2b074b6134c95} keystore:///home/rogerio/.ethereum/sepolia/keystore/UTC--2023-04-17T00-51-24.03605278 5Z--a9e98368b44b371cec7d205f9fe2b074b6134c95</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="ex">Account</span> <span class="co">#1: {c061b852a26bedec5bd457b88c031c46a622f4ab} keystore:///home/rogerio/.ethereum/sepolia/keystore/UTC--2023-04-17T00-53-06.37987339 5Z--c061b85 2a26bedec5bd457b88c031c46a622f4ab</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="ex">[rogerio@ryzen-nitro</span> execution]$</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>A documentação do <code>geth</code>, bem como comandos e parâmetros podem ser acessados em <a href="https://geth.ethereum.org/docs" class="uri">https://geth.ethereum.org/docs</a>.</p>
<p>Executando com opção de responder a comandos via <code>RPC</code>. A documentação desta parte está disponível em <a href="https://geth.ethereum.org/docs/rpc/server" class="uri">https://geth.ethereum.org/docs/rpc/server</a>.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[rogerio@ryzen-nitro</span> execution]$ geth <span class="at">--sepolia</span> <span class="at">--syncmode</span> full <span class="at">--http</span> <span class="at">--http.addr</span> 127.0.0.1 <span class="at">--http.port</span> 8559 <span class="at">--http.api</span> <span class="st">"eth,net,web3,personal,engine,admin"</span> <span class="at">--keystore</span> ~/.ethereum/sepolia/keystore <span class="at">--authrpc.addr</span> localhost <span class="at">--authrpc.port</span> 8551 <span class="at">--authrpc.vhosts</span> localhost <span class="at">--authrpc.jwtsecret</span> ~/.ethereum/sepolia/geth/jwtsecret <span class="at">--nodiscover</span> <span class="at">--maxpeers</span> 15</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="clientes-de-consenso" class="level2" data-number="5.7">
<h2 data-number="5.7" class="anchored" data-anchor-id="clientes-de-consenso"><span class="header-section-number">5.7</span> Clientes de Consenso</h2>
<p>Para terminar a configuração é necessário instalar algum cliente de consenso. Existem atualmente cinco clientes de consenso que podem ser executado em conjunto com o <code>Geth</code>:</p>
<ul>
<li><p><a href="https://lighthouse-book.sigmaprime.io/">Lighthouse</a>: escrito em <code>Rust</code>.</p></li>
<li><p><a href="https://nimbus.team/">Nimbus</a>: escrito em <code>Nim</code>.</p></li>
<li><p><a href="https://docs.prylabs.network/docs/install/install-with-script">Prysm</a>: escrito em <code>Go</code>.</p></li>
<li><p><a href="https://pegasys.tech/teku">Teku</a>: escrito em <code>Java</code>.</p></li>
<li><p><a href="https://github.com/ChainSafe/lodestar">Lodestar</a>: escrito em <code>Typescript</code>.</p></li>
</ul>
<p>Por ser escrito na linguagem <code>Go</code>, assim como <code>geth</code>, testaremos o <code>Prysm</code>. O <code>Prysm</code> é uma implementação da especificação do consenso <code>proof-of-stake</code> do <code>Ethereum</code>.</p>
<p>A configuração do <code>Prism</code> pode ser feita conforme descrito no material <a href="https://docs.prylabs.network/docs/install/install-with-script" class="uri">https://docs.prylabs.network/docs/install/install-with-script</a>.</p>
<p>O material ensina a usar o <code>Prysm</code> para executar um nó <em>Ethereum</em>, portanto resolver o problema apresentado após a atualização do <code>Merge</code> e opcionalmente como um validador <em>(validator)</em>.</p>
</section>
<section id="instalando-o-cliente-de-consenso-prysmlinkprysm" class="level2" data-number="5.8">
<h2 data-number="5.8" class="anchored" data-anchor-id="instalando-o-cliente-de-consenso-prysmlinkprysm"><span class="header-section-number">5.8</span> Instalando o cliente de consenso <code>Prysm</code><a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></h2>
<p>Para a instalação do <code>Prysm</code>, crie no diretório <code>~/.ethereum/&lt;rede&gt;</code>, duas subpastas: <code>consensus</code> e <code>execution</code>. Acesse o diretório <code>consensus</code> e execute o comando para baixar o cliente <code>Prysm</code> e transformá-lo em executável:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> mkdir prysm <span class="kw">&amp;&amp;</span> <span class="bu">cd</span> prysm</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> curl https://raw.githubusercontent.com/prysmaticlabs/prysm/master/prysm.sh <span class="at">--output</span> prysm.sh <span class="kw">&amp;&amp;</span> <span class="fu">chmod</span> +x prysm.sh</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside id="footnotes" class="footnotes footnotes-end-of-section" role="doc-footnote">
<hr>
<ol>
<li id="fn1"><p><em>Step 2: Install Prysm:</em> <a href="https://docs.prylabs.network/docs/install/install-with-script#step-2-install-prysm">https://docs.prylabs.network/docs/install/install-with-script#step-2-install-prysm</a><a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</aside>
</section>
<section id="gerando-um-arquivo-jwt-secret" class="level2" data-number="5.9">
<h2 data-number="5.9" class="anchored" data-anchor-id="gerando-um-arquivo-jwt-secret"><span class="header-section-number">5.9</span> Gerando um arquivo <em>JWT Secret</em></h2>
<ul>
<li><p>A conexão HTTP entre seu nó beacon e seu nó de execução precisa ser autenticada usando um <em>token</em> <code>JWT</code>. Existem diversas formas de gerar este <em>token</em>:</p>
<ul>
<li>Usando um gerado <em>on line</em> como <a href="https://seanwasere.com/generate-random-hex/">este</a>. Copie e cole o valor gerado dentro do arquivo <code>jwt.hex</code>.</li>
<li>Usando <code>OpenSSL</code> para criar o <em>token</em> via comando: <code>openssl rand -hex 32 | tr -d "\n" &gt; "jwt.hex"</code>.</li>
<li>Usar o que foi gerado pelo cliente de execução <code>geth</code>: <code>~/.ethereum/sepolia/geth/jwtsecret</code>.</li>
<li>Usar o próprio <code>Prysm</code> para gerar o <code>jwt.hex</code>:</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb19"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co">#\# Optional. This command is necessary only if you've previously configured USE\_PRYSM\_VERSION</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="va">USE_PRYSM_VERSION</span><span class="op">=</span>v4.0.0</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="co">#\# Required.</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="ex">./prysm.sh</span> beacon-chain generate-auth-secret</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Nesta opção o <code>Prysm</code> irá mostrar o caminho onde o arquivo <code>jwt.hex</code> foi gerado.</p>
</section>
<section id="executando-um-cliente-de-execuçãolinkprysmexec" class="level2" data-number="5.10">
<h2 data-number="5.10" class="anchored" data-anchor-id="executando-um-cliente-de-execuçãolinkprysmexec"><span class="header-section-number">5.10</span> Executando um Cliente de Execução<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></h2>
<p>Nesta etapa, executaremos o cliente de camada de execução (<code>geth</code>), se ainda não instalou veja os passos de instalação na <a href="#sec-instalando:geth" class="quarto-xref">Seção&nbsp;<span>5.1</span></a> e o nó <em>beacon</em> do <code>Prysm</code> que se conectará ao cliente em execução.</p>
<p>Note que iremos adicionar o parâmetro ao comando de execução com o arquivo com o <em>token</em> <code>--authrpc.jwtsecret ~/.ethereum/sepolia/geth/jwtsecret</code>.</p>
<pre><code>
O comando de execução do `Geth` atualizado:

```bash
[rogerio@ryzen-nitro execution]$ geth --sepolia --syncmode full --http --http.addr 127.0.0.1 --http.port 8559 --http.api "eth,net,web3,personal,engine,admin" --keystore ~/.ethereum/sepolia/keystore --authrpc.addr localhost --authrpc.port 8551 --authrpc.vhosts localhost --authrpc.jwtsecret ~/.ethereum/sepolia/geth/jwtsecret --nodiscover --maxpeers 15</code></pre>
<p>Veja as <a href="https://geth.ethereum.org/docs/interface/command-line-options">Opções de linha de comando do Geth</a> para a definição de parâmetros.</p>
<p>Dependendo das opções a Sincronização pode levar um longo tempo, de horas até dias. Enquanto sincroniza, pode ir fazendo o próximo passo.</p>
<p>[alertblock]{Parabéns}</p>
<p>Você está agora executando um <strong>nó de execução</strong> na camada de execução da <em>Ethereum</em>.</p>
<p>[/alertblock]</p>
<aside id="footnotes-2" class="footnotes footnotes-end-of-section" role="doc-footnote">
<hr>
<ol start="2">
<li id="fn2"><p><em>Step 3: Run an execution client:</em> <a href="https://docs.prylabs.network/docs/install/install-with-script#step-3-run-an-execution-client">https://docs.prylabs.network/docs/install/install-with-script#step-3-run-an-execution-client</a><a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</aside>
</section>
<section id="executando-um-nó-beacon-usando-prysmlinknobeacon" class="level2" data-number="5.11">
<h2 data-number="5.11" class="anchored" data-anchor-id="executando-um-nó-beacon-usando-prysmlinknobeacon"><span class="header-section-number">5.11</span> Executando um nó beacon usando Prysm<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a></h2>
<p>Altere o comando para iniciar um nó <em>beacon</em> que conecta no seu nó de execução local, necessário colocar o <em>hash</em> de uma das contas criadas. Por padrão, aqui estou utilizando a primeira conta criada, meu caso a <code>0xa9e98368b44b371cec7d205f9fe2b074b6134c95</code>.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="ex">./prysm.sh</span> beacon-chain <span class="at">--execution-endpoint</span><span class="op">=</span>http://localhost:8551 <span class="at">--jwt-secret</span><span class="op">=</span>~/.ethereum/geth/jwtsecret <span class="at">--suggested-fee-recipient</span><span class="op">=&lt;&lt;hash</span> da conta principal<span class="op">&gt;&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Alterei o comando padrão para o conter o <em>hash</em> de uma das minhas contas e para o tipo de rede de teste <code>--sepolia</code>. A rede <code>Sepolia</code> precisa de um estado inicial (<em>genesis state</em>) de onde começar a sincronização. O arquivo pode ser baixado de <a href="https://github.com/eth-clients/merge-testnets/blob/main/sepolia/genesis.ssz" class="uri">https://github.com/eth-clients/merge-testnets/blob/main/sepolia/genesis.ssz</a> e deve ser colocado no diretório <code>sepolia/consensus/prysm</code>.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[rogerio@ryzen-nitro</span> prysm]$ wget https://github.com/eth-clients/merge-testnets/raw/main/sepolia/genesis.ssz <span class="at">-O</span> genesis.ssz</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Então o comando pode ser utilizado para iniciar um nó <em>beacon</em> que conecta seu nó de execução local.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[rogerio@ryzen-nitro</span> prysm]$ ./prysm.sh beacon-chain <span class="at">--execution-endpoint</span><span class="op">=</span>http://localhost:8551 <span class="at">--sepolia</span> <span class="at">--jwt-secret</span><span class="op">=</span>~/.ethereum/sepolia/geth/jwtsecret <span class="at">--genesis-state</span><span class="op">=</span>genesis.ssz <span class="at">--suggested-fee-recipient</span><span class="op">=</span>0xa9e98368b44b371cec7d205f9fe2b074b6134c95</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb24"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[rogerio@ryzen-nitro</span> prysm]$ ./prysm.sh beacon-chain <span class="at">--execution-endpoint</span><span class="op">=</span>http://localhost:8551 <span class="at">--sepolia</span> <span class="at">--jwt-secret</span><span class="op">=</span>~/.ethereum/sepolia/geth/jwtsecret <span class="at">--genesis-state</span><span class="op">=</span>genesis.ssz <span class="at">--suggested-fee-recipient</span><span class="op">=</span>0xa9e98368b44b371cec7d205f9fe2b074b6134c95 <span class="at">--checkpoint-sync-url</span><span class="op">=</span>https://sepolia.beaconstate.info <span class="at">--genesis-beacon-api-url</span><span class="op">=</span>https://sepolia.beaconstate.info</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>No terminal onde o cliente de execução apareceu um novo <code>warning</code>: <code>"WARN [04-19|13:07:28.462] Served miner_start reqid=14 duration="233.485us" err="etherbase missing: etherbase must be explicitly specified"</code>.</p>
<!--
Goerli:

[rogerio@ryzen-nitro execution]$ geth --goerli --syncmode full --http --http.addr 127.0.0.1 --http.port 8559 --http.api "eth,net,web3,personal,engine,admin" --keystore ~/.ethereum/goerli/keystore --authrpc.addr localhost --authrpc.port 8551 --authrpc.vhosts localhost --authrpc.jwtsecret ~/.ethereum/goerli/geth/jwtsecret 

Prysm: Goerli usando o --prater para Validação. É necessário baixar o arquivo `--genesis-state=genesis.ssz` para evitar o erro de que o bloco genesis não existe no banco de dados.

./prysm.sh beacon-chain --execution-endpoint=http://localhost:8551 --prater --jwt-secret=~/.ethereum/goerli/geth/jwtsecret --genesis-state=genesis.ssz --suggested-fee-recipient=0xa9e98368b44b371cec7d205f9fe2b074b6134c95

<https://docs.prylabs.network/docs/install/install-with-script#step-3-run-an-execution-client>

-->
<!--

* As contas podem ser listadas com o comando:

```bash
$ geth account list
```

* If you're running a validator, specifying a `suggested-fee-recipient` wallet address will allow you to earn what were previously miner transaction fee tips. See [How to configure Fee Recipient](https://docs.prylabs.network/docs/execution-node/fee-recipient) for more information about this feature.

* Your beacon node will now begin syncing. This usually takes a couple days,  but it can take longer depending on your network and hardware specs.

* Congratulations - you’re now running a **full, Merge-ready Ethereum node**. To check the status of your node, visit [Check node and validator status](https://docs.prylabs.network/docs/monitoring/checking-status).


VER: https://docs.prylabs.network/docs/install/install-with-script#step-3-run-an-execution-client

## Step 5: Executando um validator usando Prysm[*](https://docs.prylabs.network/docs/install/install-with-script#step-5-run-a-validator-using-prysm)

* Next, we'll create your validator keys with the [Ethereum Staking Deposit CLI](https://github.com/ethereum/staking-deposit-cli).

* Download the latest stable version of the deposit CLI from the [Staking Deposit CLI Releases page](https://github.com/ethereum/staking-deposit-cli/releases).

* Run the following command to create your mnemonic phrase and keys:

```bash
./deposit new-mnemonic --num_validators=1 --mnemonic_language=english
```
<!--
Para goerli-prater:
```bash
./deposit new-mnemonic --num_validators=1 --mnemonic_language=english --chain=prater
```



* Follow the CLI prompts to generate your keys. This will give you the following artifacts:

1. A **new mnemonic seed phrase**. This is **highly sensitive** and should never be exposed to other people or networked hardware.

2. A 

   ```
   validator_keys
   ```

  folder. This folder will contain two files:

   1. `deposit_data-*.json` - contains deposit data that you’ll later upload to the Ethereum launchpad.
   2. `keystore-m_*.json` - contains your public key and encrypted private key.

Copy the `validator_keys` folder to your primary machine's `consensus` folder. Run the following command to import your keystores, replacing `<YOUR_FOLDER_PATH>` with the full path to your `consensus/validator_keys` folder:


```bash
./prysm.sh validator accounts import --keys-dir=<YOUR_FOLDER_PATH>
```

```bash
./prysm.sh validator accounts import --keys-dir=<YOUR_FOLDER_PATH>
```

* You’ll be prompted to specify a wallet directory twice. Provide the path to your `consensus` folder for both prompts. You should see `Successfully imported 1 accounts, view all of them by running accounts list` when your account has been successfully imported into Prysm.

* Next, go to the [Mainnet Launchpad’s deposit data upload page](https://launchpad.ethereum.org/en/upload-deposit-data) and upload your `deposit_data-*.json` file. You’ll be prompted to connect your wallet.

* You can then deposit 32 ETH into the Mainnet deposit contract via the Launchpad page. Exercise extreme caution throughout 

## Congratulations! 

* You’re now running a **full Ethereum node** and a **validator**.

* It can a long time (from days to months) for your validator to become  fully activated. To learn more about the validator activation process,  see [Deposit Process](https://kb.beaconcha.in/ethereum-2.0-depositing). See [Check node and validator status](https://docs.prylabs.network/docs/monitoring/checking-status) for detailed status monitoring guidance.

* You can leave your **execution client**, **beacon node**, and **validator client** terminal windows open and running. Once your validator is activated, it will automatically begin proposing and validating blocks.

-->
<aside id="footnotes-3" class="footnotes footnotes-end-of-section" role="doc-footnote">
<hr>
<ol start="3">
<li id="fn3"><p><em>Step 4: Run a beacon node using Prysm:</em> <a href="https://docs.prylabs.network/docs/install/install-with-script#step-4-run-a-beacon-node-using-prysm">https://docs.prylabs.network/docs/install/install-with-script#step-4-run-a-beacon-node-using-prysm</a><a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</aside>
</section>
<section id="executando-o-console-javascript" class="level2" data-number="5.12">
<h2 data-number="5.12" class="anchored" data-anchor-id="executando-o-console-javascript"><span class="header-section-number">5.12</span> Executando o Console JavaScript</h2>
<p>O console <code>javascript</code> pode também ser conectado ao nó <code>Geth</code> usando <code>IPC</code>. Quando o <code>Geth</code> é iniciado, um arquivo <code>geth.ipc</code> é criado automaticamente e salvo no diretório de dados. Este arquivo ou um caminho customizado para um arquivo IPC pode ser passado para o <code>Geth</code> usando o parâmetro <code>attach</code>:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[rogerio@ryzen-nitro</span> ~]$ geth attach /home/rogerio/.ethereum/sepolia/geth.ipc </span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Welcome</span> to the Geth JavaScript console!</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="ex">instance:</span> Geth/v1.11.5-stable-a38f4108/linux-amd64/go1.20.2</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="ex">at</span> block: 0 <span class="er">(</span><span class="ex">Sun</span> Oct 03 2021 10:24:41 GMT-0300 <span class="er">(</span><span class="ex">-03</span><span class="kw">))</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a> <span class="ex">datadir:</span> /home/rogerio/.ethereum/sepolia</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a> <span class="ex">modules:</span> admin:1.0 debug:1.0 engine:1.0 eth:1.0 ethash:1.0 miner:1.0 net:1.0 rpc:1.0 txpool:1.0 web3:1.0</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a><span class="ex">To</span> exit, press ctrl-d or type exit</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="verificação-do-funcionamento-da-rede" class="level2" data-number="5.13">
<h2 data-number="5.13" class="anchored" data-anchor-id="verificação-do-funcionamento-da-rede"><span class="header-section-number">5.13</span> Verificação do Funcionamento da Rede</h2>
<p>Para verificar o funcionamento da rede, utilize o comando <code>net.listing</code>:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[rogerio@ryzen-nitro</span> ~]$ geth attach /home/rogerio/.ethereum/sepolia/geth.ipc </span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Welcome</span> to the Geth JavaScript console!</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="ex">instance:</span> Geth/v1.11.5-stable-a38f4108/linux-amd64/go1.20.2</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="ex">at</span> block: 0 <span class="er">(</span><span class="ex">Sun</span> Oct 03 2021 10:24:41 GMT-0300 <span class="er">(</span><span class="ex">-03</span><span class="kw">))</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a> <span class="ex">datadir:</span> /home/rogerio/.ethereum/sepolia</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a> <span class="ex">modules:</span> admin:1.0 debug:1.0 engine:1.0 eth:1.0 ethash:1.0 miner:1.0 net:1.0 rpc:1.0 txpool:1.0 web3:1.0</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a><span class="ex">To</span> exit, press ctrl-d or type exit</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> net.listening</span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a><span class="fu">true</span></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>A mesma verificação pode ser feita via API <code>JSON</code> <code>RPC</code> no terminal do sistema:</p>
<!-- 
```bash
[rag@nitro-ryzen ~]$ curl -X POST --insecure -H "Content-Type: application/json" --data '{"jsonrpc":"2.0", "method":"net_listening","params":[], "id":64}' http://localhost:8559
{"jsonrpc":"2.0","id":64,"result":true}

```
-->
<div class="sourceCode" id="cb27"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[rogerio@ryzen-nitro</span> ~]$ curl <span class="at">-X</span> POST <span class="at">--insecure</span> <span class="at">--header</span> <span class="st">"Content-Type: application/json"</span> <span class="at">--data</span> <span class="st">'{"jsonrpc":"2.0", "method":"net_listening","params":[], "id":64}'</span> <span class="at">--location</span> http://localhost:8559</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="dt">{</span><span class="st">"jsonrpc"</span><span class="dt">:</span><span class="st">"2.0"</span><span class="op">,</span><span class="st">"id"</span><span class="dt">:64</span><span class="op">,</span><span class="st">"result"</span><span class="dt">:true}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="listando-as-contas-pelo-console" class="level2" data-number="5.14">
<h2 data-number="5.14" class="anchored" data-anchor-id="listando-as-contas-pelo-console"><span class="header-section-number">5.14</span> Listando as Contas pelo Console</h2>
<!-- Para criar usuários: clef newaccount --keystore sepolia/keystore/ -->
<p>A lista de contas pode ser recuperada através dos comandos no console <code>eth.accounts</code> e por <code>RPC</code> <code>{"method": "eth_accounts", "params": []}</code>. Em versões anteriores do <code>geth</code> era possível utilizar <code>personal.listAccounts</code>, mas <code>personal</code> foi <a href="https://stackoverflow.com/questions/75681463/the-error-personal-is-not-defined-occurs-when-running-geth">depreciado</a>.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[rogerio@ryzen-nitro</span> ~]$ geth attach /home/rogerio/.ethereum/sepolia/geth.ipc </span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Welcome</span> to the Geth JavaScript console!</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="ex">instance:</span> Geth/v1.11.5-stable-a38f4108/linux-amd64/go1.20.2</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="ex">at</span> block: 0 <span class="er">(</span><span class="ex">Sun</span> Oct 03 2021 10:24:41 GMT-0300 <span class="er">(</span><span class="ex">-03</span><span class="kw">))</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a> <span class="ex">datadir:</span> /home/rogerio/.ethereum/sepolia</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a> <span class="ex">modules:</span> admin:1.0 debug:1.0 engine:1.0 eth:1.0 ethash:1.0 miner:1.0 net:1.0 rpc:1.0 txpool:1.0 web3:1.0</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a><span class="ex">To</span> exit, press ctrl-d or type exit</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> net.listening</span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a><span class="fu">true</span></span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> personal.listAccounts</span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a><span class="ex">ReferenceError:</span> personal is not defined</span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>        <span class="ex">at</span> <span class="op">&lt;</span>eval<span class="op">&gt;</span>:1:1<span class="er">(</span><span class="ex">0</span><span class="kw">)</span></span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.accounts</span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a><span class="ex">[</span><span class="st">"0xa9e98368b44b371cec7d205f9fe2b074b6134c95"</span><span class="ex">,</span> <span class="st">"0xc061b852a26bedec5bd457b88c031c46a622f4ab"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>O mesmo resultado pode ser obtido via comando <code>curl</code> no terminal para listar as contas usando <code>RPC</code>:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[rogerio@ryzen-nitro</span> execution]$ curl <span class="at">-X</span> POST <span class="at">--insecure</span> <span class="at">--header</span> <span class="st">"Content-Type: application/json"</span> <span class="at">--data</span> <span class="st">'{"jsonrpc":"2.0","method":"eth_accounts","params":[], "id":64}'</span> <span class="at">--location</span> http://localhost:8559</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="ex">{</span><span class="st">"jsonrpc"</span><span class="ex">:</span><span class="st">"2.0"</span><span class="ex">,</span><span class="st">"id"</span><span class="ex">:64,</span><span class="st">"result"</span><span class="ex">:[</span><span class="st">"0xa9e98368b44b371cec7d205f9fe2b074b6134c95"</span><span class="ex">,</span> <span class="st">"0xc061b852a26bedec5bd457b88c031c46a622f4ab"</span>]}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Outros comandos podem ser executados da mesma maneira via Console JavaScript ou invocação <code>RPC</code> através do <code>curl</code>. Uma lista completa de comandos da API <code>RPC</code>estão disponíveis em <a href="https://ethereum.org/en/developers/docs/apis/json-rpc/">JSON-RPC API</a>.</p>
<p>Como por exemplo, recuperar a versão do cliente <code>geth</code>:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[rogerio@ryzen-nitro</span> execution]$ curl <span class="at">-X</span> POST <span class="at">--insecure</span>  <span class="at">--header</span> <span class="st">"Content-Type: application/json"</span> <span class="at">--data</span> <span class="st">'{"jsonrpc":"2.0","method":"web3_clientVersion","params":[],"id":67}'</span> <span class="at">--location</span> http://localhost:8559</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="dt">{</span><span class="st">"jsonrpc"</span><span class="dt">:</span><span class="st">"2.0"</span><span class="op">,</span><span class="st">"id"</span><span class="dt">:67</span><span class="op">,</span><span class="st">"result"</span><span class="dt">:</span><span class="st">"Geth/v1.11.5-stable-a38f4108/linux-amd64/go1.20.2"</span><span class="dt">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Ou a versão da Rede:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[rogerio@ryzen-nitro</span> execution]$ curl <span class="at">-X</span> POST <span class="at">--header</span> <span class="st">"Content-Type: application/json"</span>  <span class="at">--data</span> <span class="st">'{"jsonrpc":"2.0","method":"net_version","params":[],"id":67}'</span> <span class="at">--location</span> http://localhost:8559</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="dt">{</span><span class="st">"jsonrpc"</span><span class="dt">:</span><span class="st">"2.0"</span><span class="op">,</span><span class="st">"id"</span><span class="dt">:67</span><span class="op">,</span><span class="st">"result"</span><span class="dt">:</span><span class="st">"11155111"</span><span class="dt">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>O valor <span class="math inline">\(11155111\)</span> em <code>result</code> indica que estamos executando sobre a rede <code>Sepolia</code>. Uma lista completa com os <code>IDs</code> das redes está disponível em <a href="https://chainlist.org" class="uri">https://chainlist.org</a>. Os mais comuns são <span class="math inline">\(1\)</span>: <em>Ethereum Mainnet</em>, <span class="math inline">\(2\)</span>: <em>Morden testnet</em> (depreciado), <span class="math inline">\(3\)</span>: <em>Ropsten testnet</em>, <span class="math inline">\(4\)</span>: <em>Rinkeby testnet</em>, <span class="math inline">\(5\)</span>: <em>Goerli testnet</em> (será <a href="https://ethereum.org/en/developers/docs/networks/#goerli">depreciada em 2023</a>).</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figuras/chainlist.png" class="img-fluid figure-img" style="width:75.0%"></p>
<figcaption>Lista de IDs <a href="https://chainlist.org">Fonte: chainlist</a></figcaption>
</figure>
</div>
<!--

## Solicitando valores para Faucets

```javascript

> eth.accounts
["0xa9e98368b44b371cec7d205f9fe2b074b6134c95", "0xbe6e6f1a8273286242efad565f63c2fb2ad08308"]

```

![](figuras/request-goerli-faucet-00.png)


![](figuras/request-goerli-faucet-01.png)


![](figuras/request-goerli-faucet-02.png)


![](figuras/request-goerli-faucet-03.png)

Verificar a transação: <https://testnet.starkscan.co/tx/0x7533e77fdf62e0f9b444d6df646e566242baacb5ff501df9846da531a0bd151>


```javascript
> eth.getBalance("0xc4d51e4424c6d1e67f61742c63f0f42c1c3b1fb3")

0
> 

```
-->
</section>
<section id="teste-de-transferência-de-valores-entre-carteiras" class="level2" data-number="5.15">
<h2 data-number="5.15" class="anchored" data-anchor-id="teste-de-transferência-de-valores-entre-carteiras"><span class="header-section-number">5.15</span> Teste de Transferência de Valores entre Carteiras</h2>
<p>Podemos testar uma transferência de valores. As duas formas de se conseguir valores é minerando ou solicitando valores para <em>Faucets</em> da rede, como por exemplo o <a href="https://faucet.sepolia.dev/" class="uri">https://faucet.sepolia.dev/</a>.</p>
<p>Os valores de cada conta/carteira pode ser verificado com o comando <code>eth.getBalance(hash)</code>, passando como parâmetro a cadeia <em>hash</em> de identificação da conta ou indicando na lista de contas <code>eth.getBalance(eth.accounts[0])</code>.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[rogerio@ryzen-nitro</span> ~]$ geth attach /home/rogerio/.ethereum/sepolia/geth.ipc </span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Welcome</span> to the Geth JavaScript console!</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="ex">instance:</span> Geth/v1.11.5-stable-a38f4108/linux-amd64/go1.20.2</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a><span class="ex">at</span> block: 0 <span class="er">(</span><span class="ex">Sun</span> Oct 03 2021 10:24:41 GMT-0300 <span class="er">(</span><span class="ex">-03</span><span class="kw">))</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a> <span class="ex">datadir:</span> /home/rogerio/.ethereum/sepolia</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a> <span class="ex">modules:</span> admin:1.0 debug:1.0 engine:1.0 eth:1.0 ethash:1.0 miner:1.0 net:1.0 rpc:1.0 txpool:1.0 web3:1.0</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a><span class="ex">To</span> exit, press ctrl-d or type exit</span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> net.listening</span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a><span class="fu">true</span></span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.accounts</span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a><span class="ex">[</span><span class="st">"0xa9e98368b44b371cec7d205f9fe2b074b6134c95"</span><span class="ex">,</span> <span class="st">"0xc061b852a26bedec5bd457b88c031c46a622f4ab"</span>]</span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.getBalance<span class="kw">(</span><span class="st">"0xa9e98368b44b371cec7d205f9fe2b074b6134c95"</span><span class="kw">)</span></span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a><span class="ex">0</span></span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.getBalance<span class="kw">(</span><span class="st">"0xc061b852a26bedec5bd457b88c031c46a622f4ab"</span><span class="kw">)</span></span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a><span class="ex">0</span></span>
<span id="cb32-19"><a href="#cb32-19" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.getBalance<span class="kw">(</span><span class="st">"0xa9e98368b44b371cec7d205f9fe2b074b6134c95"</span><span class="kw">)</span></span>
<span id="cb32-20"><a href="#cb32-20" aria-hidden="true" tabindex="-1"></a><span class="ex">0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Como os saldos estão zerados, vamos iniciar a mineração com o comando <code>miner.start()</code>.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> miner.start<span class="kw">()</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Error:</span> etherbase missing: etherbase must be explicitly specified</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>       <span class="ex">at</span> web3.js:6365:9<span class="er">(</span><span class="ex">39</span><span class="kw">)</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>       <span class="ex">at</span> send <span class="er">(</span><span class="ex">web3.js:5099:62</span><span class="er">(</span><span class="ex">29</span><span class="kw">))</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>       <span class="ex">at</span> <span class="op">&lt;</span>eval<span class="op">&gt;</span>:1:12<span class="er">(</span><span class="ex">2</span><span class="kw">)</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> web3.fromWei<span class="kw">(</span><span class="ex">eth.getBalance</span><span class="er">(</span><span class="st">"0xa9e98368b44b371cec7d205f9fe2b074b6134c95"</span><span class="kw">)</span><span class="ex">,</span> <span class="st">"ether"</span><span class="kw">)</span></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a><span class="ex">0</span></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> web3.fromWei<span class="kw">(</span><span class="ex">eth.getBalance</span><span class="er">(</span><span class="st">"0xc061b852a26bedec5bd457b88c031c46a622f4ab"</span><span class="kw">)</span><span class="ex">,</span> <span class="st">"ether"</span><span class="kw">)</span></span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a><span class="ex">0</span></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> web3.fromWei<span class="kw">(</span><span class="ex">eth.getBalance</span><span class="er">(</span><span class="ex">eth.coinbase</span><span class="kw">)</span><span class="ex">,</span> <span class="st">"ether"</span><span class="kw">)</span></span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a><span class="ex">Error:</span> etherbase must be explicitly specified</span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>       <span class="ex">at</span> web3.js:6365:9<span class="er">(</span><span class="ex">39</span><span class="kw">)</span></span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a>       <span class="ex">at</span> get <span class="er">(</span><span class="ex">web3.js:6265:66</span><span class="er">(</span><span class="ex">14</span><span class="kw">))</span></span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a>       <span class="ex">at</span> <span class="op">&lt;</span>eval<span class="op">&gt;</span>:1:33<span class="er">(</span><span class="ex">5</span><span class="kw">)</span></span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.coinbase</span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a><span class="ex">Error:</span> etherbase must be explicitly specified</span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a>       <span class="ex">at</span> web3.js:6365:9<span class="er">(</span><span class="ex">39</span><span class="kw">)</span></span>
<span id="cb33-20"><a href="#cb33-20" aria-hidden="true" tabindex="-1"></a>       <span class="ex">at</span> get <span class="er">(</span><span class="ex">web3.js:6265:66</span><span class="er">(</span><span class="ex">14</span><span class="kw">))</span></span>
<span id="cb33-21"><a href="#cb33-21" aria-hidden="true" tabindex="-1"></a>       <span class="ex">at</span> <span class="op">&lt;</span>eval<span class="op">&gt;</span>:1:5<span class="er">(</span><span class="ex">1</span><span class="kw">)</span></span>
<span id="cb33-22"><a href="#cb33-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-23"><a href="#cb33-23" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.coinbase.panic: <span class="ex">Error:</span> etherbase must be explicitly specified at web3.js:6365:9<span class="er">(</span><span class="ex">39</span><span class="kw">)</span></span>
<span id="cb33-24"><a href="#cb33-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-25"><a href="#cb33-25" aria-hidden="true" tabindex="-1"></a><span class="ex">goroutine</span> 82 <span class="pp">[</span><span class="ss">running</span><span class="pp">]</span>:</span>
<span id="cb33-26"><a href="#cb33-26" aria-hidden="true" tabindex="-1"></a><span class="ex">github.com/dop251/goja.</span><span class="er">(</span><span class="ex">*baseJsFuncObject</span><span class="kw">)</span><span class="ex">._call</span><span class="er">(</span><span class="ex">...</span><span class="kw">)</span></span>
<span id="cb33-27"><a href="#cb33-27" aria-hidden="true" tabindex="-1"></a>       <span class="ex">github.com/dop251/goja@v0.0.0-20230122112309-96b1610dd4f7/func.go:396</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>O erro <strong>“Error: etherbase must be explicitly specified”</strong> ocorre pois é necessário fornecer o <em>hash</em> da carteira também para a execução do cliente <code>geth</code>.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[rogerio@ryzen-nitro</span> execution]$ geth <span class="at">--sepolia</span> <span class="at">--syncmode</span> full <span class="at">--http</span> <span class="at">--http.addr</span> 127.0.0.1 <span class="at">--http.port</span> 8559 <span class="at">--http.api</span> <span class="st">"eth,net,web3,personal,engine,admin"</span> <span class="at">--keystore</span> ~/.ethereum/sepolia/keystore <span class="at">--authrpc.addr</span> localhost <span class="at">--authrpc.port</span> 8551 <span class="at">--authrpc.vhosts</span> localhost <span class="at">--authrpc.jwtsecret</span> ~/.ethereum/sepolia/geth/jwtsecret <span class="at">--nodiscover</span> <span class="at">--maxpeers</span> 15 <span class="at">--miner.etherbase</span><span class="op">=</span>0xa9e98368b44b371cec7d205f9fe2b074b6134c95</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Fornecendo a carteira como <code>--miner.etherbase=0xa9e98368b44b371cec7d205f9fe2b074b6134c95</code>, agora podemos iniciar a mineração.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> miner.start<span class="kw">()</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="ex">null</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> miner.stop<span class="kw">()</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="ex">null</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.getBalance<span class="kw">(</span><span class="st">"0xa9e98368b44b371cec7d205f9fe2b074b6134c95"</span><span class="kw">)</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a><span class="ex">5.004e+21</span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.getBalance<span class="kw">(</span><span class="st">"0xa9e98368b44b371cec7d205f9fe2b074b6134c95"</span><span class="kw">)</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a><span class="ex">5.004e+21</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.accounts</span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a><span class="ex">[</span><span class="st">"0xa9e98368b44b371cec7d205f9fe2b074b6134c95"</span><span class="ex">,</span> <span class="st">"0xc061b852a26bedec5bd457b88c031c46a622f4ab"</span>]</span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.getBalance<span class="kw">(</span><span class="st">"0xc061b852a26bedec5bd457b88c031c46a622f4ab"</span><span class="kw">)</span></span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a><span class="ex">0</span></span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> web3.fromWei<span class="kw">(</span><span class="ex">eth.getBalance</span><span class="er">(</span><span class="st">"0xa9e98368b44b371cec7d205f9fe2b074b6134c95"</span><span class="kw">)</span><span class="ex">,</span> <span class="st">"ether"</span><span class="kw">)</span></span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a><span class="ex">5004</span></span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.getBalance<span class="kw">(</span><span class="ex">eth.accounts[0]</span><span class="kw">)</span></span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a><span class="ex">5.004e+21</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Para enviar <span class="math inline">\(100\)</span> <em>ethers</em> da primeira para a segunda carteira:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.sendTransaction<span class="kw">(</span><span class="ex">{from:</span> <span class="st">"0xa9e98368b44b371cec7d205f9fe2b074b6134c95"</span>, to: <span class="st">"0xc061b852a26bedec5bd457b88c031c46a622f4ab"</span>, value: 100}<span class="kw">)</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Error:</span> authentication needed: password or unlock</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>        <span class="ex">at</span> web3.js:6365:9<span class="er">(</span><span class="ex">39</span><span class="kw">)</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>        <span class="ex">at</span> send <span class="er">(</span><span class="ex">web3.js:5099:62</span><span class="er">(</span><span class="ex">29</span><span class="kw">))</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>        <span class="ex">at</span> <span class="op">&lt;</span>eval<span class="op">&gt;</span>:1:20<span class="er">(</span><span class="ex">9</span><span class="kw">)</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.sendTransaction<span class="kw">(</span><span class="ex">{from:</span> <span class="st">"0xa9e98368b44b371cec7d205f9fe2b074b6134c95"</span>, to: <span class="st">"0xc061b852a26bedec5bd457b88c031c46a622f4ab"</span>, value:web3.toWei<span class="er">(</span><span class="ex">100,</span> <span class="st">"ether"</span><span class="kw">)</span><span class="er">}</span><span class="kw">)</span></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a><span class="ex">Error:</span> authentication needed: password or unlock</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>        <span class="ex">at</span> web3.js:6365:9<span class="er">(</span><span class="ex">39</span><span class="kw">)</span></span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>        <span class="ex">at</span> send <span class="er">(</span><span class="ex">web3.js:5099:62</span><span class="er">(</span><span class="ex">29</span><span class="kw">))</span></span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a>        <span class="ex">at</span> <span class="op">&lt;</span>eval<span class="op">&gt;</span>:1:20<span class="er">(</span><span class="ex">13</span><span class="kw">)</span></span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> personal.unlockAccount<span class="kw">(</span><span class="ex">eth.accounts[0]</span><span class="kw">)</span></span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a><span class="ex">ReferenceError:</span> personal is not defined</span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a>        <span class="ex">at</span> <span class="op">&lt;</span>eval<span class="op">&gt;</span>:1:1<span class="er">(</span><span class="ex">0</span><span class="kw">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>O erro <strong>“Error: authentication needed: password or unlock”</strong> ocorre por que precisamos autorizar a transação. Em versões anteriores era possível desbloquear as contas via <em>console</em> <code>javascript</code>, conforme tentamos no Código acima <code>personal.unlockAccount(eth.accounts[0])</code>. Verificando a documentação o <code>personal</code> foi depreciado e não pode ser mais utilizado.</p>
<p>Na versão corrente é preciso utilizar o <a href="https://geth.ethereum.org/docs/tools/clef/introduction"><code>clef</code></a> para fazer a autenticação em um <em>terminal</em> separado. O <code>clef</code> é um autenticador das operações, a Figura <span class="math inline">\(\ref{fig:clef:fluxo}\)</span> apresenta o fluxo de autenticação de uma transição solicitada pelo usuário.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figuras/clef_sign_flow.png" class="img-fluid figure-img"></p>
<figcaption>Fluxo de Autenticação com <a href="https://geth.ethereum.org/docs/tools/clef/introduction">clef</a> </figcaption>
</figure>
</div>
<p>Então em um outro <em>terminal</em> inicie a instância do <code>clef</code> com o comando:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[rogerio@ryzen-nitro</span> sepolia]$ clef <span class="at">--chainid</span> 11155111 <span class="at">--keystore</span> ~/.ethereum/sepolia/keystore <span class="at">--configdir</span> ~/.ethereum/sepolia/clef <span class="at">--http</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="ex">WARNING!</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a><span class="ex">Clef</span> is an account management tool. It may, like any software, contain bugs.</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a><span class="ex">Please</span> take care to</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span> backup your keystore files,</span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span> verify that the keystore<span class="er">(</span><span class="ex">s</span><span class="kw">)</span> <span class="ex">can</span> be opened with your password.</span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a><span class="ex">Clef</span> is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY<span class="kw">;</span></span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a><span class="ex">without</span> even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR</span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a><span class="ex">PURPOSE.</span> See the GNU General Public License for more details.</span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a><span class="ex">Enter</span> <span class="st">'ok'</span> to proceed:</span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> ok</span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-19<span class="kw">|</span><span class="ex">14:00:58.719]</span> Using CLI as UI-channel </span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-19<span class="kw">|</span><span class="ex">14:00:59.171]</span> Loaded 4byte database                    embeds=268,621 locals=0 local=./4byte-custom.json</span>
<span id="cb37-20"><a href="#cb37-20" aria-hidden="true" tabindex="-1"></a><span class="ex">WARN</span> [04-19<span class="kw">|</span><span class="ex">14:00:59.171]</span> Failed to open master, rules disabled    err=<span class="st">"failed stat on /home/rogerio/.ethereum/sepolia/clef/masterseed.json: stat /home/rogerio/.ethereum/sepolia/clef/masterseed.json: no such file or directory"</span></span>
<span id="cb37-21"><a href="#cb37-21" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-19<span class="kw">|</span><span class="ex">14:00:59.172]</span> Starting signer                          chainid=1,115,511 keystore=/home/rogerio/.ethereum/sepolia/keystore light-kdf=false advanced=false</span>
<span id="cb37-22"><a href="#cb37-22" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-19<span class="kw">|</span><span class="ex">14:00:59.184]</span> Smartcard socket file missing, disabling err=<span class="st">"stat /run/pcscd/pcscd.comm: no such file or directory"</span></span>
<span id="cb37-23"><a href="#cb37-23" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-19<span class="kw">|</span><span class="ex">14:00:59.184]</span> Audit logs configured                    file=audit.log</span>
<span id="cb37-24"><a href="#cb37-24" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-19<span class="kw">|</span><span class="ex">14:00:59.186]</span> HTTP endpoint opened                     url=http://127.0.0.1:8550/</span>
<span id="cb37-25"><a href="#cb37-25" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-19<span class="kw">|</span><span class="ex">14:00:59.186]</span> IPC endpoint opened                      url=/home/rogerio/.ethereum/sepolia/clef/clef.ipc</span>
<span id="cb37-26"><a href="#cb37-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-27"><a href="#cb37-27" aria-hidden="true" tabindex="-1"></a><span class="ex">-------</span> Signer info <span class="at">-------</span></span>
<span id="cb37-28"><a href="#cb37-28" aria-hidden="true" tabindex="-1"></a><span class="ex">*</span> extapi_ipc : /home/rogerio/.ethereum/sepolia/clef/clef.ipc</span>
<span id="cb37-29"><a href="#cb37-29" aria-hidden="true" tabindex="-1"></a><span class="ex">*</span> intapi_version : 7.0.1</span>
<span id="cb37-30"><a href="#cb37-30" aria-hidden="true" tabindex="-1"></a><span class="ex">*</span> extapi_version : 6.1.0</span>
<span id="cb37-31"><a href="#cb37-31" aria-hidden="true" tabindex="-1"></a><span class="ex">*</span> extapi_http : http://127.0.0.1:8550/</span>
<span id="cb37-32"><a href="#cb37-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-33"><a href="#cb37-33" aria-hidden="true" tabindex="-1"></a><span class="ex">-------</span> Available accounts <span class="at">-------</span></span>
<span id="cb37-34"><a href="#cb37-34" aria-hidden="true" tabindex="-1"></a><span class="ex">0.</span> 0xa9e98368B44b371ceC7d205F9fE2b074b6134C95 at keystore:///home/rogerio/.ethereum/sepolia/keystore/UTC--2023-04-17T00-51-24.03605278 5Z--a9e98368b44b371cec7d205f9fe2b074b6134c95</span>
<span id="cb37-35"><a href="#cb37-35" aria-hidden="true" tabindex="-1"></a><span class="ex">1.</span> 0xc061b852A26BEdeC5Bd457b88c031c46a622f4ab at keystore:///home/rogerio/.ethereum/sepolia/keystore/UTC--2023-04-17T00-53-06.37987339 5Z--c061b85 2a26bedec5bd457b88c031c46a622f4ab</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>O <code>clef</code> iniciará e listará as contas disponíveis que irá controlar.</p>
<p>O arquivo para a comunicação <code>IPC socket/pipe</code> será criado dentro do <em>datadir</em> <code>.ethereum/sepolia/ clef/clef.ipc</code>, se preferir o caminho onde o arquivo será criado pode ser fornecido como parâmetro <code>--ipcpath valor</code>.</p>
<p>Volte ao terminal onde iniciou o <code>geth</code> e indique que as autentificações serão via <code>clef</code> com o parâmetro <code>--signer=/home/rogerio/.ethereum/sepolia/clef/clef.ipc</code> passando o caminho dado pelo <code>clef</code>.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[rogerio@ryzen-nitro</span> execution]$ geth <span class="at">--sepolia</span> <span class="at">--syncmode</span> full <span class="at">--http</span> <span class="at">--http.addr</span> 127.0.0.1 <span class="at">--http.port</span> 8559 <span class="at">--http.api</span> <span class="st">"eth,net,web3,personal,engine,admin"</span> <span class="at">--keystore</span> ~/.ethereum/sepolia/keystore <span class="at">--authrpc.addr</span> localhost <span class="at">--authrpc.port</span> 8551 <span class="at">--authrpc.vhosts</span> localhost <span class="at">--authrpc.jwtsecret</span> ~/.ethereum/sepolia/geth/jwtsecret <span class="at">--nodiscover</span> <span class="at">--maxpeers</span> 15 <span class="at">--miner.etherbase</span><span class="op">=</span>0xa9e98368b44b371cec7d205f9fe2b074b6134c95 <span class="at">--signer</span><span class="op">=</span>/home/rogerio/.ethereum/sepolia/clef/clef.ipc</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Retorne ao <em>console</em> <code>javascript</code>, e execute novamente as transações, cada uma deverá ser autorizada no console do <code>clef</code>.</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.sendTransaction<span class="kw">(</span><span class="ex">{from:</span> <span class="st">"0xa9e98368b44b371cec7d205f9fe2b074b6134c95"</span>, to: <span class="st">"0xc061b852a26bedec5bd457b88c031c46a622f4ab"</span>, value: 100}<span class="kw">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>No <em>console</em> do <code>clef</code> é possível autorizar e ver a transação assinada com <em>hash:</em> <code>0xb579cc595601e4aca546ce4e46bdcded7841bd7f50a0a78c505e839dd039b8b9</code> que é o mesmo <code>id</code> devolvido no console <code>javascript</code>.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="ex">-------------------------------------------</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Request</span> context:</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>        <span class="ex">NA</span> <span class="at">-</span><span class="op">&gt;</span> ipc <span class="at">-</span><span class="op">&gt;</span> NA</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a><span class="ex">Additional</span> HTTP header data, provided by the external caller:</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>        <span class="ex">User-Agent:</span> <span class="st">""</span></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>        <span class="ex">Origin:</span> <span class="st">""</span></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a><span class="ex">Approve?</span> <span class="pp">[</span><span class="ss">y/N</span><span class="pp">]</span>:</span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> y</span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a><span class="ex">---------</span> Transaction request-------------</span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a><span class="ex">to:</span>    0xc061b852A26BEdeC5Bd457b88c031c46a622f4ab</span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a><span class="ex">from:</span>               0xa9e98368B44b371ceC7d205F9fE2b074b6134C95 [chksum ok]</span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a><span class="ex">value:</span>              100 wei</span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a><span class="ex">gas:</span>                0x5208 <span class="er">(</span><span class="ex">21000</span><span class="kw">)</span></span>
<span id="cb40-15"><a href="#cb40-15" aria-hidden="true" tabindex="-1"></a><span class="ex">maxFeePerGas:</span>          1000000014 wei</span>
<span id="cb40-16"><a href="#cb40-16" aria-hidden="true" tabindex="-1"></a><span class="ex">maxPriorityFeePerGas:</span>  1000000000 wei</span>
<span id="cb40-17"><a href="#cb40-17" aria-hidden="true" tabindex="-1"></a><span class="ex">nonce:</span>    0x0 <span class="er">(</span><span class="ex">0</span><span class="kw">)</span></span>
<span id="cb40-18"><a href="#cb40-18" aria-hidden="true" tabindex="-1"></a><span class="ex">chainid:</span>  0xaa36a7</span>
<span id="cb40-19"><a href="#cb40-19" aria-hidden="true" tabindex="-1"></a><span class="ex">Accesslist</span></span>
<span id="cb40-20"><a href="#cb40-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-21"><a href="#cb40-21" aria-hidden="true" tabindex="-1"></a><span class="ex">Request</span> context:</span>
<span id="cb40-22"><a href="#cb40-22" aria-hidden="true" tabindex="-1"></a>        <span class="ex">NA</span> <span class="at">-</span><span class="op">&gt;</span> ipc <span class="at">-</span><span class="op">&gt;</span> NA</span>
<span id="cb40-23"><a href="#cb40-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-24"><a href="#cb40-24" aria-hidden="true" tabindex="-1"></a><span class="ex">Additional</span> HTTP header data, provided by the external caller:</span>
<span id="cb40-25"><a href="#cb40-25" aria-hidden="true" tabindex="-1"></a>        <span class="ex">User-Agent:</span> <span class="st">""</span></span>
<span id="cb40-26"><a href="#cb40-26" aria-hidden="true" tabindex="-1"></a>        <span class="ex">Origin:</span> <span class="st">""</span></span>
<span id="cb40-27"><a href="#cb40-27" aria-hidden="true" tabindex="-1"></a><span class="ex">-------------------------------------------</span></span>
<span id="cb40-28"><a href="#cb40-28" aria-hidden="true" tabindex="-1"></a><span class="ex">Approve?</span> <span class="pp">[</span><span class="ss">y/N</span><span class="pp">]</span>:</span>
<span id="cb40-29"><a href="#cb40-29" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> y</span>
<span id="cb40-30"><a href="#cb40-30" aria-hidden="true" tabindex="-1"></a><span class="co">#\# Account password</span></span>
<span id="cb40-31"><a href="#cb40-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-32"><a href="#cb40-32" aria-hidden="true" tabindex="-1"></a><span class="ex">Please</span> enter the password for account 0xa9e98368B44b371ceC7d205F9fE2b074b6134C95</span>
<span id="cb40-33"><a href="#cb40-33" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> </span>
<span id="cb40-34"><a href="#cb40-34" aria-hidden="true" tabindex="-1"></a><span class="ex">-----------------------</span></span>
<span id="cb40-35"><a href="#cb40-35" aria-hidden="true" tabindex="-1"></a><span class="ex">Transaction</span> signed:</span>
<span id="cb40-36"><a href="#cb40-36" aria-hidden="true" tabindex="-1"></a> <span class="kw">{</span></span>
<span id="cb40-37"><a href="#cb40-37" aria-hidden="true" tabindex="-1"></a>    <span class="st">"type"</span><span class="ex">:</span> <span class="st">"0x2"</span>,</span>
<span id="cb40-38"><a href="#cb40-38" aria-hidden="true" tabindex="-1"></a>    <span class="st">"nonce"</span><span class="ex">:</span> <span class="st">"0x0"</span>,</span>
<span id="cb40-39"><a href="#cb40-39" aria-hidden="true" tabindex="-1"></a>    <span class="st">"gasPrice"</span><span class="ex">:</span> null,</span>
<span id="cb40-40"><a href="#cb40-40" aria-hidden="true" tabindex="-1"></a>    <span class="st">"maxPriorityFeePerGas"</span><span class="ex">:</span> <span class="st">"0x3b9aca00"</span>,</span>
<span id="cb40-41"><a href="#cb40-41" aria-hidden="true" tabindex="-1"></a>    <span class="st">"maxFeePerGas"</span><span class="ex">:</span> <span class="st">"0x3b9aca0e"</span>,</span>
<span id="cb40-42"><a href="#cb40-42" aria-hidden="true" tabindex="-1"></a>    <span class="st">"gas"</span><span class="ex">:</span> <span class="st">"0x5208"</span>,</span>
<span id="cb40-43"><a href="#cb40-43" aria-hidden="true" tabindex="-1"></a>    <span class="st">"value"</span><span class="ex">:</span> <span class="st">"0x64"</span>,</span>
<span id="cb40-44"><a href="#cb40-44" aria-hidden="true" tabindex="-1"></a>    <span class="st">"input"</span><span class="ex">:</span> <span class="st">"0x"</span>,</span>
<span id="cb40-45"><a href="#cb40-45" aria-hidden="true" tabindex="-1"></a>    <span class="st">"v"</span><span class="ex">:</span> <span class="st">"0x0"</span>,</span>
<span id="cb40-46"><a href="#cb40-46" aria-hidden="true" tabindex="-1"></a>    <span class="st">"r"</span><span class="ex">:</span> <span class="st">"0xcfaf8674159cf0618393d32bc4e421969acf3bc1c7dfc5bc13224025cc5a6e5e"</span>,</span>
<span id="cb40-47"><a href="#cb40-47" aria-hidden="true" tabindex="-1"></a>    <span class="st">"s"</span><span class="ex">:</span> <span class="st">"0x44cbc80e7123b73846caf72eb13312b8ac8a2dc323173a4b58491b1112c2298c"</span>,</span>
<span id="cb40-48"><a href="#cb40-48" aria-hidden="true" tabindex="-1"></a>    <span class="st">"to"</span><span class="ex">:</span> <span class="st">"0xc061b852a26bedec5bd457b88c031c46a622f4ab"</span>,</span>
<span id="cb40-49"><a href="#cb40-49" aria-hidden="true" tabindex="-1"></a>    <span class="st">"chainId"</span><span class="ex">:</span> <span class="st">"0xaa36a7"</span>,</span>
<span id="cb40-50"><a href="#cb40-50" aria-hidden="true" tabindex="-1"></a>    <span class="st">"accessList"</span><span class="ex">:</span> [],</span>
<span id="cb40-51"><a href="#cb40-51" aria-hidden="true" tabindex="-1"></a>    <span class="st">"hash"</span><span class="ex">:</span> <span class="st">"0x298bb20795a584c9bd038d47323f592e072b66eace172833d27acaad8278281a"</span></span>
<span id="cb40-52"><a href="#cb40-52" aria-hidden="true" tabindex="-1"></a>  <span class="kw">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Com a autorização feita no <em>console</em> do <code>clef</code> será mostrado as informações da transação assinada, como o <code>hash: 0x298bb20795a584c9bd038d47323f592e072b66eace172833d27acaad8278281a</code>. Observe que no <em>console</em> <code>javascript</code> aparece o mesmo <em>hash</em> da transação para a transação que solicitamos:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.sendTransaction<span class="kw">(</span><span class="ex">{from:</span> <span class="st">"0xa9e98368b44b371cec7d205f9fe2b074b6134c95"</span>, to: <span class="st">"0xc061b852a26bedec5bd457b88c031c46a622f4ab"</span>, value: 100}<span class="kw">)</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="st">"0x298bb20795a584c9bd038d47323f592e072b66eace172833d27acaad8278281a"</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Se buscarmos pelo recibo da transação ou verificarmos se o saldo da conta 1 foi alterado, veremos que a transação no foi efetivada ainda, pois a consulta devolve <code>null</code> e o saldo da conta ainda é zero.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.sendTransaction<span class="kw">(</span><span class="ex">{from:</span> <span class="st">"0xa9e98368b44b371cec7d205f9fe2b074b6134c95"</span>, to: <span class="st">"0xc061b852a26bedec5bd457b88c031c46a622f4ab"</span>, value: 100}<span class="kw">)</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="st">"0x298bb20795a584c9bd038d47323f592e072b66eace172833d27acaad8278281a"</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.getTransactionReceipt<span class="kw">(</span><span class="st">"0x298bb20795a584c9bd038d47323f592e072b66eace172833d27acaad 8278281a"</span><span class="kw">)</span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="ex">null</span></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.getBalance<span class="kw">(</span><span class="ex">eth.accounts[1]</span><span class="kw">)</span></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a><span class="ex">0</span></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.getBalance<span class="kw">(</span><span class="ex">eth.accounts[0]</span><span class="kw">)</span></span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a><span class="ex">5.004e+21</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>É preciso minerar para a transação ser efetivada:</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> miner.start<span class="kw">()</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a><span class="ex">null</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.getBalance<span class="kw">(</span><span class="ex">eth.accounts[1]</span><span class="kw">)</span></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a><span class="ex">100</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> miner.stop<span class="kw">()</span></span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a><span class="ex">null</span></span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.getBalance<span class="kw">(</span><span class="ex">eth.accounts[0]</span><span class="kw">)</span></span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a><span class="ex">5.0859999999999998529e+21</span></span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.getBalance<span class="kw">(</span><span class="ex">eth.accounts[1]</span><span class="kw">)</span></span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a><span class="ex">100</span></span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Agora sim, é possível recuper o recibo da transação. Desde do <em>fork</em> para a versão <code>Byzantium</code>, a <em>Ethereum</em> fornece uma forma de se verficar se a transação deu certo ou falhou, o campo <em>status</em> no recibo indica a situação (0 - falhou e 1 - foi executada com sucesso).</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.getTransactionReceipt<span class="kw">(</span><span class="st">"0x298bb20795a584c9bd038d47323f592e072b66eace172833d27acaad 8278281a"</span><span class="kw">)</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="kw">{</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">blockHash:</span> <span class="st">"0x1e3ae615a7d676cc51983ea066e2cda3a5d7702d27255065b330591cc3b9062f"</span>,</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>  <span class="ex">blockNumber:</span> 2503,</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>  <span class="ex">contractAddress:</span> null,</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>  <span class="ex">cumulativeGasUsed:</span> 21000,</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>  <span class="ex">effectiveGasPrice:</span> 1000000007,</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>  <span class="ex">from:</span> <span class="st">"0xa9e98368b44b371cec7d205f9fe2b074b6134c95"</span>,</span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>  <span class="ex">gasUsed:</span> 21000,</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>  <span class="ex">logs:</span> [],</span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>  <span class="ex">logsBloom:</span> <span class="st">"0x00000000000000000000000000000000000000000000000000000000000000000000000000000000</span></span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a><span class="st">  000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</span></span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a><span class="st">  000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</span></span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a><span class="st">  000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</span></span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a><span class="st">  000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</span></span>
<span id="cb44-16"><a href="#cb44-16" aria-hidden="true" tabindex="-1"></a><span class="st">  000000000000000000000000000000000000000000000000000000000000000000000000000000000000"</span>,</span>
<span id="cb44-17"><a href="#cb44-17" aria-hidden="true" tabindex="-1"></a>  <span class="ex">status:</span> <span class="st">"0x1"</span>,</span>
<span id="cb44-18"><a href="#cb44-18" aria-hidden="true" tabindex="-1"></a>  <span class="ex">to:</span> <span class="st">"0xc061b852a26bedec5bd457b88c031c46a622f4ab"</span>,</span>
<span id="cb44-19"><a href="#cb44-19" aria-hidden="true" tabindex="-1"></a>  <span class="ex">transactionHash:</span> <span class="st">"0x298bb20795a584c9bd038d47323f592e072b66eace172833d27acaad8278281a"</span>,</span>
<span id="cb44-20"><a href="#cb44-20" aria-hidden="true" tabindex="-1"></a>  <span class="ex">transactionIndex:</span> 0,</span>
<span id="cb44-21"><a href="#cb44-21" aria-hidden="true" tabindex="-1"></a>  <span class="ex">type:</span> <span class="st">"0x2"</span></span>
<span id="cb44-22"><a href="#cb44-22" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Ao enviar outra quantidade para a segunda conta é preciso autorizar a transação no console do <code>clef</code> e minerar novamente para ela ser efetivada.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.sendTransaction<span class="kw">(</span><span class="ex">{from:</span> <span class="st">"0xa9e98368b44b371cec7d205f9fe2b074b6134c95"</span>, to: <span class="st">"0xc061b852a26bedec5bd457b88c031c46a622f4ab"</span>, value: 1000}<span class="kw">)</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="st">"0x667f9570b629fdd437b112e4b5f388cbbe68efb43e0bdbb75bf9db473cbd00fc"</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.getBalance<span class="kw">(</span><span class="ex">eth.accounts[1]</span><span class="kw">)</span></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a><span class="ex">100</span></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> miner.start<span class="kw">()</span></span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a><span class="ex">null</span></span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.getBalance<span class="kw">(</span><span class="ex">eth.accounts[1]</span><span class="kw">)</span></span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a><span class="ex">1100</span></span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> miner.stop<span class="kw">()</span></span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a><span class="ex">null</span></span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.getBalance<span class="kw">(</span><span class="ex">eth.accounts[1]</span><span class="kw">)</span></span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a><span class="ex">1100</span></span>
<span id="cb45-15"><a href="#cb45-15" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.getBalance<span class="kw">(</span><span class="ex">eth.accounts[0]</span><span class="kw">)</span></span>
<span id="cb45-16"><a href="#cb45-16" aria-hidden="true" tabindex="-1"></a><span class="ex">5.1779999999999997049e+21</span></span>
<span id="cb45-17"><a href="#cb45-17" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>No <em>terminal</em> de execução do <code>geth</code> aparece que a transação foi submetida e após a mineração os saldos das contas foram atualizados.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="ex">INFO</span> [04-19<span class="kw">|</span><span class="ex">15:10:01.663]</span> Submitted transaction                    hash=0x667f9570b629fdd437b112e4b5f388cbbe68efb43e0bdbb75bf9db473cbd00fc from=0xa9e98368B44b371ceC7d205F9fE2b074b6134C95 nonce=1 recipient=0xc061b852A26BEdeC5Bd457b88c031c46a622f4ab value=1000</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>A transação <code>0x667f9570b629fdd437b112e4b5f388cbbe68efb43e0bdbb75bf9db473cbd00fc</code> foi autorizada e podemos verificar o saldo das carteiras.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.getTransactionReceipt<span class="kw">(</span><span class="st">"0x667f9570b629fdd437b112e4b5f388cbbe68efb43e0bdbb75bf9db47 3cbd00fc"</span><span class="kw">)</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="kw">{</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">blockHash:</span> <span class="st">"0x30643a61e054cc3a2e5ce04c67e4c14ed192a889cede500bcf214d754540fe6b"</span>,</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>  <span class="ex">blockNumber:</span> 2544,</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>  <span class="ex">contractAddress:</span> null,</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>  <span class="ex">cumulativeGasUsed:</span> 21000,</span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>  <span class="ex">effectiveGasPrice:</span> 1000000007,</span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>  <span class="ex">from:</span> <span class="st">"0xa9e98368b44b371cec7d205f9fe2b074b6134c95"</span>,</span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>  <span class="ex">gasUsed:</span> 21000,</span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>  <span class="ex">logs:</span> [],</span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a>  <span class="ex">logsBloom:</span> <span class="st">"0x00000000000000000000000000000000000000000000000000000000000000000000000000000000</span></span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a><span class="st">  000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</span></span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a><span class="st">  000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</span></span>
<span id="cb47-14"><a href="#cb47-14" aria-hidden="true" tabindex="-1"></a><span class="st">  000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</span></span>
<span id="cb47-15"><a href="#cb47-15" aria-hidden="true" tabindex="-1"></a><span class="st">  000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</span></span>
<span id="cb47-16"><a href="#cb47-16" aria-hidden="true" tabindex="-1"></a><span class="st">  000000000000000000000000000000000000000000000000000000000000000000000000000000000000"</span>,</span>
<span id="cb47-17"><a href="#cb47-17" aria-hidden="true" tabindex="-1"></a>  <span class="ex">status:</span> <span class="st">"0x1"</span>,</span>
<span id="cb47-18"><a href="#cb47-18" aria-hidden="true" tabindex="-1"></a>  <span class="ex">to:</span> <span class="st">"0xc061b852a26bedec5bd457b88c031c46a622f4ab"</span>,</span>
<span id="cb47-19"><a href="#cb47-19" aria-hidden="true" tabindex="-1"></a>  <span class="ex">transactionHash:</span> <span class="st">"0x667f9570b629fdd437b112e4b5f388cbbe68efb43e0bdbb75bf9db473cbd00fc"</span>,</span>
<span id="cb47-20"><a href="#cb47-20" aria-hidden="true" tabindex="-1"></a>  <span class="ex">transactionIndex:</span> 0,</span>
<span id="cb47-21"><a href="#cb47-21" aria-hidden="true" tabindex="-1"></a>  <span class="ex">type:</span> <span class="st">"0x2"</span></span>
<span id="cb47-22"><a href="#cb47-22" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb47-23"><a href="#cb47-23" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> eth.accounts</span>
<span id="cb47-24"><a href="#cb47-24" aria-hidden="true" tabindex="-1"></a><span class="ex">[</span><span class="st">"0xa9e98368b44b371cec7d205f9fe2b074b6134c95"</span><span class="ex">,</span> <span class="st">"0xc061b852a26bedec5bd457b88c031c46a622f4ab"</span>]</span>
<span id="cb47-25"><a href="#cb47-25" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> web3.fromWei<span class="kw">(</span><span class="ex">eth.getBalance</span><span class="er">(</span><span class="st">"0xa9e98368b44b371cec7d205f9fe2b074b6134c95"</span><span class="kw">)</span><span class="ex">,</span> <span class="st">"ether"</span><span class="kw">)</span></span>
<span id="cb47-26"><a href="#cb47-26" aria-hidden="true" tabindex="-1"></a><span class="ex">5177.9999999999997049</span></span>
<span id="cb47-27"><a href="#cb47-27" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> web3.fromWei<span class="kw">(</span><span class="ex">eth.getBalance</span><span class="er">(</span><span class="st">"0xc061b852a26bedec5bd457b88c031c46a622f4ab"</span><span class="kw">)</span><span class="ex">,</span> <span class="st">"ether"</span><span class="kw">)</span></span>
<span id="cb47-28"><a href="#cb47-28" aria-hidden="true" tabindex="-1"></a><span class="ex">1.1e-15</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Surgiu após a instalação e execução a seguinte mensagem:</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="ex">All</span> I see is, beacon client online, but never received consensus updates. Please ensure your beacon client is operational to follow the chain!</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a><span class="ex">I</span> connected the consensus client and it is syncing but not the geth client.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Procurando pela mensagem chegamos à resposta no forum <a href="https://ethereum.stackexchange.com/questions/136810/geth-does-not-sync-proof-of-stake" class="uri">https://ethereum.stackexchange.com/questions/136810/geth-does-not-sync-proof-of-stake</a> diz que é possível fazer uma sincronização rápida, usando um <em>checkpoint</em>.</p>
<blockquote class="blockquote">
<p><em>Your <code>geth</code> client will not start <code>sync</code> before your <code>consensus-client</code> does not sync completely. If you are using <code>prysm</code> consensus client, you can use <a href="https://ethereum.stackexchange.com/questions/136748/how-to-speed-up-prysm-sync"><code>checkpoint</code></a> sync feature to sync in minutes so you don’t need to wait.</em></p>
<p><em>This is also verified by <code>go-ethereum</code> team in this <a href="https://github.com/ethereum/go-ethereum/issues/25911">issue</a>.</em></p>
</blockquote>
<p>Clicando-se no <em>link</em> <a href="https://ethereum.stackexchange.com/questions/136748/how-to-speed-up-prysm-sync"><code>checkpoint</code></a> você será direcionado para a página da Figura:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figuras/checkpoint-sync.sepolia.png" class="img-fluid figure-img"></p>
<figcaption>Checkpoint checkpointz</figcaption>
</figure>
</div>
<!--
prysm beacon-chain --execution-endpoint=http://localhost:8551 --sepolia --suggested-fee-recipient=0x3437cd252485bff91957a874d449e437709f6f66 --jwt-secret=jwt.hex --genesis-state=genesis.ssz
-->
<p>Clicando no botão <code>Get started!</code> ele vai para as opções de configuração de cada um dos clientes de consenso, conforme a Figura <span class="math inline">\(\ref{fig:checkpointz:prysm}\)</span>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figuras/checkpoint-sync-sepolia-prysm.png" class="img-fluid figure-img"></p>
<figcaption>Checkpointz, configuração do <code>prysm</code> </figcaption>
</figure>
</div>
<p>No passo a passo da configuração para o <code>Prysm</code>, no <em>Step 2</em> fala para adicionarmos os argumentos <em>checkpoint sync</em> para o nosso cliente:</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="ex">--checkpoint-sync-url=https://checkpoint-sync.sepolia.ethpandaops.io</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="ex">--genesis-beacon-api-url=https://checkpoint-sync.sepolia.ethpandaops.io</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>O comando do terminal do <code>prysm</code> deve ser alterado para:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[rogerio@ryzen-nitro</span> prysm]$ ./prysm.sh beacon-chain <span class="at">--execution-endpoint</span><span class="op">=</span>http://localhost:8551 <span class="at">--sepolia</span> <span class="at">--jwt-secret</span><span class="op">=</span>~/.ethereum/sepolia/geth/jwtsecret <span class="at">--genesis-state</span><span class="op">=</span>genesis.ssz <span class="at">--suggested-fee-recipient</span><span class="op">=</span>0xa9e98368b44b371cec7d205f9fe2b074b6134c95 <span class="at">--checkpoint-sync-url</span><span class="op">=</span>https://checkpoint-sync.sepolia.ethpandaops.io <span class="at">--genesis-beacon-api-url</span><span class="op">=</span>https://checkpoint-sync.sepolia.ethpandaops.io</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Na <code>Option B</code> do <em>Step 4</em> é necessário recuperar os valores do <code>slot number</code> e do <code>state_root</code>.</p>
<pre class="text"><code>1. Open http://YOUR\_NODE\_IP:YOUR\_NODE\_PORT/eth/v1/beacon/headers/finalized in your browser.
2. Find the slot number.
3. Find the state_root value.</code></pre>
<p>Será necessário conhecer o IP e a porta do <em>beacon node.</em> A porta padrão para o <code>Prysm</code> é <code>3500</code>.</p>
<p>Abrindo no navegador o link <a href="http://localhost:3500/eth/v1/beacon/headers/finalized" class="uri">http://localhost:3500/eth/v1/beacon/headers/finalized</a> será retornado o <code>JSON</code> com as informações:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode json code-with-copy"><code class="sourceCode json"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a> <span class="dt">"data"</span><span class="fu">:{</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>   <span class="dt">"root"</span><span class="fu">:</span><span class="st">"0xc41093353f2a6bb5b63ac406ac040d95a28cf54ec3d6f0f232955d8e2456727c"</span><span class="fu">,</span></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>   <span class="dt">"canonical"</span><span class="fu">:</span><span class="kw">true</span><span class="fu">,</span></span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>   <span class="dt">"header"</span><span class="fu">:{</span></span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>     <span class="dt">"message"</span><span class="fu">:{</span></span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>       <span class="dt">"slot"</span><span class="fu">:</span><span class="st">"3149344"</span><span class="fu">,</span></span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>       <span class="dt">"proposer_index"</span><span class="fu">:</span><span class="st">"683"</span><span class="fu">,</span></span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a>       <span class="dt">"parent_root"</span><span class="fu">:</span><span class="st">"0xe5af6c8eaaeb1fb511966164a4093b77e18a160a921765a10c686d38f55240f1"</span><span class="fu">,</span></span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a>       <span class="dt">"state_root"</span><span class="fu">:</span><span class="st">"0xa055b83978259840e18c2a0e6e625982f2944ff8d906c01e7bab0bc2883cb793"</span><span class="fu">,</span></span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a>       <span class="dt">"body_root"</span><span class="fu">:</span><span class="st">"0xd5e597557fe3145b1485815e2e42b1e56640188df6136056313cfc37c07eb5d3"</span></span>
<span id="cb52-12"><a href="#cb52-12" aria-hidden="true" tabindex="-1"></a>     <span class="fu">},</span></span>
<span id="cb52-13"><a href="#cb52-13" aria-hidden="true" tabindex="-1"></a>   <span class="dt">"signature"</span><span class="fu">:</span><span class="st">"0x92f5babf32748c31f74d988869b7f7bc3f251056d117a4e63882fa2e3fa4b219e47f949</span></span>
<span id="cb52-14"><a href="#cb52-14" aria-hidden="true" tabindex="-1"></a><span class="st">   9f17f965f39d877ea83cf0cbf0de9879350ebc3024fb6fb6f37e9d16fae379ec0e127e7bef5e0a6d6587d2</span></span>
<span id="cb52-15"><a href="#cb52-15" aria-hidden="true" tabindex="-1"></a><span class="st">   cfb885b824d59d1d7cf78e9f43daf987fe7"</span></span>
<span id="cb52-16"><a href="#cb52-16" aria-hidden="true" tabindex="-1"></a>   <span class="fu">}</span></span>
<span id="cb52-17"><a href="#cb52-17" aria-hidden="true" tabindex="-1"></a> <span class="fu">},</span></span>
<span id="cb52-18"><a href="#cb52-18" aria-hidden="true" tabindex="-1"></a> <span class="dt">"execution_optimistic"</span><span class="fu">:</span><span class="kw">true</span><span class="fu">,</span></span>
<span id="cb52-19"><a href="#cb52-19" aria-hidden="true" tabindex="-1"></a> <span class="dt">"finalized"</span><span class="fu">:</span><span class="kw">true</span></span>
<span id="cb52-20"><a href="#cb52-20" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Uma outra opção dada na <em>Option C</em> é utilizar os comandos <code>curl</code> e o <code>jq</code> e recuperar a informação pelo terminal.</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[rogerio@ryzen-nitro</span> prysm]$ curl <span class="at">-s</span> http://localhost:3500/eth/v1/beacon/headers/finalized <span class="kw">|</span> <span class="ex">jq</span> .<span class="st">'data.header.message'</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="kw">{</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"slot"</span><span class="ex">:</span> <span class="st">"3154944"</span>,</span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"proposer_index"</span><span class="ex">:</span> <span class="st">"187"</span>,</span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"parent_root"</span><span class="ex">:</span> <span class="st">"0xb89973544675c63c5f19f5904b8eaa164fc41c688ecb3078ee0dc62a62996c9b"</span>,</span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"state_root"</span><span class="ex">:</span> <span class="st">"0x041fb39788896d2c0662e104ab7393124140546aacbeaedc2b7f94b9b5fcc548"</span>,</span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"body_root"</span><span class="ex">:</span> <span class="st">"0x128fe8300ed3e76226ca14955790583df1921ed9c65d111804db319b7b6118ba"</span></span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a><span class="ex">[rogerio@ryzen-nitro</span> prysm]$</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Para verificar seu <code>slot</code> e seu <code>state_root</code> abra uma outra instância do site <a href="https://checkpoint-sync.sepolia.ethpandaops.io/">Checkpointz</a>, note que deve ser uma instância diferente da que você está lendo esse tutorial.</p>
<p>Verifique a tabela do histórico de limites de época finalizados e procure a linha que contém o valor do seu <code>slot</code> e tenha certeza que o seu <code>state_root</code> casa com o listado. Se coincidir, ok!</p>
<p>Caso contrário, você deveria iniciar do início novamente limpando seu nó beacon e iniciando novamente os passos. Existem a opção do <code>prysm</code> <code>--clear-db</code> para limpar o banco de dados.</p>
<p>Pelo visto a parte que envolvia a mineração não funciona mais. Ao executar o comando no console javascript <code>miner.start()</code> a seguinte mensagem de erro aconteceu:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="ex">panic:</span> ethash <span class="er">(</span><span class="ex">pow</span><span class="kw">)</span> <span class="ex">sealing</span> not supported any more</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a><span class="ex">goroutine</span> 4324 <span class="pp">[</span><span class="ss">running</span><span class="pp">]</span>:</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a><span class="ex">github.com/ethereum/go-ethereum/consensus/ethash.</span><span class="er">(</span><span class="ex">*Ethash</span><span class="kw">)</span><span class="ex">.Seal</span><span class="er">(</span><span class="ex">0xc000199680?,</span> {0x5607920e8325<span class="pp">?</span>, 0xc000c85ce0<span class="pp">?</span>}, 0xc000c85de8<span class="pp">?</span>, 0xc000c85ce0<span class="pp">?</span>, 0x8ba4636bba1627dc<span class="pp">?</span><span class="kw">)</span></span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>        <span class="ex">github.com/ethereum/go-ethereum/consensus/ethash/ethash.go:84</span> +0x25</span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a><span class="ex">github.com/ethereum/go-ethereum/consensus/beacon.</span><span class="er">(</span><span class="ex">*Beacon</span><span class="kw">)</span><span class="ex">.Seal</span><span class="er">(</span><span class="ex">0xc0002d1bf0,</span> {0x560793c496a8, 0xc000601c00}, 0xc0002381e0, 0x0<span class="pp">?</span>, 0x1<span class="pp">?</span><span class="kw">)</span></span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>        <span class="ex">github.com/ethereum/go-ethereum/consensus/beacon/consensus.go:393</span> +0x8d</span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a><span class="ex">github.com/ethereum/go-ethereum/miner.</span><span class="er">(</span><span class="ex">*worker</span><span class="kw">)</span><span class="ex">.taskLoop</span><span class="er">(</span><span class="ex">0xc0004da6c0</span><span class="kw">)</span></span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a>        <span class="ex">github.com/ethereum/go-ethereum/miner/worker.go:616</span> +0x2fd</span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a><span class="ex">created</span> by github.com/ethereum/go-ethereum/miner.newWorker in goroutine 1</span>
<span id="cb54-11"><a href="#cb54-11" aria-hidden="true" tabindex="-1"></a>        <span class="ex">github.com/ethereum/go-ethereum/miner/worker.go:285</span> +0x8f8</span>
<span id="cb54-12"><a href="#cb54-12" aria-hidden="true" tabindex="-1"></a><span class="ex">[rogerio@ryzen-nitro</span> sepolia]$ </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Outras mensagens de erros envolvendo o <code>Prysm</code> podem ser encontradas na documentação <a href="https://docs.prylabs.network/docs/troubleshooting/issues-errors" class="uri">https://docs.prylabs.network/docs/troubleshooting/issues-errors</a>.</p>
</section>
<section id="pedindo-recursos-para-um-faucet" class="level2" data-number="5.16">
<h2 data-number="5.16" class="anchored" data-anchor-id="pedindo-recursos-para-um-faucet"><span class="header-section-number">5.16</span> Pedindo Recursos para um Faucet</h2>
<p>Uma alternativa ao teste com a mineração local seria solicita recursos a um <code>faucet</code>, ao <a href="https://sepoliafaucet.com/">https://sepoliafaucet.com/</a>, por exemplo.</p>
<p>Nesses sistemas, você fornece o <code>hash</code> da conta desejada e uma pequena quantia será enviada para seu endereço. A Figura <span class="math inline">\(\ref{fig:transacao:faucet:01}\)</span> apresenta a interface do <code>faucet</code>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figuras/transacao-faucet-01-0x6f6af2e2e1d562ac4fc793b4a8ee21f37b1b881a0bee4b3eba669a94f2454834.png" class="img-fluid figure-img"></p>
<figcaption>Faucet </figcaption>
</figure>
</div>
<p>As Figuras <span class="math inline">\(\ref{fig:transacao:faucet:02}\)</span> e <span class="math inline">\(\ref{fig:transacao:faucet:03}\)</span> apresentam detalhes da transação gerada.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figuras/transacao-faucet-02-0x6f6af2e2e1d562ac4fc793b4a8ee21f37b1b881a0bee4b3eba669a94f2454834.png" class="img-fluid figure-img"></p>
<figcaption>Faucet </figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figuras/transacao-faucet-03-0x6f6af2e2e1d562ac4fc793b4a8ee21f37b1b881a0bee4b3eba669a94f2454834.png" class="img-fluid figure-img"></p>
<figcaption>Faucet </figcaption>
</figure>
</div>
</section>
<section id="importando-contas-do-metamask" class="level2" data-number="5.17">
<h2 data-number="5.17" class="anchored" data-anchor-id="importando-contas-do-metamask"><span class="header-section-number">5.17</span> Importando contas do Metamask</h2>
<p>Criar um aquivo com o nome do hash da conta. Exportar no Metamask a chave privada e salvar como conteúdo desse arquivo.</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[rogerio@ryzen-nitro</span> ~]$ nano 0x9DBf97c71AeD31302e07e34236308C97f882f914.txt</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="ex">[rogerio@ryzen-nitro</span> ~]$ clef <span class="at">--chainid</span> 11155111 <span class="at">--keystore</span> ~/.ethereum/sepolia/keystore importraw 0x9DBf97c71AeD31302e07e34236308C97f882f914.txt </span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a><span class="ex">WARNING!</span></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a><span class="ex">Clef</span> is an account management tool. It may, like any software, contain bugs.</span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a><span class="ex">Please</span> take care to</span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span> backup your keystore files,</span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span> verify that the keystore<span class="er">(</span><span class="ex">s</span><span class="kw">)</span> <span class="ex">can</span> be opened with your password.</span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a><span class="ex">Clef</span> is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY<span class="kw">;</span></span>
<span id="cb55-13"><a href="#cb55-13" aria-hidden="true" tabindex="-1"></a><span class="ex">without</span> even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR</span>
<span id="cb55-14"><a href="#cb55-14" aria-hidden="true" tabindex="-1"></a><span class="ex">PURPOSE.</span> See the GNU General Public License for more details.</span>
<span id="cb55-15"><a href="#cb55-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-16"><a href="#cb55-16" aria-hidden="true" tabindex="-1"></a><span class="ex">Enter</span> <span class="st">'ok'</span> to proceed:</span>
<span id="cb55-17"><a href="#cb55-17" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> ok</span>
<span id="cb55-18"><a href="#cb55-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-19"><a href="#cb55-19" aria-hidden="true" tabindex="-1"></a><span class="co">## Password</span></span>
<span id="cb55-20"><a href="#cb55-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-21"><a href="#cb55-21" aria-hidden="true" tabindex="-1"></a><span class="ex">Please</span> enter a password for the imported account</span>
<span id="cb55-22"><a href="#cb55-22" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> </span>
<span id="cb55-23"><a href="#cb55-23" aria-hidden="true" tabindex="-1"></a><span class="ex">-----------------------</span></span>
<span id="cb55-24"><a href="#cb55-24" aria-hidden="true" tabindex="-1"></a><span class="co">## Password</span></span>
<span id="cb55-25"><a href="#cb55-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-26"><a href="#cb55-26" aria-hidden="true" tabindex="-1"></a><span class="ex">Please</span> repeat the password you just entered</span>
<span id="cb55-27"><a href="#cb55-27" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> </span>
<span id="cb55-28"><a href="#cb55-28" aria-hidden="true" tabindex="-1"></a><span class="ex">-----------------------</span></span>
<span id="cb55-29"><a href="#cb55-29" aria-hidden="true" tabindex="-1"></a><span class="co">## Info </span></span>
<span id="cb55-30"><a href="#cb55-30" aria-hidden="true" tabindex="-1"></a><span class="ex">Key</span> imported:</span>
<span id="cb55-31"><a href="#cb55-31" aria-hidden="true" tabindex="-1"></a>  <span class="ex">Address</span> 0x9DBf97c71AeD31302e07e34236308C97f882f914</span>
<span id="cb55-32"><a href="#cb55-32" aria-hidden="true" tabindex="-1"></a>  <span class="ex">Keystore</span> file: /home/rogerio/.ethereum/sepolia/keystore/UTC--2024-09-12T14-29-06.549845800Z--9dbf97c71aed31302e07e34236308c97f882f914</span>
<span id="cb55-33"><a href="#cb55-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-34"><a href="#cb55-34" aria-hidden="true" tabindex="-1"></a><span class="ex">The</span> key is now encrypted<span class="kw">;</span> <span class="ex">losing</span> the password will result in permanently losing</span>
<span id="cb55-35"><a href="#cb55-35" aria-hidden="true" tabindex="-1"></a><span class="ex">access</span> to the key and all associated funds!</span>
<span id="cb55-36"><a href="#cb55-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-37"><a href="#cb55-37" aria-hidden="true" tabindex="-1"></a><span class="ex">Make</span> sure to backup keystore and passwords in a safe location.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="comandos-finais" class="level2" data-number="5.18">
<h2 data-number="5.18" class="anchored" data-anchor-id="comandos-finais"><span class="header-section-number">5.18</span> Comandos Finais</h2>
<p>A Figura <span class="math inline">\(\ref{fig:terminais:comandos}\)</span> apresenta os comandos para cada um dos terminais.</p>
<!--
prysm beacon-chain --execution-endpoint=http://localhost:8551 --sepolia --suggested-fee-recipient=0x3437cd252485bff91957a874d449e437709f6f66 --jwt-secret=jwt.hex --genesis-state=genesis.ssz


./prysm.sh beacon-chain --execution-endpoint=http://localhost:8551 --sepolia --jwt-secret=~/.ethereum/sepolia/geth/jwtsecret --genesis-state=genesis.ssz --suggested-fee-recipient=0xa9e98368b44b371cec7d205f9fe2b074b6134c95 --checkpoint-sync-url=https://checkpoint-sync.sepolia.ethpandaops.io --genesis-beacon-api-url=https://checkpoint-sync.sepolia.ethpandaops.io


geth --sepolia --syncmode full --http --http.addr 127.0.0.1 --http.port 8559 --http.api "eth,net,web3,personal,engine,admin" --keystore ~/.ethereum/sepolia/keystore --authrpc.addr localhost --authrpc.port 8551 --authrpc.vhosts localhost --authrpc.jwtsecret ~/.ethereum/sepolia/geth/jwtsecret --nodiscover --maxpeers 15 --miner.etherbase=0xa9e98368B44b371ceC7d205F9fE2b074b6134C95 --signer=/home/rogerio/.ethereum/sepolia/clef/clef.ipc --verbosity 3
-->
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figuras/tela-terminal-4-consoles.png" class="img-fluid figure-img" style="width:75.0%"></p>
<figcaption>Terminais </figcaption>
</figure>
</div>
<p>O comando para o console do <code>clef</code>:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[rogerio@ryzen-nitro</span> clef]$ clef <span class="at">--chainid</span> 11155111 <span class="at">--keystore</span> ~/.ethereum/sepolia/keystore <span class="at">--configdir</span> ~/.ethereum/sepolia/clef <span class="at">--http</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>O comando para o console do <code>Geth</code>:</p>
<!--
[Código @lst:comando:geth]

```{#lst:comando:geth .bash caption="Comando do Terminal -- Geth"}-->
<div class="sourceCode" id="cb57"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[rogerio@ryzen-nitro</span> sepolia]$ geth <span class="at">--sepolia</span> <span class="at">--syncmode</span> full <span class="at">--http</span> <span class="at">--http.addr</span> 127.0.0.1 <span class="at">--http.port</span> 8559 <span class="at">--http.api</span> <span class="st">"eth,net,web3,personal,engine,admin"</span> <span class="at">--keystore</span> ~/.ethereum/sepolia/keystore <span class="at">--authrpc.addr</span> localhost <span class="at">--authrpc.port</span> 8551 <span class="at">--authrpc.vhosts</span> localhost <span class="at">--authrpc.jwtsecret</span> ~/.ethereum/sepolia/geth/jwtsecret <span class="at">--nodiscover</span> <span class="at">--maxpeers</span> 15 <span class="at">--miner.etherbase</span><span class="op">=</span>0xa9e98368B44b371ceC7d205F9fE2b074b6134C95 <span class="at">--signer</span><span class="op">=</span>/home/rogerio/.ethereum/sepolia/clef/clef.ipc <span class="at">--verbosity</span> 3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>O comando para o console do <code>prysm</code>:</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[rogerio@ryzen-nitro</span> prysm]$ ./prysm.sh beacon-chain <span class="at">--execution-endpoint</span><span class="op">=</span>http://localhost:8551 <span class="at">--sepolia</span> <span class="at">--jwt-secret</span><span class="op">=</span>~/.ethereum/sepolia/geth/jwtsecret <span class="at">--suggested-fee-recipient</span><span class="op">=</span>0xa9e98368b44b371cec7d205f9fe2b074b6134c95 <span class="at">--genesis-state</span><span class="op">=</span>genesis.ssz <span class="at">--checkpoint-sync-url</span><span class="op">=</span>https://checkpoint-sync.sepolia.ethpandaops.io <span class="at">--genesis-beacon-api-url</span><span class="op">=</span>https://checkpoint-sync.sepolia.ethpandaops.io <span class="at">--clear-db</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>O comando para o console do <code>javascript</code>:</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[rogerio@ryzen-nitro</span> ~]$ geth attach /home/rogerio/.ethereum/sepolia/geth.ipc</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Welcome</span> to the Geth JavaScript console!</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a><span class="ex">instance:</span> Geth/v1.12.2-stable-bed84606/linux-amd64/go1.21.0</span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a><span class="ex">coinbase:</span> 0xa9e98368b44b371cec7d205f9fe2b074b6134c95</span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a><span class="ex">at</span> block: 0 <span class="er">(</span><span class="ex">Sun</span> Oct 03 2021 10:24:41 GMT-0300 <span class="er">(</span><span class="ex">-03</span><span class="kw">))</span></span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a> <span class="ex">datadir:</span> /home/rogerio/.ethereum/sepolia</span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a> <span class="ex">modules:</span> admin:1.0 debug:1.0 engine:1.0 eth:1.0 miner:1.0 net:1.0 rpc:1.0 txpool:1.0 web3:1.0</span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a><span class="ex">To</span> exit, press ctrl-d or type exit</span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="referências" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> Referências</h1>
<section id="leitura-recomendada" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="leitura-recomendada"><span class="header-section-number">6.1</span> Leitura Recomendada</h2>
<p>[alertblock]{Leitura Recomendada}</p>
<p><strong>Capítulo 11: Ethereum 101</strong></p>
<p><strong>Livro</strong>: <a href="https://search.ebscohost.com/login.aspx?direct=true&amp;db=e000xww&amp;AN=1789486&amp;authtype=shib&amp;lang=pt-br&amp;site=eds-live&amp;scope=site&amp;ebv=EB&amp;ppid=pp_276">IMRAN BASHIR. Mastering Blockchain : Distributed Ledger Technology, Decentralization, and Smart Contracts Explained, 2nd Edition.</a></p>
<p><strong>Capítulo 12: Futher Ethereum</strong></p>
<p><strong>Livro</strong>: <a href="https://search.ebscohost.com/login.aspx?direct=true&amp;db=e000xww&amp;AN=1789486&amp;authtype=shib&amp;lang=pt-br&amp;site=eds-live&amp;scope=site&amp;ebv=EB&amp;ppid=pp_310">IMRAN BASHIR. Mastering Blockchain : Distributed Ledger Technology, Decentralization, and Smart Contracts Explained, 2nd Edition.</a></p>
<p>[/alertblock]</p>
</section>
<section id="word-cloud" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="word-cloud"><span class="header-section-number">6.2</span> <em>Word Cloud</em></h2>
<p><img src="figuras/aula-05-pratica-instalando-cliente-ethereum.md.wordcloud.png" class="img-fluid" style="width:100.0%"></p>
</section>
<section id="referências-1" class="level2 fragile allowframebreaks" data-number="6.3">
<h2 class="fragile allowframebreaks anchored" data-number="6.3" data-anchor-id="referências-1"><span class="header-section-number">6.3</span> Referências</h2>
<div id="refs" role="list" style="display: none">

</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/rogerioag\.github\.io\/tecnologias-blockchain");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../aula-03-pratica-ethereum-virtual-machine/aula-03-pratica-ethereum-virtual-machine.html" class="pagination-link" aria-label="Prática: Explorando a _Ethereum Virtual Machine (EVM)_">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Prática: Explorando a <em>Ethereum Virtual Machine (EVM)</em></span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../aula-05-pratica-rede-ethereum-privada-ethash/aula-05-pratica-rede-ethereum-privada-ethash.html" class="pagination-link" aria-label="Prática: Criando uma Rede Ethereum Privada: `Ethash`">
        <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Prática: Criando uma Rede Ethereum Privada: <code>Ethash</code></span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/rogerioag/tecnologias-blockchain/edit/master/aula-04-pratica-instalando-cliente-ethereum/aula-04-pratica-instalando-cliente-ethereum.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li></ul></div></div></div></footer></body></html>